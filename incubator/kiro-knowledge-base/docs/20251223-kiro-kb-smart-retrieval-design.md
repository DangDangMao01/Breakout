---
date: 2025-12-23
domain: kiro
tags: [kiro, knowledge-base, automation, steering, optimization]
status: in_progress
---

# Kiro 知识库智能检索与保存系统设计

## 背景

优化知识库系统，实现：
1. 用户提问时自动检索历史知识
2. 重复问题直接调取方案，节省 Token
3. 新问题提炼最优方案保存（非原始对话）

## 设计流程

```
用户提问
    ↓
【Step 1】先检查知识库
    ├── 读取 INDEX.md
    ├── 搜索相关关键词
    │
    ├─→ 找到匹配 → 调取方案 → 询问是否执行
    │                         ├── 是 → 执行方案（节省 Token）
    │                         └── 否 → 正常解答
    │
    └─→ 无匹配 → 正常解答 → 【Step 2】
                              ↓
                    提炼最优方案（非原始对话）
                              ↓
                    保存为 Kiro 可读格式
```

## 已完成

- [x] 更新 Steering 规则实现智能检索
- [x] 定义 Kiro 可读文档格式
- [x] 初步测试（同一对话内）

## 待完成

- [ ] 在新对话/新项目中测试
- [ ] 验证跨设备知识检索
- [ ] 解决同步文档标签问题

## Token 消耗分析

- 短期：每次对话多消耗 ~1500 Token
- 长期：同一问题问 2 次以上即可回本
- 知识积累越多，节省越明显

## 合规性

此功能使用 Kiro 官方 Steering 功能，完全合规，不会触发平台限制。
