# 跨设备上下文恢复指南

> 适用场景：在新设备上继续开发，让 Kiro AI 快速恢复上下文  
> 当前版本：v2.52.0  
> 更新时间：2026-01-12

---

## 🤖 自动恢复（推荐）

项目已配置多个 Steering 规则，自动化跨设备开发：

**1. 自动上下文恢复**（`.kiro/steering/auto-context-recovery.md`）
只需说：
```
继续开发
```
Kiro 会自动读取 `SESSION-STATE.md`、`DEVELOPMENT-ROADMAP.md` 和 `CHANGELOG.md`，然后确认当前状态。

**2. 开发决策记录规范**（`.kiro/steering/development-decisions.md`）🆕
AI 会自动遵守决策记录规范：
- 记录"为什么"这样做，不只是"做了什么"
- 记录考虑过的方案和放弃的原因
- 提供具体的下一步操作（不是模糊的"继续开发"）

---

## 🎯 目标

在新设备上打开项目后，让 Kiro AI 快速了解：
- 项目当前状态（v2.52.0 已完成）
- 最近完成的工作
- 下一步开发计划
- 技术实现细节

---

## 📋 3 步快速恢复（手动方式）

### Step 1: 拉取最新代码

```bash
# 进入项目目录
cd D:\G_GitHub\Kiro-KB-Plugin

# 拉取最新代码
git pull origin main

# 确认当前版本
git describe --tags
# 应该显示: v2.52.0
```

### Step 2: 在 Kiro 中发送恢复提示词

**复制下面的提示词，粘贴到 Kiro 聊天框：**

```
我刚切换到另一台设备，需要恢复项目上下文。

请按顺序读取以下文件：

1. kiro-knowledge-base/SESSION-2026-01-09.md
   （今天的完整会话记录，包含 v2.52.0 所有开发细节）

2. SESSION-STATE.md
   （项目整体状态和下一步计划）

3. kiro-knowledge-base/RELEASE-NOTES-v2.52.0.md
   （v2.52.0 功能说明）

读取完成后，请告诉我：
- v2.52.0 的完成状态
- 核心改进内容
- 下一步可以做什么（测试/发布/v2.53.0）
```

### Step 3: 等待 Kiro 读取并确认

Kiro 会自动读取这些文件，然后告诉你：
- ✅ v2.52.0 已完成并发布
- ✅ 5个核心改进（首次引导、侧边栏简化、帮助系统等）
- ✅ 下一步选项（测试、发布、或开始 v2.53.0）

---

## 🔍 详细版恢复提示词

如果需要更详细的技术上下文，使用这个：

```
我刚切换到另一台设备，需要恢复 Kiro KB 插件的开发上下文。

请按顺序读取以下文件：

【核心状态】
1. SESSION-STATE.md
   - 了解项目整体进度
   - 查看当前任务和下一步计划

2. kiro-knowledge-base/SESSION-2026-01-09.md
   - 今天的完整会话记录
   - v2.52.0 开发的所有细节
   - 包含代码示例和改进数据

【技术细节】
3. kiro-knowledge-base/docs/v2.52.0-summary.md
   - v2.52.0 开发总结
   - 技术实现细节
   - 文件清单

4. kiro-knowledge-base/RELEASE-NOTES-v2.52.0.md
   - v2.52.0 功能说明
   - 用户可见的改进

【如果需要查看代码】
5. kiro-knowledge-base/extension/src/setupWizard.ts
   - 首次使用引导实现（350+ 行）

6. kiro-knowledge-base/extension/src/simplifiedPanel.ts
   - 侧边栏简化实现（450+ 行）

7. kiro-knowledge-base/extension/src/helpSystem.ts
   - 帮助系统实现（400+ 行）

读取完成后，请总结：
1. v2.52.0 的完成状态
2. 核心改进和效果数据
3. 下一步建议（3个选项）
4. 如果我要继续开发，需要注意什么
```

---

## 💡 快速提示词（极简版）

如果只需要快速了解状态：

```
读取 SESSION-STATE.md 和 kiro-knowledge-base/SESSION-2026-01-09.md，
告诉我项目当前状态和下一步可以做什么。
```

---

## 🎯 不同场景的提示词

### 场景 1：继续开发 v2.53.0

```
我要开始 v2.53.0 开发。

请读取：
1. SESSION-STATE.md - 查看 v2.53.0 计划
2. kiro-knowledge-base/SESSION-2026-01-09.md - 了解 v2.52.0 完成情况

然后告诉我：
- v2.53.0 的开发计划是什么
- 需要做哪些改进
- 从哪里开始
```

### 场景 2：测试 v2.52.0

```
我要测试 v2.52.0 新功能。

请读取：
1. kiro-knowledge-base/RELEASE-NOTES-v2.52.0.md
2. kiro-knowledge-base/docs/v2.52.0-summary.md

然后告诉我：
- v2.52.0 有哪些新功能
- 如何测试这些功能
- 测试重点是什么
```

### 场景 3：发布 v2.52.0

```
我要发布 v2.52.0 到 GitHub。

请读取：
1. kiro-knowledge-base/SESSION-2026-01-09.md
2. kiro-knowledge-base/RELEASE-NOTES-v2.52.0.md

然后告诉我：
- v2.52.0 是否已经准备好发布
- 需要创建哪些内容（Release、VSIX 上传等）
- 发布步骤是什么
```

### 场景 4：修复 Bug

```
我发现了一个 Bug，需要修复。

请读取：
1. SESSION-STATE.md - 了解当前状态
2. kiro-knowledge-base/extension/src/setupWizard.ts - 查看相关代码

Bug 描述：[在这里描述 Bug]

请帮我分析问题并提供解决方案。
```

---

## 📊 验证上下文恢复成功

Kiro 读取完成后，应该能回答这些问题：

✅ **项目状态**
- 当前版本是什么？（v2.52.0）
- v2.52.0 完成了吗？（是，已完成并推送到 GitHub）

✅ **核心改进**
- v2.52.0 有哪些核心改进？（5个：首次引导、侧边栏简化、帮助系统、自动化配置、命名优化）
- 改进效果如何？（新用户上手时间减少 83%，点击次数减少 60%）

✅ **技术细节**
- 核心模块有哪些？（setupWizard.ts, simplifiedPanel.ts, helpSystem.ts）
- 代码量是多少？（~1,400 行 TypeScript）

✅ **下一步**
- 下一步可以做什么？（测试、发布、或开始 v2.53.0）
- v2.53.0 计划做什么？（完全替换旧版侧边栏、命名优化、性能优化）

---

## 🔧 故障排除

### 问题 1：Kiro 说找不到文件

**原因**：可能没有拉取最新代码

**解决**：
```bash
git pull origin main
git status  # 确认文件存在
```

### 问题 2：Kiro 理解错了上下文

**原因**：可能只读了部分文件

**解决**：
```
请重新读取 kiro-knowledge-base/SESSION-2026-01-09.md 的完整内容，
特别是"核心改进"和"下一步计划"部分。
```

### 问题 3：Kiro 给出的建议和之前不一致

**原因**：可能没有读取最新的会话记录

**解决**：
```
我们之前的决策是 [具体决策]。
请更新你的理解，并基于这个决策继续。
```

---

## 📝 提示词模板

### 通用模板

```
【场景说明】
我刚切换到另一台设备，需要 [你的目标]。

【需要读取的文件】
1. [文件路径 1] - [说明]
2. [文件路径 2] - [说明]

【期望输出】
读取完成后，请告诉我：
- [问题 1]
- [问题 2]
- [问题 3]
```

### 自定义你的提示词

根据你的需求，调整：
1. **场景说明** - 你要做什么
2. **文件列表** - 需要读取哪些文件
3. **期望输出** - 你想知道什么

---

## 🎯 最佳实践

### ✅ 推荐做法

1. **先拉取代码** - 确保文件是最新的
2. **使用标准提示词** - 复制粘贴，不要手打
3. **等待读取完成** - 不要打断 Kiro
4. **验证理解** - 确认 Kiro 理解了关键信息
5. **补充说明** - 如果有遗漏，及时补充

### ❌ 避免做法

1. ❌ 不拉取代码就开始
2. ❌ 只说"恢复上下文"，不指定文件
3. ❌ 同时问多个不相关的问题
4. ❌ 不验证就直接开始开发
5. ❌ 假设 Kiro 记得之前的对话

---

## 📚 关键文件速查

| 文件 | 用途 | 何时读取 |
|------|------|----------|
| `SESSION-STATE.md` | 项目整体状态 | 每次切换设备 |
| `kiro-knowledge-base/SESSION-2026-01-09.md` | 今天的完整会话 | 继续今天的工作 |
| `kiro-knowledge-base/RELEASE-NOTES-v2.52.0.md` | v2.52.0 功能说明 | 测试或发布 |
| `kiro-knowledge-base/docs/v2.52.0-summary.md` | 技术实现细节 | 深入了解实现 |
| `CROSS-DEVICE-WORKFLOW.md` | 跨设备工作流 | 了解工作流程 |

---

## 🚀 快速开始（推荐流程）

```bash
# 1. 拉取代码
git pull origin main

# 2. 打开 Kiro，发送提示词（复制下面的）
```

```
我刚切换到另一台设备，继续 Kiro KB 插件开发。

请读取：
1. kiro-knowledge-base/SESSION-2026-01-09.md
2. SESSION-STATE.md

读取完成后，告诉我：
- v2.52.0 的完成状态
- 下一步可以做什么
```

```bash
# 3. 等待 Kiro 回复

# 4. 开始工作！
```

---

## 💡 提示

- 📌 **收藏这个文件** - 每次切换设备都会用到
- 📋 **复制提示词** - 不要手打，避免错误
- ✅ **验证理解** - 确认 Kiro 理解了关键信息
- 🔄 **定期更新** - 完成重要工作后更新 SESSION-STATE.md

---

**创建时间**：2026-01-09  
**适用版本**：v2.52.0  
**下次更新**：完成 v2.53.0 后
