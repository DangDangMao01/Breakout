---
domain: kiro
tags: [design, knowledge-system, architecture, roadmap]
date: 2026-01-04
priority: high
type: feature-design
---

# 知识库系统架构设计

## 核心理念

插件应该是**指引 Kiro 去做**，而不是插件自己做或用户手动让 Kiro 做。

---

## 一、当前项目知识库

### 定位
- 服务于**当前项目开发**
- 避免重复性问题
- 记录项目特定的解决方案

### 待实现功能：知识整理助手

**入口：** 侧边栏"整理知识库"按钮

**工作流程：**
1. 插件分析知识库，检测问题：
   - 标题不规范（如 `## TASK 1:`）
   - 内容相似可合并
   - 低价值可删除
2. 生成结构化提示
3. Kiro 执行整理操作

**示例提示：**
```
请帮我整理知识库，发现以下问题：

## 需要合并的文件（内容相似）
1. v2.30.0-xxx.md + v2.31.0-xxx.md + v2.34.0-xxx.md
→ 合并为: "v2.30-v2.34 版本开发记录.md"

## 需要重命名的文件
1. "## TASK 1: xxx" → "xxx功能实现"

## 建议删除的文件
1. 上传git.md（太琐碎）

请执行整理操作。
```

---

## 二、中央知识库

### 定位
- 跨项目知识复用
- 作为新项目的借鉴
- 构建个人/团队知识体系

### 与当前项目的关系

```
当前项目 KB                    中央 KB
┌─────────────┐               ┌─────────────────────┐
│ 项目特定知识 │ ──同步──→    │ 通用化后的知识       │
│ - Bug 修复   │               │ - 按领域分类         │
│ - 功能实现   │               │ - 去除项目特定信息   │
│ - 配置记录   │               │ - 提炼为可复用方案   │
└─────────────┘               └─────────────────────┘
```

### 需要的归纳系统

#### 1. 智能去重与合并
- 检测跨项目的相似知识
- 合并为通用解决方案
- 保留各项目的特定变体

#### 2. 知识抽象化
- 从具体实现 → 通用模式
- 示例：
  ```
  项目A: "Unity Shader v2f 结构体变量引用错误"
  项目B: "Unity Shader 片元着色器变量问题"
  ↓ 抽象化
  通用: "Unity Shader 常见错误及解决方案"
  ```

#### 3. 自动分类与标签
- 按领域：Unity / Web / DevOps / AI
- 按类型：Bug / 配置 / 架构 / 工具
- 按难度：入门 / 进阶 / 高级

---

## 三、知识网络（Knowledge Graph）

### 目标
让用户更好地吸收和关联知识

### 现有功能
- 知识关联图（基于共同标签）
- 相关推荐（基于关键词匹配）

### 需要强化的功能

#### 1. 多维度关联
```
知识A ──[同领域]──→ 知识B
   │
   ├──[前置知识]──→ 知识C
   │
   ├──[进阶内容]──→ 知识D
   │
   └──[相关问题]──→ 知识E
```

#### 2. 学习路径生成
- 基于知识依赖关系
- 从入门到进阶的推荐顺序
- 已有 `learningPathGenerator`，需要强化

#### 3. 知识缺口分析
- 检测知识体系的空白
- 建议需要补充的内容
- 已有 `gapAnalyzer`，需要强化

#### 4. 智能检索增强
- 语义搜索（不只是关键词）
- 问答式检索："如何解决 xxx 问题？"
- 上下文感知推荐

---

## 四、实现优先级

### P0 - 当前项目整理（v2.38.0）
- [x] 知识整理助手（生成提示让 Kiro 整理）
- [x] 标题规范化检测
- [x] 重复内容检测与合并建议

### P1 - 中央知识库归纳（v2.39.0）
- [ ] 同步时自动去重
- [ ] 知识抽象化建议
- [ ] 跨项目知识合并

### P2 - 知识网络强化（v2.40.0）
- [ ] 多维度关联（前置/进阶/相关）
- [ ] 交互式知识图谱增强
- [ ] 学习路径可视化

### P3 - 智能检索（v2.41.0）
- [ ] 语义搜索增强
- [ ] 问答式检索
- [ ] 上下文感知推荐

---

## 五、架构图

```
┌─────────────────────────────────────────────────────────┐
│                      用户界面                            │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐    │
│  │侧边栏    │  │知识图谱  │  │学习路径  │  │智能搜索  │    │
│  └────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘    │
└───────┼────────────┼────────────┼────────────┼──────────┘
        │            │            │            │
┌───────┴────────────┴────────────┴────────────┴──────────┐
│                    知识处理引擎                          │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐    │
│  │整理助手  │  │归纳系统  │  │关联分析  │  │语义引擎  │    │
│  └────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘    │
└───────┼────────────┼────────────┼────────────┼──────────┘
        │            │            │            │
┌───────┴────────────┴────────────┴────────────┴──────────┐
│                      存储层                              │
│  ┌──────────────┐              ┌──────────────┐         │
│  │ 当前项目 KB   │ ←──同步──→  │  中央 KB      │         │
│  │ knowledge-   │              │ Kiro-Central │         │
│  │ base/        │              │ -KB/         │         │
│  └──────────────┘              └──────────────┘         │
└─────────────────────────────────────────────────────────┘
```

---

*创建时间: 2026-01-04*
*状态: 设计中*
