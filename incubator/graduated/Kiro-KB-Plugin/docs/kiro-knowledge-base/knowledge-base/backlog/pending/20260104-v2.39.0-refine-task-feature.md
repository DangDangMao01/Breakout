---
domain: task
tags: [plugin, feature, v2.39.0]
date: 2026-01-04
priority: P0
status: pending
---

# v2.39.0 - 知识提炼任务生成功能

## 目标

在 `knowledgeOrganizer.ts` 中添加"生成提炼任务"功能，让插件指引 Kiro 去提炼低质量的对话记录。

## 实现方案

在 `knowledgeOrganizer.ts` 添加：

```typescript
function generateRefineTask(lowQualityFiles: string[]): string {
  return `# 知识提炼任务

请阅读以下文件，提炼出高质量的知识文档：

${lowQualityFiles.map(f => `- ${f}`).join('\n')}

## 提炼要求

1. **问题/背景**：用户遇到了什么问题
2. **解决方案**：如何解决的
3. **关键代码**：核心代码片段（如有）
4. **注意事项**：踩坑点、前置条件

## 输出格式

每个有价值的知识点生成一个文件，保存到 knowledge-base/solutions/

文件格式：
\`\`\`yaml
---
domain: solution
tags: [相关标签]
date: ${new Date().toISOString().split('T')[0]}
value_score: 7+
---

# 清晰的标题

## 问题/背景
## 解决方案
## 关键代码
## 注意事项
\`\`\`

如果文件内容没有实际价值，直接删除。`;
}
```

## 侧边栏入口

在"🔧 整理知识库"下添加子选项：
- 📝 生成提炼任务（检测到低质量文件时显示）

## 预计工时

5-10 分钟

## 关联

- 基于 v2.38.0 的知识整理助手
- 解决对话自动保存只记录原始内容、没有提炼的问题
