---
domain: kiro
tags: [plugin, test, v2.44.0, v2.33.0, verification]
date: 2026-01-05
source_project: "kiro-knowledge-base"
value_score: 8
---

# Kiro KB v2.44.0 & v2.33.0 åŠŸèƒ½éªŒè¯æŠ¥å‘Š

## æµ‹è¯•æ¦‚è§ˆ

| ç‰ˆæœ¬ | æµ‹è¯•æ—¶é—´ | æµ‹è¯•ç»“æœ | å®Œæˆåº¦ |
|------|----------|----------|--------|
| v2.44.0 | 2026-01-05 | âœ… é€šè¿‡ | 100% |
| v2.33.0 | 2026-01-05 | âœ… é€šè¿‡ | 100% |

---

## v2.44.0 æ ¸å¿ƒåŠŸèƒ½éªŒè¯

### 1ï¸âƒ£ ä¿å­˜ä½ç½®é€‰æ‹©å™¨ âœ…

**åŠŸèƒ½ä½ç½®**: `extension.ts` - `showSaveLocationPicker()`

**å®ç°çŠ¶æ€**: âœ… å®Œæ•´å®ç°

**æ ¸å¿ƒåŠŸèƒ½**:
- âœ… 4 ç§ä¿å­˜ä½ç½®é€‰é¡¹
  - ğŸ“ å½“å‰é¡¹ç›®çŸ¥è¯†åº“ (`local`)
  - â˜ï¸ ä¸­å¤®çŸ¥è¯†åº“ - é¡¹ç›®ç›®å½• (`central-project`)
  - ğŸŒ ä¸­å¤®çŸ¥è¯†åº“ - é€šç”¨ç›®å½• (`central-flat`)
  - ğŸ“š ä¸­å¤®çŸ¥è¯†åº“ - é¢†åŸŸç›®å½• (`central-domain`)
- âœ… è‡ªåŠ¨æ£€æµ‹é¡¹ç›®ç»‘å®šçŠ¶æ€
- âœ… æœªç»‘å®šæ—¶æç¤ºåˆ›å»ºé¡¹ç›®
- âœ… é¢†åŸŸé€‰æ‹©å¯¹è¯æ¡† (`selectDomain()`)
- âœ… è¿”å›å®Œæ•´çš„ä¿å­˜ä½ç½®ä¿¡æ¯ (`SaveLocationResult`)

**ä»£ç ä½ç½®**: 
```typescript
// extension.ts:366-490
async function showSaveLocationPicker(
    folder: string,
    suggestedLevel?: 'project' | 'project-group' | 'domain'
): Promise<SaveLocationResult | null>
```

**è°ƒç”¨ä½ç½®**:
```typescript
// extension.ts:4654
const saveLocationResult = await showSaveLocationPicker(typeSelection.folder);
```

---

### 2ï¸âƒ£ ä¿å­˜å‰é‡å¤æ£€æµ‹ âœ…

**åŠŸèƒ½ä½ç½®**: `extension.ts` - `checkDuplicateBeforeSave()`

**å®ç°çŠ¶æ€**: âœ… å®Œæ•´å®ç°

**æ ¸å¿ƒåŠŸèƒ½**:
- âœ… æ‰«ææœ¬åœ°çŸ¥è¯†åº“ (solutions/notes/discussions)
- âœ… æ‰«æä¸­å¤®çŸ¥è¯†åº“æ ¹ç›®å½•
- âœ… æ‰«æä¸­å¤® projects å­ç›®å½•
- âœ… æ‰«æä¸­å¤® domains å­ç›®å½•
- âœ… Jaccard ç›¸ä¼¼åº¦ç®—æ³• (`calculateTitleSimilarity()`)
- âœ… 60% é˜ˆå€¼åˆ¤å®š
- âœ… ç”¨æˆ·äº¤äº’é€‰é¡¹:
  - æŸ¥çœ‹å·²æœ‰ â†’ æ‰“å¼€æ–‡ä»¶ â†’ å†æ¬¡è¯¢é—®
  - ä»ç„¶ä¿å­˜ â†’ ç»§ç»­ä¿å­˜
  - å–æ¶ˆ â†’ å–æ¶ˆä¿å­˜

**ä»£ç ä½ç½®**:
```typescript
// extension.ts:540-640
async function checkDuplicateBeforeSave(
    title: string, 
    content: string
): Promise<{ shouldSave: boolean; existingPath?: string }>
```

**è°ƒç”¨ä½ç½®**:
```typescript
// extension.ts:4647
const duplicateCheck = await checkDuplicateBeforeSave(title, combinedContent);
if (!duplicateCheck.shouldSave) {
    log(`Save cancelled due to duplicate: ${duplicateCheck.existingPath}`);
    return;
}
```

---

### 3ï¸âƒ£ é¡¹ç›®ç±»å‹åˆ†ç»„è§†å›¾ âœ…

**åŠŸèƒ½ä½ç½®**: `knowledgePanel.ts` - `getProjectTypeGroups()`

**å®ç°çŠ¶æ€**: âœ… å®Œæ•´å®ç°

**æ ¸å¿ƒåŠŸèƒ½**:
- âœ… 8 ç§é¡¹ç›®ç±»å‹åˆ†ç±»
  - ğŸ® Unity æ¸¸æˆ (`unity-game`)
  - ğŸ”Œ VSCode/Kiro æ’ä»¶ (`vscode-extension`)
  - ğŸŒ Web åº”ç”¨ (`web-app`)
  - ğŸ“± ç§»åŠ¨åº”ç”¨ (`mobile-app`)
  - âš™ï¸ åç«¯æœåŠ¡ (`backend`)
  - ğŸ¤– AI/ML é¡¹ç›® (`ai-ml`)
  - ğŸ› ï¸ DevOps/å·¥å…· (`devops`)
  - ğŸ“ å…¶ä»– (`other`)
- âœ… ä» YAML front-matter æå– `source_project_type`
- âœ… ç»Ÿè®¡å„ç±»å‹çš„é¡¹ç›®æ•°å’ŒçŸ¥è¯†æ¡ç›®æ•°
- âœ… æŒ‰æ–‡ä»¶æ•°é‡æ’åºæ˜¾ç¤º
- âœ… å±•å¼€ç±»å‹åæ˜¾ç¤ºè¯¥ç±»å‹ä¸‹çš„æ‰€æœ‰é¡¹ç›®
- âœ… å±•å¼€é¡¹ç›®åæ˜¾ç¤ºè¯¥é¡¹ç›®çš„æ‰€æœ‰çŸ¥è¯†æ–‡ä»¶

**ä»£ç ä½ç½®**:
```typescript
// knowledgePanel.ts:333-380
private getProjectTypeGroups(): KnowledgeTreeItem[]

// knowledgePanel.ts:382-420
private getProjectsByType(projectType: string): KnowledgeTreeItem[]
```

**ä¾§è¾¹æ æ˜¾ç¤º**:
```
ğŸ“ æŒ‰é¡¹ç›®æµè§ˆ (æ€»æ–‡ä»¶æ•°)
  â”œâ”€ ğŸ”Œ VSCode/Kiro æ’ä»¶ (2 é¡¹ç›®, 45 æ¡)
  â”‚   â”œâ”€ ğŸ“‚ kiro-knowledge-base (38)
  â”‚   â””â”€ ğŸ“‚ kiro-mcp-server (7)
  â”œâ”€ ğŸ® Unity æ¸¸æˆ (1 é¡¹ç›®, 12 æ¡)
  â””â”€ ğŸŒ Web åº”ç”¨ (1 é¡¹ç›®, 8 æ¡)
```

---

## v2.33.0 ä¾§è¾¹æ å¢å¼ºéªŒè¯

### 1ï¸âƒ£ æ¦‚è§ˆèŠ‚ç‚¹ âœ…

**åŠŸèƒ½ä½ç½®**: `knowledgePanel.ts` - `getStatNodes()`

**å®ç°çŠ¶æ€**: âœ… å®Œæ•´å®ç°

**æ˜¾ç¤ºå†…å®¹**:
- âœ… ğŸ“š æ€»çŸ¥è¯†æ•° (æœ¬åœ° + ä¸­å¤®)
- âœ… ğŸ“ˆ æœ¬å‘¨æ›´æ–° (æœ€è¿‘ 7 å¤©)
- âœ… ğŸ“‹ å¾…å¤„ç† (å¯ç‚¹å‡»æŸ¥çœ‹)
- âœ… âš ï¸ éœ€å¤æŸ¥ (å¯ç‚¹å‡»å¤æŸ¥)
- âœ… ğŸŸ¢/ğŸŸ¡/ğŸ”´ å¥åº·åº¦è¯„åˆ† (å¯ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š)

**ä»£ç ä½ç½®**:
```typescript
// knowledgePanel.ts:1184-1248
private getStatNodes(): KnowledgeTreeItem[]
```

**æ ¹èŠ‚ç‚¹æ˜¾ç¤º**:
```typescript
// knowledgePanel.ts:176-182
nodes.push(new KnowledgeTreeItem(
    `ğŸ“Š ${isZh() ? 'æ¦‚è§ˆ' : 'Overview'} | ${healthIcon} ${healthScore}%`,
    vscode.TreeItemCollapsibleState.Collapsed,
    'root-stats'
));
```

---

### 2ï¸âƒ£ å¿«æ·æ“ä½œèŠ‚ç‚¹ âœ…

**åŠŸèƒ½ä½ç½®**: `knowledgePanel.ts` - `getQuickActionNodes()`

**å®ç°çŠ¶æ€**: âœ… å®Œæ•´å®ç°

**å¿«æ·å…¥å£**:
- âœ… ğŸ“¸ æ™ºèƒ½æ•è· (`Ctrl+Alt+C`)
- âœ… ğŸ’¡ æš‚å­˜é—®é¢˜ (`Ctrl+Alt+Q`)
- âœ… ğŸ” å¿«é€Ÿæœç´¢ (`Ctrl+Alt+K`)
- âœ… ğŸ’¡ æ™ºèƒ½æ¨è (`Ctrl+Alt+R`)
- âœ… â˜ï¸ åŒæ­¥åˆ°ä¸­å¤®
- âœ… ğŸ“‘ ç”Ÿæˆç´¢å¼•
- âœ… ğŸ’¬ æ•´ç†å¯¹è¯ (v2.35.0 æ–°å¢)

**ä»£ç ä½ç½®**:
```typescript
// knowledgePanel.ts:1250-1329
private getQuickActionNodes(): KnowledgeTreeItem[]
```

**æ ¹èŠ‚ç‚¹æ˜¾ç¤º**:
```typescript
// knowledgePanel.ts:184-188
nodes.push(new KnowledgeTreeItem(
    `âš¡ ${isZh() ? 'å¿«æ·æ“ä½œ' : 'Quick Actions'}`,
    vscode.TreeItemCollapsibleState.Collapsed,
    'root-quickactions'
));
```

---

### 3ï¸âƒ£ å¥åº·åº¦è¯¦æƒ…èŠ‚ç‚¹ âœ…

**åŠŸèƒ½ä½ç½®**: `knowledgePanel.ts` - `getHealthNodes()`

**å®ç°çŠ¶æ€**: âœ… å®Œæ•´å®ç°

**è¯¦æƒ…æŒ‡æ ‡**:
- âœ… ğŸ“Š ç»¼åˆè¯„åˆ† (0-100)
- âœ… ğŸŸ¢/ğŸŸ¡/ğŸ”´ è¿‡æœŸå æ¯” (â‰¤10%/â‰¤30%/>30%)
- âœ… ğŸŸ¢/ğŸŸ¡/ğŸ”´ å¾…åŠç§¯å‹ (â‰¤5/â‰¤15/>15)
- âœ… ğŸŸ¢/ğŸ”´ æœ¬å‘¨æ´»è·ƒçŠ¶æ€
- âœ… ğŸ“‹ æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Šé“¾æ¥

**ä»£ç ä½ç½®**:
```typescript
// knowledgePanel.ts:1331-1390
private getHealthNodes(): KnowledgeTreeItem[]
```

**å¥åº·åº¦è®¡ç®—**:
```typescript
// knowledgePanel.ts:1100-1130
private calculateHealthScore(): number {
    // åŸºç¡€åˆ† 100
    // - è¿‡æœŸå æ¯”æ‰£åˆ† (æ¯10%æ‰£5åˆ†ï¼Œæœ€å¤š30åˆ†)
    // - å¾…åŠç§¯å‹æ‰£åˆ† (æ¯5ä¸ªæ‰£5åˆ†ï¼Œæœ€å¤š20åˆ†)
    // - æœ¬å‘¨æ— æ›´æ–°æ‰£10åˆ†
    // - çŸ¥è¯†åº“å¤ªå°(<10ç¯‡)æ‰£10åˆ†
}
```

---

## è¾…åŠ©åŠŸèƒ½éªŒè¯

### é¡¹ç›®ç»Ÿè®¡åŠŸèƒ½ âœ…

**åŠŸèƒ½ä½ç½®**: `knowledgePanel.ts` - `getProjectGroupStats()`

**å®ç°çŠ¶æ€**: âœ… å®Œæ•´å®ç°

```typescript
// knowledgePanel.ts:290-330
private getProjectGroupStats(): {
    totalProjects: number;
    totalFiles: number;
    byType: Map<string, { projects: string[]; files: number }>;
}
```

**åŠŸèƒ½**:
- âœ… æ‰«ææ‰€æœ‰çŸ¥è¯†æ–‡ä»¶
- âœ… ä» YAML æå– `source_project` å’Œ `source_project_type`
- âœ… æŒ‰é¡¹ç›®ç±»å‹åˆ†ç»„ç»Ÿè®¡
- âœ… è®¡ç®—æ€»é¡¹ç›®æ•°å’Œæ€»æ–‡ä»¶æ•°

---

### çŸ¥è¯†åº“ç»Ÿè®¡åŠŸèƒ½ âœ…

**åŠŸèƒ½ä½ç½®**: `knowledgePanel.ts` - `getKBStats()`

**å®ç°çŠ¶æ€**: âœ… å®Œæ•´å®ç°

```typescript
// knowledgePanel.ts:1050-1098
private getKBStats(): {
    total: number;
    local: number;
    central: number;
    thisWeek: number;
    backlog: number;
    stale: number;
}
```

---

## æµ‹è¯•ç»“è®º

### âœ… v2.44.0 åŠŸèƒ½å®Œæˆåº¦: 100%

| åŠŸèƒ½ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|
| ä¿å­˜ä½ç½®é€‰æ‹©å™¨ | âœ… | 4ç§ä½ç½®ï¼Œé¢†åŸŸé€‰æ‹©å®Œæ•´ |
| é‡å¤æ£€æµ‹ | âœ… | 60%é˜ˆå€¼ï¼Œå¤šç›®å½•æ‰«æ |
| é¡¹ç›®ç±»å‹åˆ†ç»„ | âœ… | 8ç§ç±»å‹ï¼Œä¸‰çº§å±•å¼€ |

### âœ… v2.33.0 åŠŸèƒ½å®Œæˆåº¦: 100%

| åŠŸèƒ½ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|
| æ¦‚è§ˆèŠ‚ç‚¹ | âœ… | 5é¡¹ç»Ÿè®¡ï¼Œå¯ç‚¹å‡»äº¤äº’ |
| å¿«æ·æ“ä½œ | âœ… | 7ä¸ªå¿«æ·å…¥å£ |
| å¥åº·åº¦è¯¦æƒ… | âœ… | 4é¡¹æŒ‡æ ‡ï¼Œè¯„åˆ†ç®—æ³• |

---

## å»ºè®®æµ‹è¯•åœºæ™¯

### åœºæ™¯ 1: ä¿å­˜ä½ç½®é€‰æ‹©

1. æ‰“å¼€ä¸€ä¸ªå·²ç»‘å®šä¸­å¤®é¡¹ç›®çš„å·¥ä½œåŒº
2. æ‰§è¡Œ `Kiro KB: æ™ºèƒ½æ•è·`
3. éªŒè¯å¼¹å‡º 4 ä¸ªä¿å­˜ä½ç½®é€‰é¡¹
4. é€‰æ‹©"é¢†åŸŸç›®å½•"ï¼ŒéªŒè¯é¢†åŸŸé€‰æ‹©å¯¹è¯æ¡†
5. ä¿å­˜åæ£€æŸ¥æ–‡ä»¶æ˜¯å¦åœ¨æ­£ç¡®ä½ç½®

### åœºæ™¯ 2: é‡å¤æ£€æµ‹

1. åˆ›å»ºä¸€ä¸ªæ ‡é¢˜ä¸º"ç¼–ç é—®é¢˜è§£å†³æ–¹æ¡ˆ"çš„çŸ¥è¯†
2. å†æ¬¡å°è¯•ä¿å­˜æ ‡é¢˜ä¸º"ç¼–ç é—®é¢˜çš„è§£å†³æ–¹æ³•"çš„çŸ¥è¯†
3. éªŒè¯å¼¹å‡ºç›¸ä¼¼åº¦è­¦å‘Šï¼ˆåº”è¯¥ >60%ï¼‰
4. ç‚¹å‡»"æŸ¥çœ‹å·²æœ‰"ï¼ŒéªŒè¯æ‰“å¼€å·²æœ‰æ–‡ä»¶
5. éªŒè¯å†æ¬¡è¯¢é—®æ˜¯å¦ç»§ç»­ä¿å­˜

### åœºæ™¯ 3: é¡¹ç›®åˆ†ç»„è§†å›¾

1. æ‰“å¼€ä¾§è¾¹æ  Knowledge Base é¢æ¿
2. å±•å¼€"ğŸ“ æŒ‰é¡¹ç›®æµè§ˆ"èŠ‚ç‚¹
3. éªŒè¯æ˜¾ç¤ºé¡¹ç›®ç±»å‹åˆ†ç»„ï¼ˆå¸¦å›¾æ ‡å’Œç»Ÿè®¡ï¼‰
4. å±•å¼€æŸä¸ªç±»å‹ï¼ŒéªŒè¯æ˜¾ç¤ºè¯¥ç±»å‹çš„é¡¹ç›®åˆ—è¡¨
5. å±•å¼€æŸä¸ªé¡¹ç›®ï¼ŒéªŒè¯æ˜¾ç¤ºè¯¥é¡¹ç›®çš„çŸ¥è¯†æ–‡ä»¶

### åœºæ™¯ 4: ä¾§è¾¹æ æ¦‚è§ˆ

1. æ‰“å¼€ä¾§è¾¹æ  Knowledge Base é¢æ¿
2. æŸ¥çœ‹é¡¶éƒ¨"ğŸ“Š æ¦‚è§ˆ"èŠ‚ç‚¹çš„å¥åº·åº¦è¯„åˆ†
3. å±•å¼€æ¦‚è§ˆï¼ŒéªŒè¯ 5 é¡¹ç»Ÿè®¡ä¿¡æ¯
4. ç‚¹å‡»"å¾…å¤„ç†"ï¼ŒéªŒè¯è·³è½¬åˆ°å¾…åŠåˆ—è¡¨
5. ç‚¹å‡»"å¥åº·åº¦"ï¼ŒéªŒè¯æ‰“å¼€è¯¦ç»†æŠ¥å‘Š

### åœºæ™¯ 5: å¿«æ·æ“ä½œ

1. å±•å¼€"âš¡ å¿«æ·æ“ä½œ"èŠ‚ç‚¹
2. ç‚¹å‡»"æ™ºèƒ½æ•è·"ï¼ŒéªŒè¯æ‰§è¡Œå¯¹åº”å‘½ä»¤
3. ç‚¹å‡»"åŒæ­¥åˆ°ä¸­å¤®"ï¼ŒéªŒè¯åŒæ­¥åŠŸèƒ½
4. éªŒè¯æ‰€æœ‰å¿«æ·å…¥å£éƒ½èƒ½æ­£å¸¸å·¥ä½œ

---

## æ½œåœ¨é—®é¢˜å’Œä¼˜åŒ–å»ºè®®

### ğŸŸ¡ æ€§èƒ½ä¼˜åŒ–

1. **å¤§å‹çŸ¥è¯†åº“æ‰«æ**
   - å½“å‰æ¯æ¬¡å±•å¼€èŠ‚ç‚¹éƒ½ä¼šæ‰«ææ‰€æœ‰æ–‡ä»¶
   - å»ºè®®: å®ç°æ–‡ä»¶ç¼“å­˜æœºåˆ¶ï¼ˆ30ç§’æœ‰æ•ˆæœŸï¼‰
   - çŠ¶æ€: v2.20.0 å·²å®ç°ç¼“å­˜ï¼Œä½†éœ€éªŒè¯æ•ˆæœ

2. **é‡å¤æ£€æµ‹æ€§èƒ½**
   - ä¿å­˜æ—¶æ‰«ææ‰€æœ‰çŸ¥è¯†æ–‡ä»¶å¯èƒ½è¾ƒæ…¢
   - å»ºè®®: å®ç°æ ‡é¢˜ç´¢å¼•ï¼Œåªåœ¨ç´¢å¼•ä¸­æŸ¥æ‰¾
   - ä¼˜å…ˆçº§: ä¸­

### ğŸŸ¢ ç”¨æˆ·ä½“éªŒä¼˜åŒ–

1. **ä¿å­˜ä½ç½®è®°å¿†**
   - è®°ä½ç”¨æˆ·ä¸Šæ¬¡é€‰æ‹©çš„ä¿å­˜ä½ç½®
   - ä¸‹æ¬¡é»˜è®¤é€‰ä¸­è¯¥ä½ç½®
   - ä¼˜å…ˆçº§: ä½

2. **é‡å¤æ£€æµ‹é˜ˆå€¼å¯é…ç½®**
   - å½“å‰ 60% é˜ˆå€¼ç¡¬ç¼–ç 
   - å»ºè®®: æ·»åŠ é…ç½®é¡¹ `kiro-kb.duplicateThreshold`
   - ä¼˜å…ˆçº§: ä½

3. **é¡¹ç›®ç±»å‹è‡ªåŠ¨æ£€æµ‹**
   - æ ¹æ®é¡¹ç›®æ–‡ä»¶è‡ªåŠ¨æ¨æ–­é¡¹ç›®ç±»å‹
   - ä¾‹å¦‚: æœ‰ `package.json` + `tsconfig.json` â†’ vscode-extension
   - ä¼˜å…ˆçº§: ä¸­

---

## ä¸‹ä¸€æ­¥è®¡åˆ’

### ç«‹å³æ‰§è¡Œ

1. âœ… ç¼–è¯‘é€šè¿‡ - å·²å®Œæˆ
2. âœ… åŠŸèƒ½éªŒè¯ - å·²å®Œæˆ
3. â³ å®é™…ä½¿ç”¨æµ‹è¯• - å¾…ç”¨æˆ·æµ‹è¯•
4. â³ æ‰“åŒ…å‘å¸ƒ - å·²ç”Ÿæˆ v2.44.0.vsix

### æœ¬å‘¨è®¡åˆ’

1. å®ç° v2.42.0 ä¾§è¾¹æ ç‚¹å‡»æ’å…¥é“¾æ¥
2. å®ç° TF-IDF è¯­ä¹‰æœç´¢å¼•æ“
3. å®ç°å¥åº·åº¦ä»ªè¡¨ç›˜å¯è§†åŒ–

### ä¸‹å‘¨è®¡åˆ’

1. å®ç°çŸ¥è¯†ç¼ºå£åˆ†æå™¨
2. âœ… å­¦ä¹ è·¯å¾„ç”Ÿæˆå™¨ï¼ˆv2.45.0 å·²å®ç°ï¼‰
3. å®Œå–„å¯¹è¯æ•´ç†çš„æ™ºèƒ½æ ‡é¢˜ç”Ÿæˆ

---

## é™„å½•: å…³é”®ä»£ç ç‰‡æ®µ

### SaveLocationResult ç±»å‹å®šä¹‰

```typescript
interface SaveLocationResult {
    location: SaveLocation;
    basePath: string;
    folder: string;
    projectName: string;
    projectType?: ProjectType;
    level: 'project' | 'project-group' | 'domain';
}

type SaveLocation = 'local' | 'central-project' | 'central-flat' | 'central-domain';
```

### ProjectType ç±»å‹å®šä¹‰

```typescript
type ProjectType = 
    | 'unity-game'
    | 'vscode-extension'
    | 'web-app'
    | 'mobile-app'
    | 'backend'
    | 'ai-ml'
    | 'devops'
    | 'other';
```

### å¥åº·åº¦è¯„åˆ†ç®—æ³•

```typescript
private calculateHealthScore(): number {
    const stats = this.getKBStats();
    let score = 100;
    
    // è¿‡æœŸå æ¯”æ‰£åˆ†
    if (stats.total > 0) {
        const staleRatio = stats.stale / stats.total;
        score -= Math.min(30, Math.floor(staleRatio * 10) * 5);
    }
    
    // å¾…åŠç§¯å‹æ‰£åˆ†
    score -= Math.min(20, Math.floor(stats.backlog / 5) * 5);
    
    // æœ¬å‘¨æ— æ›´æ–°æ‰£åˆ†
    if (stats.thisWeek === 0) score -= 10;
    
    // çŸ¥è¯†åº“å¤ªå°æ‰£åˆ†
    if (stats.total < 10) score -= 10;
    
    return Math.max(0, score);
}
```
