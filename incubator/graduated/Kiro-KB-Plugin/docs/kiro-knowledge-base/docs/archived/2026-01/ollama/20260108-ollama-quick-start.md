---
date: 2026-01-08
version: v2.50.0
type: quick-start
---

# Ollama 集成快速开始指南

## 前提条件

✅ **已完成**：
- Ollama 已安装并运行
- Qwen 2.5 3B 模型已下载
- 插件已编译成功

## 快速开始（5 分钟）

### 1. 启用 Ollama 集成

**步骤**：
1. 打开 Kiro 设置（`Ctrl+,` 或 `Cmd+,`）
2. 搜索 `kiro-kb.ollama.enabled`
3. 勾选启用
4. 重新加载窗口（`Ctrl+Shift+P` → `Reload Window`）

**验证**：
- 重新加载后，应该看到提示：`✅ Ollama AI 已连接，可以生成工作报告了！`
- 如果看到警告，说明 Ollama 未运行

### 2. 测试连接

**命令**：
1. 按 `Ctrl+Shift+P`（Windows）或 `Cmd+Shift+P`（Mac）
2. 输入 `Kiro KB: 测试 Ollama 连接`
3. 回车执行

**预期结果**：
```
✅ Ollama 连接成功！
可用模型：qwen2.5:3b, gemma3:4b
```

**如果失败**：
- 检查 Ollama 是否运行：`ollama list`
- 检查配置：`kiro-kb.ollama.baseUrl`（默认 `http://localhost:11434`）

### 3. 生成第一份日报

**命令**：
1. 按 `Ctrl+Shift+P`
2. 输入 `Kiro KB: 生成日报`
3. 回车执行

**过程**：
1. 显示提示：`正在生成日报...`
2. AI 分析工作数据（约 30 秒）
3. 显示成功：`✅ 日报已生成：2026-01-08.md`
4. 自动打开报告

**报告位置**：
- `{中央知识库}/work-patterns/daily/2026-01-08.md`

### 4. 生成周报（可选）

**命令**：
1. 按 `Ctrl+Shift+P`
2. 输入 `Kiro KB: 生成周报`
3. 回车执行

**注意**：
- 周报需要至少 7 天的日报数据
- 首次使用可能数据不足

## 配置选项

### 基础配置

**kiro-kb.ollama.enabled**
- 类型：布尔值
- 默认：`false`
- 说明：启用/禁用 Ollama 集成

**kiro-kb.ollama.baseUrl**
- 类型：字符串
- 默认：`http://localhost:11434`
- 说明：Ollama API 地址

**kiro-kb.ollama.model**
- 类型：字符串
- 默认：`qwen2.5:3b`
- 说明：使用的 AI 模型
- 可选：`llama3.2:3b`, `gemma3:4b`, `deepseek-coder:6.7b`

### 高级配置

**kiro-kb.ollama.dailyReportTime**
- 类型：字符串
- 默认：`18:00`
- 说明：每日报告生成时间（HH:MM 格式）
- 注意：自动触发功能待实现

**kiro-kb.ollama.weeklyReportDay**
- 类型：数字
- 默认：`0`（周日）
- 说明：每周报告生成日（0-6，0=周日）
- 注意：自动触发功能待实现

## 常见问题

### Q1: 提示"Ollama 未运行"

**解决方案**：
1. 检查 Ollama 是否运行：
   ```bash
   ollama list
   ```
2. 如果未运行，启动 Ollama
3. 重新加载 Kiro 窗口

### Q2: 生成报告失败

**可能原因**：
1. Ollama 连接超时
2. 模型未下载
3. 中央知识库路径未配置

**解决方案**：
1. 测试连接：`Kiro KB: 测试 Ollama 连接`
2. 检查模型：`ollama list`
3. 检查配置：`kiro-kb.centralPath`

### Q3: 报告质量不好

**原因**：
- 当前版本工作追踪功能未完全实现
- 数据不足

**解决方案**：
- 等待后续版本完善工作追踪
- 手动补充工作数据

### Q4: 生成速度慢

**原因**：
- 本地 AI 模型运行在 CPU 上
- 模型较大（3B 参数）

**解决方案**：
- 正常现象，耐心等待（30 秒 - 2 分钟）
- 使用更小的模型（如 1.5B）
- 使用 GPU 加速（需要 Ollama 支持）

## 下一步

### 短期（本周）

1. **实现工作追踪**
   - 文件访问追踪
   - 搜索历史追踪
   - Git 提交追踪
   - 编辑时间追踪

2. **改进报告质量**
   - 优化 AI 提示词
   - 添加更多数据维度
   - 生成个人画像

### 中期（下周）

1. **自动触发**
   - 每日报告提示
   - 每周报告提示
   - 配置化触发时间

2. **更多功能**
   - 月报生成
   - 自定义报告模板
   - 报告导出

## 反馈

如果遇到问题或有建议，请：
1. 查看输出日志：`Kiro KB: 显示日志`
2. 提交 Issue 到 GitHub
3. 在知识库中记录问题

---

**版本**: v2.50.0  
**更新时间**: 2026-01-08  
**状态**: 基础功能可用 ✅
