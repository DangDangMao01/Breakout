---
domain: kiro
tags: [plugin, release, v2.39.0, v2.40.0, v2.41.0, v2.42.0, encoding, title-generation, backlinks]
date: 2026-01-05
source_project: "kiro-knowledge-base"
value_score: 8
---

# Kiro Knowledge Base v2.39.0 - v2.42.0 æ›´æ–°è¯´æ˜

## ç‰ˆæœ¬æ¦‚è§ˆ

| ç‰ˆæœ¬ | å‘å¸ƒæ—¥æœŸ | æ ¸å¿ƒåŠŸèƒ½ |
|------|----------|----------|
| v2.39.0 | 2026-01-05 | UTF-8 ç¼–ç è‡ªåŠ¨ä¿®å¤ |
| v2.40.0 | 2026-01-05 | æ™ºèƒ½æ ‡é¢˜ç”Ÿæˆ |
| v2.41.0 | 2026-01-05 | çŸ¥è¯†åŒå‘é“¾æ¥ |
| v2.42.0 | 2026-01-05 | ä¾§è¾¹æ ç‚¹å‡»æ’å…¥é“¾æ¥ |

---

## v2.39.0 - ç¼–ç è‡ªåŠ¨ä¿®å¤

### é—®é¢˜èƒŒæ™¯

Windows è·¨è®¾å¤‡åŒæ­¥çŸ¥è¯†åº“æ—¶ï¼ŒUTF-8 æ–‡ä»¶å¯èƒ½è¢«é”™è¯¯è¯†åˆ«ä¸º GBK ç¼–ç ï¼Œå¯¼è‡´ä¸­æ–‡æ˜¾ç¤ºä¹±ç ã€‚

**æ ¹æœ¬åŸå› **ï¼š
- çº¯ UTF-8 æ–‡ä»¶æ²¡æœ‰æ˜ç¡®çš„ç¼–ç æ ‡è®°
- ä¸åŒ Windows è®¾å¤‡çš„ç³»ç»ŸåŒºåŸŸè®¾ç½®å¯èƒ½ä¸åŒ
- Git åŒæ­¥åªä¼ è¾“å­—èŠ‚ï¼Œä¸å¤„ç†ç¼–ç è¯†åˆ«

### è§£å†³æ–¹æ¡ˆ

ä¸º Markdown æ–‡ä»¶æ·»åŠ  UTF-8 BOM (Byte Order Mark)ï¼Œç¡®ä¿æ‰€æœ‰ç¼–è¾‘å™¨æ­£ç¡®è¯†åˆ«ç¼–ç ã€‚

### æ–°å¢æ¨¡å—

`encoding.ts` - ç»Ÿä¸€ç¼–ç å¤„ç†æ¨¡å—

```typescript
// æ ¸å¿ƒå‡½æ•°
detectEncoding(buffer)           // æ£€æµ‹ç¼–ç ç±»å‹
safeReadFileWithEncoding(path)   // å®‰å…¨è¯»å–ï¼ˆè‡ªåŠ¨å¤„ç†ç¼–ç ï¼‰
safeWriteFileWithEncoding(path, content, addBom)  // å®‰å…¨å†™å…¥ï¼ˆå¸¦ BOMï¼‰
fixEncodingInDirectory(dir)      // æ‰¹é‡ä¿®å¤ç›®å½•
countFilesWithoutBom(dir)        // ç»Ÿè®¡ç¼ºå°‘ BOM çš„æ–‡ä»¶
```

### è‡ªåŠ¨ä¿®å¤æœºåˆ¶

æ’ä»¶å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œï¼š
1. å»¶è¿Ÿ 3 ç§’æ£€æµ‹ï¼ˆä¸å½±å“å¯åŠ¨é€Ÿåº¦ï¼‰
2. é™é»˜æ‰«ææœ¬åœ°å’Œä¸­å¤®çŸ¥è¯†åº“
3. â‰¤20 ä¸ªæ–‡ä»¶ â†’ è‡ªåŠ¨ä¿®å¤ï¼Œä¸æ‰“æ‰°ç”¨æˆ·
4. >20 ä¸ªæ–‡ä»¶ â†’ å¼¹çª—è¯¢é—®æ˜¯å¦ä¿®å¤

### æ–°å¢å‘½ä»¤

`Kiro KB: ä¿®å¤ç¼–ç  / Fix Encoding` - æ‰‹åŠ¨æ‰¹é‡ä¿®å¤

---

## v2.40.0 - æ™ºèƒ½æ ‡é¢˜ç”Ÿæˆ

### é—®é¢˜èƒŒæ™¯

å¯¹è¯æ•´ç†åŠŸèƒ½ç”Ÿæˆçš„æ–‡ä»¶æ ‡é¢˜ä¸è§„èŒƒï¼š
- å¸¦æœ‰ `## TASK 1:` ç­‰ä»»åŠ¡å‰ç¼€
- å¸¦æœ‰ `[è‡ªåŠ¨åŒ–]`ã€`Execute hook:` ç­‰ Hook å‰ç¼€
- é—®å¥å½¢å¼ä¸é€‚åˆä½œä¸ºæ ‡é¢˜

### è§£å†³æ–¹æ¡ˆ

`generateSmartTitle()` å‡½æ•°å®ç°å¤šå±‚ä¼˜åŒ–ï¼š

1. **æ¸…ç†æ— æ„ä¹‰å‰ç¼€**
   - `## TASK 1:` â†’ ç§»é™¤
   - `[è‡ªåŠ¨åŒ–]` â†’ ç§»é™¤
   - `Execute hook:` â†’ è½¬æ¢ä¸º `Hook: xxx`

2. **æ¸…ç† Markdown æ ¼å¼**
   - æ ‡é¢˜æ ‡è®° `#`
   - åŠ ç²— `**text**` â†’ `text`
   - é“¾æ¥ `[text](url)` â†’ `text`

3. **é—®å¥è½¬é™ˆè¿°å¥**
   - `å¦‚ä½•ä¿®å¤ç¼–ç ï¼Ÿ` â†’ `ä¿®å¤ç¼–ç æ–¹æ³•`
   - `ä¸ºä»€ä¹ˆä¼šä¹±ç ï¼Ÿ` â†’ `ä¹±ç åŸå› `
   - `How to fix?` â†’ `fix Guide`

4. **æ™ºèƒ½æå–**
   - ç”¨æˆ·é—®é¢˜æ— æ„ä¹‰æ—¶ï¼Œä» AI å›ç­”ä¸­æå–æ ‡é¢˜

5. **æ™ºèƒ½æˆªæ–­**
   - åœ¨æ ‡ç‚¹å¤„æˆªæ–­ï¼Œä¸è¶…è¿‡ 50 å­—ç¬¦
   - é¿å…æ–­è¯

### è½¬æ¢ç¤ºä¾‹

| åŸæ ‡é¢˜ | ä¼˜åŒ–å |
|--------|--------|
| `## TASK 1: v2.31.0 - UUID Binding` | `v2.31.0 - UUID Binding` |
| `[è‡ªåŠ¨åŒ–] Sync Documentation` | `Hook: Sync Documentation` |
| `å¦‚ä½•ä¿®å¤ç¼–ç é—®é¢˜ï¼Ÿ` | `ä¿®å¤ç¼–ç é—®é¢˜æ–¹æ³•` |
| `**STATUS**: done ...` | ä» AI å›ç­”æå– |

---

## æŠ€æœ¯è¦ç‚¹

### UTF-8 BOM

```
å­—èŠ‚åºåˆ—: 0xEF 0xBB 0xBF
ä½œç”¨: æ ‡è¯†æ–‡ä»¶ä¸º UTF-8 ç¼–ç 
å…¼å®¹æ€§: æ‰€æœ‰ç°ä»£ç¼–è¾‘å™¨æ”¯æŒ
```

### ç¼–ç æ£€æµ‹ä¼˜å…ˆçº§

1. UTF-8 BOM (EF BB BF)
2. UTF-16 LE (FF FE)
3. UTF-16 BE (FE FF)
4. çº¯ UTF-8ï¼ˆå­—èŠ‚åºåˆ—éªŒè¯ï¼‰

### é—®å¥è½¬æ¢è§„åˆ™

```typescript
const conversions = [
    [/^å¦‚ä½•(.+)/, '$1æ–¹æ³•'],
    [/^æ€ä¹ˆ(.+)/, '$1æ–¹æ³•'],
    [/^ä¸ºä»€ä¹ˆ(.+)/, '$1åŸå› '],
    [/^ä»€ä¹ˆæ˜¯(.+)/, '$1ä»‹ç»'],
    [/^How to (.+)/i, '$1 Guide'],
    [/^What is (.+)/i, '$1 Introduction'],
];
```

---

## æ–‡ä»¶å˜æ›´

| æ–‡ä»¶ | å˜æ›´ç±»å‹ | è¯´æ˜ |
|------|----------|------|
| `src/encoding.ts` | æ–°å¢ | ç¼–ç å¤„ç†æ¨¡å— |
| `src/extension.ts` | ä¿®æ”¹ | æ·»åŠ è‡ªåŠ¨ä¿®å¤ã€æ–°å‘½ä»¤ |
| `src/conversationDigest.ts` | ä¿®æ”¹ | æ™ºèƒ½æ ‡é¢˜ç”Ÿæˆ |
| `package.json` | ä¿®æ”¹ | ç‰ˆæœ¬å·ã€æ–°å‘½ä»¤æ³¨å†Œ |

---

## å‡çº§å»ºè®®

1. å®‰è£… v2.41.0 åï¼Œæ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä¿®å¤ç¼–ç é—®é¢˜
2. å¦‚æœ‰å¤§é‡å†å²æ–‡ä»¶ï¼Œå¯æ‰‹åŠ¨æ‰§è¡Œ `Kiro KB: ä¿®å¤ç¼–ç `
3. æ–°æ•´ç†çš„å¯¹è¯å°†è‡ªåŠ¨ä½¿ç”¨ä¼˜åŒ–åçš„æ ‡é¢˜æ ¼å¼
4. ä½¿ç”¨ `[[æ–‡ä»¶å]]` è¯­æ³•åˆ›å»ºçŸ¥è¯†é“¾æ¥ï¼Œæ”¯æŒè‡ªåŠ¨è¡¥å…¨

---

## v2.41.0 - çŸ¥è¯†åŒå‘é“¾æ¥

### åŠŸèƒ½èƒŒæ™¯

çŸ¥è¯†åº“æ–‡ä»¶ä¹‹é—´ç¼ºä¹å…³è”ï¼Œéš¾ä»¥å‘ç°ç›¸å…³å†…å®¹ã€‚åŒå‘é“¾æ¥ï¼ˆBacklinksï¼‰è®©çŸ¥è¯†å½¢æˆç½‘ç»œã€‚

### æ ¸å¿ƒåŠŸèƒ½

#### 1. Wiki é“¾æ¥è¯­æ³•

åœ¨ Markdown ä¸­ä½¿ç”¨ `[[æ–‡ä»¶å]]` åˆ›å»ºé“¾æ¥ï¼š

```markdown
å‚è€ƒ [[20260105-encoding-fix]] ä¸­çš„è§£å†³æ–¹æ¡ˆ
ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«å [[encoding-fix|ç¼–ç ä¿®å¤]]
```

#### 2. æ™ºèƒ½è¡¥å…¨

è¾“å…¥ `[[` åè‡ªåŠ¨å¼¹å‡ºæ–‡ä»¶åˆ—è¡¨ï¼š
- æ¨¡ç³Šæœç´¢æ–‡ä»¶å
- æ˜¾ç¤ºæ–‡ä»¶æ ‡é¢˜é¢„è§ˆ
- æŒ‰ Tab å®Œæˆæ’å…¥

#### 3. Ctrl+Click è·³è½¬

ç‚¹å‡» `[[é“¾æ¥]]` ç›´æ¥è·³è½¬åˆ°ç›®æ ‡æ–‡ä»¶ã€‚

#### 4. æ‚¬åœé¢„è§ˆ

é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šæ˜¾ç¤ºï¼š
- æ–‡ä»¶æ ‡é¢˜
- æ ‡ç­¾åˆ—è¡¨
- å†…å®¹æ‘˜è¦ï¼ˆå‰ 200 å­—ï¼‰

#### 5. åå‘é“¾æ¥æŸ¥çœ‹

å‘½ä»¤ `Kiro KB: æ˜¾ç¤ºåå‘é“¾æ¥` æ˜¾ç¤ºæ‰€æœ‰å¼•ç”¨å½“å‰æ–‡ä»¶çš„æ–‡æ¡£ã€‚

### æ–°å¢æ¨¡å—

`backlinks.ts` - åŒå‘é“¾æ¥ç³»ç»Ÿ

```typescript
// æ ¸å¿ƒç±»å‹
interface KnowledgeLink {
    sourceFile: string;      // æºæ–‡ä»¶
    targetName: string;      // ç›®æ ‡æ–‡ä»¶å
    targetPath?: string;     // è§£æåçš„å®Œæ•´è·¯å¾„
    position: { line, column };
    linkText: string;
}

// æ ¸å¿ƒå‡½æ•°
buildLinkIndex(kbPaths)      // æ„å»ºé“¾æ¥ç´¢å¼•
getBacklinks(filePath)       // è·å–åå‘é“¾æ¥
getOutgoingLinks(filePath)   // è·å–å‡ºé“¾
updateFileLinks(filePath)    // æ›´æ–°å•æ–‡ä»¶ç´¢å¼•

// è¯­è¨€ç‰¹æ€§æä¾›å™¨
WikiLinkCompletionProvider   // è‡ªåŠ¨è¡¥å…¨
WikiLinkDefinitionProvider   // è·³è½¬å®šä¹‰
WikiLinkHoverProvider        // æ‚¬åœé¢„è§ˆ
```

### æ–°å¢å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `Kiro KB: æ˜¾ç¤ºåå‘é“¾æ¥` | æ˜¾ç¤ºå¼•ç”¨å½“å‰æ–‡ä»¶çš„æ‰€æœ‰æ–‡æ¡£ |
| `Kiro KB: é‡å»ºé“¾æ¥ç´¢å¼•` | é‡æ–°æ‰«æå¹¶æ„å»ºé“¾æ¥ç´¢å¼• |

### ä½¿ç”¨ç¤ºä¾‹

```markdown
# ç¼–ç é—®é¢˜è§£å†³æ–¹æ¡ˆ

æœ¬æ–¹æ¡ˆåŸºäº [[utf8-bom-principle]] åŸç†ã€‚

## ç›¸å…³çŸ¥è¯†
- [[windows-encoding-issues]]
- [[cross-device-sync|è·¨è®¾å¤‡åŒæ­¥]]
```

### æŠ€æœ¯å®ç°

1. **æ–‡ä»¶åç¼“å­˜**ï¼šå¯åŠ¨æ—¶æ‰«ææ‰€æœ‰ .md æ–‡ä»¶å»ºç«‹æ˜ å°„
2. **é“¾æ¥è§£æ**ï¼šæ­£åˆ™åŒ¹é… `\[\[([^\]|]+)(?:\|([^\]]+))?\]\]`
3. **åŒå‘ç´¢å¼•**ï¼šoutgoingLinks + incomingLinks ä¸¤ä¸ª Map
4. **å¢é‡æ›´æ–°**ï¼šæ–‡ä»¶ä¿å­˜æ—¶åªæ›´æ–°å•æ–‡ä»¶ç´¢å¼•

---

## æ–‡ä»¶å˜æ›´æ±‡æ€»

| æ–‡ä»¶ | ç‰ˆæœ¬ | å˜æ›´ç±»å‹ | è¯´æ˜ |
|------|------|----------|------|
| `src/encoding.ts` | v2.39.0 | æ–°å¢ | ç¼–ç å¤„ç†æ¨¡å— |
| `src/backlinks.ts` | v2.41.0 | æ–°å¢ | åŒå‘é“¾æ¥æ¨¡å— |
| `src/extension.ts` | v2.39-42 | ä¿®æ”¹ | æ–°åŠŸèƒ½é›†æˆ |
| `src/knowledgePanel.ts` | v2.42.0 | ä¿®æ”¹ | ä¾§è¾¹æ é“¾æ¥é¢æ¿ |
| `src/conversationDigest.ts` | v2.40.0 | ä¿®æ”¹ | æ™ºèƒ½æ ‡é¢˜ç”Ÿæˆ |
| `package.json` | v2.42.0 | ä¿®æ”¹ | ç‰ˆæœ¬å·ã€å‘½ä»¤æ³¨å†Œ |

---

## v2.42.0 - ä¾§è¾¹æ ç‚¹å‡»æ’å…¥é“¾æ¥

### åŠŸèƒ½èƒŒæ™¯

v2.41.0 çš„ `[[` è‡ªåŠ¨è¡¥å…¨éœ€è¦ç”¨æˆ·è®°ä½è¯­æ³•å¹¶æ‰‹åŠ¨è¾“å…¥ï¼Œä¸å¤Ÿç›´è§‚ã€‚

### è§£å†³æ–¹æ¡ˆ

åœ¨ä¾§è¾¹æ æ·»åŠ  "æ’å…¥é“¾æ¥" åˆ†ç»„ï¼Œç‚¹å‡»æ–‡ä»¶åå³å¯æ’å…¥é“¾æ¥ã€‚

### æ–°å¢åŠŸèƒ½

#### 1. ä¾§è¾¹æ é“¾æ¥é¢æ¿

å·¦ä¾§ Knowledge Base é¢æ¿æ–°å¢ `ğŸ”— æ’å…¥é“¾æ¥` åˆ†ç»„ï¼š
- å±•å¼€æ˜¾ç¤ºæ‰€æœ‰çŸ¥è¯†åº“æ–‡ä»¶
- æŒ‰æœ€è¿‘ä¿®æ”¹æ—¶é—´æ’åº
- æ˜¾ç¤ºæ–‡ä»¶æ ‡é¢˜å’Œæ‰€å±æ–‡ä»¶å¤¹

#### 2. ç‚¹å‡»æ’å…¥

ç‚¹å‡»ä»»æ„æ–‡ä»¶ï¼š
- æœ‰æ‰“å¼€çš„ç¼–è¾‘å™¨ â†’ åœ¨å…‰æ ‡ä½ç½®æ’å…¥ `[[æ–‡ä»¶å]]`
- æ— ç¼–è¾‘å™¨ â†’ å¤åˆ¶é“¾æ¥åˆ°å‰ªè´´æ¿

#### 3. æœç´¢è¿‡æ»¤

ä½¿ç”¨é¢æ¿æœç´¢åŠŸèƒ½å¯è¿‡æ»¤æ–‡ä»¶åˆ—è¡¨ã€‚

### æŠ€æœ¯å®ç°

```typescript
// knowledgePanel.ts - æ–°å¢èŠ‚ç‚¹ç±»å‹
'root-links' | 'link-file'

// getLinkableFiles() - è·å–å¯é“¾æ¥æ–‡ä»¶
private getLinkableFiles(): KnowledgeTreeItem[] {
    const files = this.getAllKnowledgeFiles();
    return files.map(f => {
        const item = new KnowledgeTreeItem(...);
        item.command = {
            command: 'kiro-kb.insertLinkFromPanel',
            arguments: [fileName, title]
        };
        return item;
    });
}

// extension.ts - æ’å…¥é“¾æ¥å‘½ä»¤
function insertLinkFromPanel(fileName: string, title: string): void {
    const editor = vscode.window.activeTextEditor;
    if (!editor) {
        vscode.env.clipboard.writeText(`[[${fileName}]]`);
        return;
    }
    editor.edit(editBuilder => {
        editBuilder.insert(editor.selection.active, `[[${fileName}]]`);
    });
}
```

### ä½¿ç”¨æ–¹å¼

1. æ‰“å¼€å·¦ä¾§ Knowledge Base é¢æ¿
2. å±•å¼€ `ğŸ”— æ’å…¥é“¾æ¥` åˆ†ç»„
3. ç‚¹å‡»ç›®æ ‡æ–‡ä»¶å
4. é“¾æ¥è‡ªåŠ¨æ’å…¥åˆ°å½“å‰ç¼–è¾‘ä½ç½®
