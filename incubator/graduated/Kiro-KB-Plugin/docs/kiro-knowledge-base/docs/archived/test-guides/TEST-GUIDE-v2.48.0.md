# 🧪 v2.48.0 测试指南

**版本**: v2.48.0  
**测试日期**: 2026-01-07  
**测试重点**: 搜索建议 + 统计报告

---

## 📋 测试前准备

### 1. 安装插件

```
1. 打开 Kiro / VS Code
2. 按 Ctrl+Shift+X 打开扩展面板
3. 点击 ... → 从 VSIX 安装
4. 选择: kiro-knowledge-base-2.48.0.vsix
5. 重新加载窗口
```

### 2. 验证安装

```
1. 按 Ctrl+Shift+P
2. 输入 "Kiro KB"
3. 确认看到所有命令
4. 检查版本号是否为 2.48.0
```

---

## 🎯 核心功能测试

### 测试 1: 智能搜索建议 🔍

**目标**: 验证搜索建议功能正常工作

#### 步骤 1: 创建搜索历史

```
1. 按 Ctrl+Alt+K 打开快速搜索
2. 选择 "🔍 关键词搜索"
3. 搜索: "Unity Shader 优化"
4. 再次搜索: "Unity 性能分析"
5. 再次搜索: "VSCode 插件开发"
6. 再次搜索: "React Hooks 最佳实践"
7. 再次搜索: "TypeScript 类型系统"
```

#### 步骤 2: 测试前缀匹配

```
1. 按 Ctrl+Alt+K
2. 选择搜索模式
3. 输入: "Unity"
4. 观察建议列表

✅ 预期结果:
   - 看到 "Unity Shader 优化"
   - 看到 "Unity 性能分析"
   - 建议按相关性排序
```

#### 步骤 3: 测试包含匹配

```
1. 按 Ctrl+Alt+K
2. 输入: "优化"
3. 观察建议列表

✅ 预期结果:
   - 看到包含 "优化" 的历史记录
   - 如 "Unity Shader 优化"
```

#### 步骤 4: 测试分词匹配

```
1. 按 Ctrl+Alt+K
2. 输入: "性能"
3. 观察建议列表

✅ 预期结果:
   - 看到 "Unity 性能分析"
   - 分词匹配正常工作
```

#### 步骤 5: 测试热门搜索

```
1. 按 Ctrl+Alt+K
2. 不输入任何内容
3. 观察建议列表

✅ 预期结果:
   - 看到最热门的搜索（Top 5）
   - 按搜索次数排序
```

#### 步骤 6: 测试中英文混合

```
1. 搜索几次中文查询: "数据库设计"、"前端优化"
2. 搜索几次英文查询: "React", "TypeScript"
3. 测试中英文建议是否都正常

✅ 预期结果:
   - 中文建议正常
   - 英文建议正常
   - 混合查询正常
```

---

### 测试 2: 搜索统计报告 📊

**目标**: 验证统计报告功能

#### 步骤 1: 生成统计报告

```
1. 按 Ctrl+Shift+P
2. 输入 "Kiro KB: 搜索统计"
3. 或输入 "search statistics"
4. 执行命令

✅ 预期结果:
   - 打开 Markdown 文档
   - 显示统计报告
```

#### 步骤 2: 验证报告内容

检查报告是否包含：

```markdown
✅ 总体统计
   - 总搜索次数
   - 关键词搜索次数和百分比
   - 语义搜索次数和百分比
   - 平均结果数

✅ 热门搜索
   - Top 10 最常搜索的查询
   - 按搜索次数排序

✅ 最近搜索
   - 最近 10 次搜索
   - 显示时间（刚刚、X分钟前等）
   - 显示搜索模式图标（🔍/🤖）
   - 显示结果数

✅ 使用建议
   - 基于统计数据的智能建议
   - 如：建议尝试语义搜索
   - 如：建议添加到收藏夹
```

#### 步骤 3: 验证数据准确性

```
1. 手动计算搜索次数
2. 对比报告中的数字
3. 验证百分比计算正确

✅ 预期结果:
   - 数字准确
   - 百分比正确
   - 排序正确
```

---

### 测试 3: 搜索历史记录（v2.47.0 功能）

**目标**: 确保历史功能仍然正常

```
1. 按 Ctrl+Alt+K
2. 观察历史记录列表

✅ 预期结果:
   - 显示最近 5 条搜索
   - 显示搜索模式（🔍/🤖）
   - 显示时间
   - 可以选择历史记录
```

---

### 测试 4: 语义搜索（v2.46.0 功能）

**目标**: 确保语义搜索仍然正常

```
1. 按 Ctrl+Alt+K
2. 选择 "🤖 语义搜索"
3. 输入查询
4. 查看结果

✅ 预期结果:
   - 搜索正常工作
   - 显示相关度评分
   - 结果按相关度排序
```

---

## 🚀 性能测试

### 测试 5: 搜索建议性能

```
1. 创建 50+ 条搜索历史
2. 测试搜索建议响应时间

✅ 预期结果:
   - 建议生成 < 10ms
   - 界面响应流畅
   - 无明显延迟
```

### 测试 6: 统计报告性能

```
1. 生成统计报告
2. 观察生成时间

✅ 预期结果:
   - 报告生成 < 50ms
   - 打开文档流畅
```

---

## 🎨 用户体验测试

### 测试 7: 搜索效率提升

**场景**: 重复搜索相同内容

```
之前（v2.47.0）:
1. Ctrl+Alt+K
2. 选择模式
3. 完整输入 "Unity Shader 优化"
4. 搜索

现在（v2.48.0）:
1. Ctrl+Alt+K
2. 选择模式
3. 输入 "Unity"
4. 选择建议
5. 搜索

✅ 预期结果:
   - 输入时间减少 90%
   - 操作更流畅
```

### 测试 8: 数据洞察

**场景**: 了解搜索习惯

```
1. 查看统计报告
2. 发现最常搜索的主题
3. 根据建议优化搜索策略

✅ 预期结果:
   - 报告清晰易懂
   - 建议实用
   - 帮助优化使用
```

---

## 🐛 边界情况测试

### 测试 9: 空历史记录

```
1. 清空搜索历史（如果有清空功能）
2. 或使用新的工作区
3. 测试搜索建议

✅ 预期结果:
   - 不报错
   - 显示空列表或提示
```

### 测试 10: 特殊字符

```
1. 搜索包含特殊字符的内容
   - "C++ 编程"
   - "React.js 教程"
   - "Node.js & Express"
2. 测试建议是否正常

✅ 预期结果:
   - 特殊字符处理正确
   - 建议匹配正常
```

### 测试 11: 长查询

```
1. 搜索很长的查询（> 100 字符）
2. 测试建议和统计

✅ 预期结果:
   - 不报错
   - 显示正常
```

---

## 📊 测试结果记录

### 功能测试结果

| 测试项 | 状态 | 备注 |
|--------|------|------|
| 搜索建议 - 前缀匹配 | ⬜ 待测试 | |
| 搜索建议 - 包含匹配 | ⬜ 待测试 | |
| 搜索建议 - 分词匹配 | ⬜ 待测试 | |
| 搜索建议 - 热门搜索 | ⬜ 待测试 | |
| 搜索建议 - 中英文 | ⬜ 待测试 | |
| 统计报告 - 生成 | ⬜ 待测试 | |
| 统计报告 - 内容 | ⬜ 待测试 | |
| 统计报告 - 准确性 | ⬜ 待测试 | |
| 搜索历史 | ⬜ 待测试 | |
| 语义搜索 | ⬜ 待测试 | |

### 性能测试结果

| 测试项 | 目标 | 实际 | 状态 |
|--------|------|------|------|
| 搜索建议生成 | < 10ms | ⬜ | ⬜ 待测试 |
| 统计报告生成 | < 50ms | ⬜ | ⬜ 待测试 |

### 边界测试结果

| 测试项 | 状态 | 备注 |
|--------|------|------|
| 空历史记录 | ⬜ 待测试 | |
| 特殊字符 | ⬜ 待测试 | |
| 长查询 | ⬜ 待测试 | |

---

## 🔍 问题记录

### 发现的问题

| 问题 | 严重性 | 描述 | 状态 |
|------|--------|------|------|
| - | - | - | - |

---

## ✅ 测试完成检查清单

- [ ] 所有核心功能测试通过
- [ ] 性能测试达标
- [ ] 边界情况处理正确
- [ ] 无严重 Bug
- [ ] 用户体验良好
- [ ] 文档准确

---

## 📝 测试总结

**测试人员**: ___________  
**测试日期**: ___________  
**测试时长**: ___________  

**总体评价**: ⬜ 优秀 ⬜ 良好 ⬜ 一般 ⬜ 需改进

**主要发现**:
- 

**改进建议**:
- 

**是否可以发布**: ⬜ 是 ⬜ 否

---

## 🎯 快速测试（5分钟版）

如果时间有限，至少测试这些：

```
1. ✅ 安装插件
2. ✅ 创建 3-5 条搜索历史
3. ✅ 测试搜索建议（输入几个字符）
4. ✅ 生成统计报告
5. ✅ 检查报告内容是否正确
```

---

**准备好了吗？开始测试吧！** 🚀
