# v2.49.0 手动测试指南

**版本**: v2.49.0  
**测试日期**: 2026-01-09  
**测试人**: [你的名字]

---

## 测试前准备

### 1. 安装 v2.49.0
- [ ] 卸载当前版本
- [ ] 安装 `kiro-knowledge-base-2.49.0.vsix`
- [ ] 重新加载窗口（Reload Window）
- [ ] 确认左侧面板显示 "KNOWLEDGE BASE..."

### 2. 确认环境
- [ ] 中央知识库路径已配置：`D:\G_GitHub\Kiro-Central-KB`
- [ ] 当前项目：`Kiro-KB-Plugin`
- [ ] 本地知识库存在：`knowledge-base/` 目录

---

## 测试 1: 双区域面板布局

### 1.1 检查面板结构
- [ ] 左侧面板显示 "KNOWLEDGE BASE..." 标题
- [ ] 看到 "📁 当前项目: Kiro-KB-Plugin" 节点
- [ ] 看到 "☁️ 中央知识库 (83)" 节点
- [ ] 看到 "⭐ 收藏" 节点（如果有收藏）
- [ ] 看到 "🕐 最近更新" 节点
- [ ] 看到 "🏷️ 标签 (159)" 节点
- [ ] 看到 "⚙️ 设置" 节点

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 1.2 测试当前项目区域
- [ ] 点击 "📁 当前项目" 展开
- [ ] 看到 "💬 对话整理 (4 待整理)" 节点
- [ ] 看到 "🔍 项目内搜索" 节点
- [ ] 看到 "📂 文档浏览 (21)" 节点
- [ ] 看到 "🔧 整理知识库" 节点

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 1.3 测试中央知识库区域
- [ ] 点击 "☁️ 中央知识库" 展开
- [ ] 看到 "🔍 全局搜索" 节点
- [ ] 看到 "💡 搜索建议" 节点
- [ ] 看到 "📊 搜索统计" 节点
- [ ] 看到 "🔥 热门知识" 节点
- [ ] 看到 "📁 按项目浏览" 节点

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 1.4 测试区域折叠状态持久化
- [ ] 折叠 "当前项目" 区域
- [ ] 展开 "中央知识库" 区域
- [ ] 重新加载窗口（Reload Window）
- [ ] 确认状态保持（当前项目折叠，中央知识库展开）

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

---

## 测试 2: 搜索功能

### 2.1 测试项目内搜索
- [ ] 点击 "🔍 项目内搜索" 节点
- [ ] 或使用命令面板：`Kiro KB: 搜索知识库`
- [ ] 选择 "🔍 关键词搜索"
- [ ] 输入搜索词：`ollama`
- [ ] 确认搜索结果只来自本地（📁 本地）
- [ ] 点击一个结果，确认文件打开

**结果**: ✅ 通过 / ❌ 失败  
**找到结果数**: _____  
**备注**: _______________

### 2.2 测试全局搜索（关键词）
- [ ] 点击 "🔍 全局搜索" 节点
- [ ] 或使用命令面板：`Kiro KB: 搜索知识库`
- [ ] 选择 "🔍 关键词搜索"
- [ ] 输入搜索词：`vscode`
- [ ] 确认搜索结果包含两种来源：
  - [ ] 📁 本地
  - [ ] ☁️ 中央
- [ ] 点击一个结果，确认文件打开

**结果**: ✅ 通过 / ❌ 失败  
**找到结果数**: _____  
**本地结果数**: _____  
**中央结果数**: _____  
**备注**: _______________

### 2.3 测试全局搜索（语义）
- [ ] 点击 "🔍 全局搜索" 节点
- [ ] 选择 "🤖 语义搜索"
- [ ] 输入搜索词：`插件开发`
- [ ] 确认搜索结果包含相关度分数（⭐ 0.XX）
- [ ] 确认结果按相关度排序
- [ ] 点击一个结果，确认文件打开

**结果**: ✅ 通过 / ❌ 失败  
**找到结果数**: _____  
**备注**: _______________

### 2.4 测试搜索历史记录
- [ ] 执行 2-3 次搜索
- [ ] 点击 "💡 搜索建议" 节点
- [ ] 确认显示最近的搜索建议（最多 5 个）
- [ ] 点击一个建议，确认自动填充搜索词

**结果**: ✅ 通过 / ❌ 失败  
**显示建议数**: _____  
**备注**: _______________

### 2.5 测试搜索统计
- [ ] 点击 "📊 搜索统计" 节点
- [ ] 确认显示统计报告：
  - [ ] 总搜索次数
  - [ ] 关键词搜索次数和百分比
  - [ ] 语义搜索次数和百分比
  - [ ] 平均结果数
  - [ ] 热门搜索列表
  - [ ] 最近搜索列表
  - [ ] 使用建议

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

---

## 测试 3: 访问追踪和热门知识

### 3.1 测试访问追踪
- [ ] 打开 3-5 个不同的知识文件
- [ ] 多次打开同一个文件（测试计数）
- [ ] 点击 "🔥 热门知识" 节点
- [ ] 确认显示访问次数最多的文件（最多 10 个）
- [ ] 确认显示访问次数（例如：访问 3 次）

**结果**: ✅ 通过 / ❌ 失败  
**显示热门知识数**: _____  
**备注**: _______________

### 3.2 测试访问次数更新
- [ ] 记录某个文件的当前访问次数
- [ ] 再次打开该文件
- [ ] 刷新面板（点击刷新按钮或重新加载）
- [ ] 确认访问次数增加

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

---

## 测试 4: 现有功能兼容性

### 4.1 测试对话整理
- [ ] 点击 "💬 对话整理" 节点
- [ ] 确认显示待整理对话列表
- [ ] 点击一个对话，确认可以整理

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 4.2 测试文档浏览
- [ ] 点击 "📂 文档浏览" 节点
- [ ] 确认显示按分类分组的文件列表
- [ ] 点击一个文件，确认可以打开

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 4.3 测试整理知识库
- [ ] 点击 "🔧 整理知识库" 节点
- [ ] 确认显示整理选项
- [ ] 测试一个整理功能

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 4.4 测试按项目浏览
- [ ] 点击 "📁 按项目浏览" 节点
- [ ] 确认显示项目列表
- [ ] 点击一个项目，确认可以浏览

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 4.5 测试标签功能
- [ ] 点击 "🏷️ 标签" 节点
- [ ] 确认显示标签列表
- [ ] 点击一个标签，确认显示相关文件

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 4.6 测试最近更新
- [ ] 点击 "🕐 最近更新" 节点
- [ ] 确认显示最近更新的文件
- [ ] 点击一个文件，确认打开

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

---

## 测试 5: 边界情况

### 5.1 测试未配置中央路径
- [ ] 打开设置（Ctrl+,）
- [ ] 搜索 `kiro-kb.centralPath`
- [ ] 清空中央路径配置
- [ ] 重新加载窗口
- [ ] 确认不显示 "中央知识库" 区域
- [ ] 恢复中央路径配置

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 5.2 测试空搜索历史
- [ ] 清除搜索历史（如果有清除功能）
- [ ] 或使用新的工作区
- [ ] 点击 "💡 搜索建议" 节点
- [ ] 确认显示 "暂无搜索建议" 或类似提示

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 5.3 测试空访问记录
- [ ] 清除访问记录（如果有清除功能）
- [ ] 或使用新的工作区
- [ ] 点击 "🔥 热门知识" 节点
- [ ] 确认显示 "暂无热门知识" 或类似提示

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 5.4 测试项目切换
- [ ] 打开另一个工作区（如果有）
- [ ] 或切换到另一个项目文件夹
- [ ] 确认面板自动刷新
- [ ] 确认显示新项目的名称

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 5.5 测试搜索无结果
- [ ] 执行搜索，输入一个不存在的词：`xyzabc123`
- [ ] 确认显示 "未找到相关结果" 提示
- [ ] 确认不会崩溃或报错

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

---

## 测试 6: 性能测试

### 6.1 测试大量文件
- [ ] 在有大量文件的知识库中测试（如果有）
- [ ] 执行全局搜索
- [ ] 记录搜索时间：_____ 秒
- [ ] 确认界面不卡顿

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 6.2 测试面板刷新速度
- [ ] 点击刷新按钮（如果有）
- [ ] 或重新加载窗口
- [ ] 记录刷新时间：_____ 秒
- [ ] 确认界面响应流畅

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

---

## 测试 7: 用户体验

### 7.1 测试图标和标签
- [ ] 确认所有节点都有合适的图标
- [ ] 确认图标含义清晰（📁 本地、☁️ 中央等）
- [ ] 确认标签文字清晰易懂

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 7.2 测试提示信息
- [ ] 鼠标悬停在节点上，确认有 tooltip
- [ ] 确认 tooltip 内容有帮助
- [ ] 确认错误提示清晰

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

### 7.3 测试中英文切换
- [ ] 如果支持语言切换，测试中英文界面
- [ ] 确认所有文字都正确翻译
- [ ] 确认布局不会错乱

**结果**: ✅ 通过 / ❌ 失败  
**备注**: _______________

---

## 测试总结

### 通过的测试
- [ ] 测试 1: 双区域面板布局
- [ ] 测试 2: 搜索功能
- [ ] 测试 3: 访问追踪和热门知识
- [ ] 测试 4: 现有功能兼容性
- [ ] 测试 5: 边界情况
- [ ] 测试 6: 性能测试
- [ ] 测试 7: 用户体验

### 发现的问题

| 编号 | 问题描述 | 严重程度 | 复现步骤 |
|------|----------|----------|----------|
| 1    |          | 高/中/低 |          |
| 2    |          | 高/中/低 |          |
| 3    |          | 高/中/低 |          |

### 改进建议

1. _______________
2. _______________
3. _______________

### 总体评价

- **功能完整性**: ⭐⭐⭐⭐⭐ (1-5 星)
- **性能表现**: ⭐⭐⭐⭐⭐ (1-5 星)
- **用户体验**: ⭐⭐⭐⭐⭐ (1-5 星)
- **稳定性**: ⭐⭐⭐⭐⭐ (1-5 星)

### 是否推荐发布

- [ ] ✅ 推荐发布（所有测试通过，无严重问题）
- [ ] ⚠️ 建议修复后发布（有中等问题需要修复）
- [ ] ❌ 不推荐发布（有严重问题）

### 测试完成

**测试人**: _______________  
**测试日期**: 2026-01-09  
**测试时长**: _____ 分钟  
**签名**: _______________

---

## 附录：快速测试清单

如果时间有限，至少测试以下核心功能：

- [ ] 双区域面板显示正常
- [ ] 项目内搜索可用
- [ ] 全局搜索可用
- [ ] 搜索结果来源标注正确
- [ ] 热门知识显示正常
- [ ] 现有功能不受影响
- [ ] 无明显错误或崩溃

**快速测试结果**: ✅ 通过 / ❌ 失败
