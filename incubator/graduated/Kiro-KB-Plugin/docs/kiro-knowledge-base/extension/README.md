# Kiro Knowledge Base

> 版本 2.52.0 | Version 2.52.0

自动保存和检索 Kiro 对话到中央知识库，实现跨项目知识复用。

Auto-save and retrieve Kiro conversations to a central knowledge base for cross-project knowledge reuse.

---

## ✨ v2.52.0 新功能

**🎯 用户体验优化版本**：让插件更易用、更智能、更友好！

- 🎉 **首次使用引导** - 启动时验证路径，3步完成设置，60秒上手
- 📚 **侧边栏简化** - 减少层级，最常用功能放前面，1-2次点击即达
- 🤖 **自动化配置** - 零配置启动，自动检测知识库，智能修复问题
- 📝 **命名优化** - 简洁直观的命名，清晰的 Tooltip，一看就懂
- ❓ **帮助系统** - 快速开始指南、常见问题 FAQ、智能提示

详见：[v2.52.0 发布说明](../RELEASE-NOTES-v2.52.0.md)

---

## 📚 v2.49.0 功能

**双知识库界面区分**：侧边栏面板明确区分"当前项目"和"中央知识库"两个功能区域

- 📁 **当前项目区域** - 专注于项目级知识管理
  - 💬 对话整理 / 🔍 项目内搜索 / 📚 知识库文档 / 🔧 整理知识库
- ☁️ **中央知识库区域** - 全局知识管理
  - 🔍 全局搜索 / 💡 搜索建议 / 📊 搜索统计 / 🔥 热门知识 / 📁 按项目浏览
- 🔥 **热门知识追踪** - 自动记录访问次数，快速访问常用知识
- ⚙️ **状态持久化** - 记住面板展开/折叠状态

详见：[v2.49.0 发布说明](../RELEASE-NOTES-v2.49.0.md)

---

## 📚 侧边栏面板 / Sidebar Panel

安装后，在活动栏（左侧图标栏）会出现 📚 图标，点击打开知识库面板：

| 节点 | 说明 |
|------|------|
| 📊 概览 | 知识库统计概览 + 健康度评分（v2.33.0 新增） |
| ⚡ 快捷操作 | 常用功能快捷入口（v2.33.0 新增） |
| 💬 对话整理 | Kiro 对话整理入口，显示待整理数量（v2.37.0 新增） |
| ⭐ 收藏 | 收藏的常用知识，优先显示 |
| 🟢/🟡/🔴 当前项目 | 当前项目状态 + 本地知识库（v2.34.0 增强） |
| ☁️ 中央知识 | 中央知识库内容 |
| 📂 项目 | 按项目分组的知识（v2.29.0 新增） |
| 📁 按项目浏览 | 按项目类型分组浏览知识（v2.44.0 新增） |
| 🕐 最近更新 | 最近修改的 10 个文件 |
| 🏷️ 标签 | 按标签浏览知识（Top 20） |
| ⏰ 过期 | 超过 staleDays 天未更新的知识 |
| 📋 待办 | pending/draft 状态的问题 |
| ⚙️ 设置 | 快速访问插件配置项，点击可直接修改（v2.32.0 新增） |

### 📊 概览节点 / Overview Node (v2.33.0)

展开后显示知识库统计信息：

| 指标 | 说明 |
|------|------|
| 📚 总知识数 | 本地 + 中央知识总数 |
| 📈 本周更新 | 最近 7 天内更新的知识数量 |
| 📋 待处理 | 待办问题数量（点击可查看） |
| ⚠️ 需复查 | 过期知识数量（点击可复查） |
| 🟢/🟡/🔴 健康度 | 知识库健康度评分（点击查看详细报告） |

### ⚡ 快捷操作 / Quick Actions (v2.33.0)

| 操作 | 快捷键 | 说明 |
|------|--------|------|
| 📸 智能捕获 | Ctrl+Alt+C | 一键捕获内容到知识库 |
| 💡 暂存问题 | Ctrl+Alt+Q | 快速记录想法或问题 |
| 🔍 快速搜索 | Ctrl+Alt+K | 搜索知识库内容 |
| 💡 智能推荐 | Ctrl+Alt+R | 基于上下文推荐相关知识 |
| ☁️ 同步到中央 | - | 同步本地知识到中央项目 |

### 💬 对话整理 / Conversation Digest (v2.37.0)

展开后显示对话整理功能：

| 项目 | 说明 |
|------|------|
| 📊 总对话 | 历史对话总数 |
| 📝 未整理 | 尚未整理的对话数量 |
| ⭐ 待整理 | 有价值的对话数量（点击可整理） |
| 🔄 整理对话 | 手动整理对话到知识库 |
| 📋 扫描历史 | 扫描所有对话历史 |
| ✅/❌ 打开时检查 | 打开项目时自动检查历史对话 |
| 📈 最小价值分 | 只整理价值分 ≥ 此值的对话 |

**v2.37.0 新增功能：**
- 🔍 重复检测：保存前自动检查知识库是否已有类似内容
- 📝 知识提炼：自动将对话转化为结构化的问题→解决方案格式
- 🔗 关联链接：自动关联相似的已有知识

### 工具快捷入口 / Tools

| 工具 | 说明 |
|------|------|
| 🔗 知识关联图 | 可视化展示知识关联 |
| 📤 导出知识 | 导出为 Markdown/HTML/JSON |
| 🔄 Git 同步 | Git 操作菜单 |
| 📊 生成报告 | 生成知识库分析报告 |
| 📑 生成索引 | 生成 INDEX.md |
| 🏷️ 标签管理 | 重命名/合并/删除标签 |

---

## ⌨️ 快捷键速查 / Keyboard Shortcuts

| 功能 | Windows/Linux | Mac | 说明 |
|------|---------------|-----|------|
| 暂存问题 | `Ctrl+Alt+Q` | `Cmd+Alt+Q` | 快速记录想法或问题 |
| AI 总结保存 | `Ctrl+Alt+S` | `Cmd+Alt+S` | 生成 AI 提示，让 Kiro 总结对话 |
| 快速搜索 | `Ctrl+Alt+K` | `Cmd+Alt+K` | 搜索知识库内容（关键词/语义） |
| 从模板创建 | `Ctrl+Alt+T` | `Cmd+Alt+T` | 使用模板创建知识条目 |
| 查看待办 | `Ctrl+Alt+B` | `Cmd+Alt+B` | 查看和处理待办问题 |
| 智能捕获 | `Ctrl+Alt+C` | `Cmd+Alt+C` | 一键捕获内容到知识库 |
| 全局搜索 | `Ctrl+Alt+F` | `Cmd+Alt+F` | 搜索本地+中央知识库 |
| 智能推荐 | `Ctrl+Alt+R` | `Cmd+Alt+R` | 基于上下文智能推荐相关知识 |
| 分析知识缺口 | `Ctrl+Alt+G` | `Cmd+Alt+G` | 分析知识库覆盖情况，识别知识缺口 |
| 插入知识链接 | `Ctrl+Alt+L` | `Cmd+Alt+L` | 快速插入知识库文件链接 |
| 显示相关知识 | `Ctrl+Shift+Alt+R` | `Cmd+Shift+Alt+R` | 显示当前文件的相关知识推荐 |

### 自定义快捷键 / Customize Shortcuts

1. 按 `Ctrl+K Ctrl+S`（Mac: `Cmd+K Cmd+S`）打开快捷键设置
2. 搜索 `kiro-kb` 找到所有插件命令
3. 双击要修改的命令，输入新快捷键

### 快捷键冲突 / Shortcut Conflicts

如果快捷键与其他插件冲突：
- VS Code 会在快捷键设置中显示 ⚠️ 警告图标
- 双击冲突的快捷键，选择修改或删除
- 也可以右键选择"删除快捷键绑定"

---

## 功能概览 / Features Overview

### 🔧 自动功能 (安装后自动启用) / Auto Features

| 功能 | 说明 |
|------|------|
| 📂 自动检测同步 | 打开项目时检测本地知识库，提示同步到中央 |
| 📋 待办问题提醒 | 状态栏显示待办数量，打开时提醒处理 |
| ⏰ 智能空闲提醒 | 工作一段时间后提醒保存有价值内容 |
| 🔍 知识库验证 | 自动验证中央知识库路径和结构 |
| 🧹 自动清理 | 删除的问题保留60天后自动清理 |
| 🔤 自动编码修复 | 启动时检测并修复 UTF-8 编码问题（≤20文件静默修复，>20文件询问）（v2.39.0 新增） |
| 📊 工作模式分析 | 本地 AI 分析工作模式，生成日报/周报（需配置 Ollama）（开发中） |

### 🎛️ 手动功能 (需用户触发) / Manual Features

| 命令 | 快捷键 | 说明 |
|------|--------|------|
| `Kiro KB: 设置知识库` | - | 设置中央知识库路径，创建目录结构 |
| `Kiro KB: 同步到中央仓库` | - | 将本地知识库同步到中央 |
| `Kiro KB: 生成索引` | - | 生成 INDEX.md 索引文件 |
| `Kiro KB: 打开知识库` | - | 打开中央知识库 |
| `Kiro KB: 暂存问题` | `Ctrl+Alt+Q` | 保存问题到待办队列 |
| `Kiro KB: 查看待办` | `Ctrl+Alt+B` | 查看和处理待办问题 |
| `Kiro KB: 提交到中央` | - | 将本地待办提交到中央知识库 |
| `Kiro KB: 分析待办问题` | - | 生成批量分析任务 |
| `Kiro KB: 切换语言` | - | 切换中文/英文界面 |
| `Kiro KB: 显示日志` | - | 打开输出面板查看插件日志 |
| `Kiro KB: 从模板创建` | `Ctrl+Alt+T` | 使用模板快速创建知识条目 |
| `Kiro KB: 生成分析报告` | - | 生成知识库统计分析报告 |
| `Kiro KB: 管理模板` | - | 查看/创建/管理知识条目模板 |
| `Kiro KB: AI总结保存` | `Ctrl+Alt+S` | 生成 AI 总结提示，复制到剪贴板 |
| `Kiro KB: 快速搜索` | `Ctrl+Alt+K` | 快速搜索知识库内容（支持关键词/语义搜索） |
| `Kiro KB: 范围搜索` | - | 指定范围搜索（local=项目内 / all=全局） |
| `Kiro KB: 智能捕获` | `Ctrl+Alt+C` | 一键捕获内容到知识库（含项目上下文） |
| `Kiro KB: 全局搜索` | `Ctrl+Alt+F` | 搜索本地+中央知识库 |
| `Kiro KB: 项目上下文` | - | 显示当前项目技术栈、Git 信息 |
| `Kiro KB: 知识关联图` | - | 可视化展示知识关联（支持交互操作） |
| `Kiro KB: 导出知识` | - | 导出知识为 Markdown/HTML/JSON |
| `Kiro KB: Git 同步` | - | Git 操作菜单（Pull/Push/Commit/Status） |
| `Kiro KB: Git 推送` | - | 推送更改到远程仓库 |
| `Kiro KB: Git 拉取` | - | 从远程仓库拉取更新 |
| `Kiro KB: 智能分类` | - | 对当前文件进行智能分类 |
| `Kiro KB: 批量分类` | - | 批量分类知识库中未分类的文件 |
| `Kiro KB: 质量评估` | - | 对当前文件进行质量评估（5维度10分制） |
| `Kiro KB: 批量质量评估` | - | 批量评估知识库文件质量 |
| `Kiro KB: 构建知识图谱` | - | 构建知识节点关联图谱 |
| `Kiro KB: 相关推荐` | - | 基于当前文件获取相关知识推荐 |
| `Kiro KB: 清理分析` | - | 分析知识库，生成清理/归档建议 |
| `Kiro KB: 归档文件` | - | 手动选择文件进行归档 |
| `Kiro KB: 智能推荐` | - | 基于当前上下文智能推荐相关知识 |
| `Kiro KB: 访问历史` | - | 查看知识库访问历史记录 |
| `Kiro KB: 分析知识缺口` | - | 分析知识库覆盖情况，识别知识缺口 |
| `Kiro KB: 健康度仪表盘` | - | 显示知识库健康度评估仪表盘 |
| `Kiro KB: 生成学习路径` | - | 基于主题生成学习路径 |
| `Kiro KB: 交互式知识图谱` | - | 显示交互式知识图谱（支持节点操作） |
| `Kiro KB: 创建项目` | - | 在中央知识库创建新项目 |
| `Kiro KB: 打开项目` | - | 打开已有项目目录 |
| `Kiro KB: 迁移到项目` | - | 将 notes 下的 *-docs 文件夹迁移到 projects 目录 |
| `Kiro KB: 绑定项目` | - | 手动绑定当前项目到中央知识库项目 |
| `Kiro KB: 同步到中央项目` | - | 同步本地知识库到绑定的中央项目 |
| `Kiro KB: 提取代码注释` | - | 从代码中提取 TODO/FIXME/NOTE/BUG 注释 |
| `Kiro KB: 插入知识链接` | - | 快速插入知识库文件链接 |
| `Kiro KB: 显示相关知识` | - | 显示当前文件的相关知识推荐 |
| `Kiro KB: 整理对话` | - | 整理 Kiro 对话到知识库（v2.35.0 新增） |
| `Kiro KB: 扫描对话历史` | - | 扫描所有对话历史并显示统计（v2.35.0 新增） |
| `Kiro KB: 整理知识库` | - | 分析知识库问题，生成整理提示让 Kiro 执行（v2.38.0 新增） |
| `Kiro KB: 提炼知识` | - | 检测低质量对话记录，生成结构化提炼任务（v2.43.0 新增） |
| `Kiro KB: 修复编码` | - | 为 Markdown 文件添加 UTF-8 BOM，解决跨设备中文乱码（v2.39.0 新增） |
| `Kiro KB: 显示反向链接` | - | 显示引用当前文件的所有知识（v2.41.0 新增） |
| `Kiro KB: 重建链接索引` | - | 重新扫描知识库构建链接索引（v2.41.0 新增） |
| `Kiro KB: 搜索统计` | - | 显示搜索习惯分析报告（v2.48.0 新增） |
| `Kiro KB: 生成日报` | - | 生成工作日报（需配置 Ollama）（v2.50.0 实现，暂未启用） |
| `Kiro KB: 生成周报` | - | 生成工作周报（需配置 Ollama）（v2.50.0 实现，暂未启用） |
| `Kiro KB: 测试 Ollama 连接` | - | 测试 Ollama 本地 AI 连接状态（v2.50.0 实现，暂未启用） |

---

## 配置项 / Settings

| 配置项 | 默认值 | 说明 |
|--------|--------|------|
| `kiro-kb.centralPath` | "" | 中央知识库路径 |
| `kiro-kb.autoSync` | false | 自动同步模式（无需确认） |
| `kiro-kb.backlogMode` | "auto" | 问题暂存模式：local/central/auto |
| `kiro-kb.autoAnalyze` | "manual" | Kiro分析时机：manual/onOpen/never |
| `kiro-kb.language` | "zh" | 界面语言：zh/en |
| `kiro-kb.idleReminderMinutes` | 10 | 空闲提醒间隔（分钟），0=禁用 |
| `kiro-kb.reminder.enabled` | true | 启用空闲提醒 / Enable idle reminder |
| `kiro-kb.reminder.minEdits` | 20 | 触发提醒的最小编辑次数 |
| `kiro-kb.reminder.minMinutes` | 5 | 触发提醒的最小工作时长（分钟） |
| `kiro-kb.reminderDays` | [7, 30] | 待办提醒天数 [警告, 严重] |
| `kiro-kb.staleDays` | 90 | 过期知识阈值天数 |
| `kiro-kb.gitAutoSync` | false | Git 自动同步开关 |
| `kiro-kb.graphEdgeThreshold` | 5 | 知识关联图边权重阈值（1-20，越低连接越多） |
| `kiro-kb.errorReportEnabled` | true | 启用错误报告 |
| `kiro-kb.defaultExpandedSection` | "current" | 默认展开的面板区域：current/central/both（v2.49.0 新增） |
| `kiro-kb.useDualPanelLayout` | true | 使用双区域面板布局（v2.49.0 新增） |
| `kiro-kb.ollama.enabled` | false | 启用 Ollama 本地 AI 集成（v2.50.0 配置项已添加，功能暂未启用） |
| `kiro-kb.ollama.baseUrl` | "http://localhost:11434" | Ollama API 地址 |
| `kiro-kb.ollama.model` | "qwen2.5:3b" | 使用的 AI 模型（如 qwen2.5:3b, llama3.2:3b） |
| `kiro-kb.ollama.dailyReportTime` | "18:00" | 每日报告生成时间（HH:MM 格式） |
| `kiro-kb.ollama.weeklyReportDay` | 0 | 每周报告生成日（0=周日，6=周六） |
| `kiro-kb.enableSmartLinkConfirm` | true | 启用智能链接确认（v2.49.1 新增） |
| `kiro-kb.linkRelevanceThreshold` | 60 | 链接相关性阈值（分数≥此值直接插入，否则需确认）（v2.49.1 新增） |

### 配置说明 / Settings Guide

**backlogMode 问题暂存模式：**

| 模式 | 说明 | 适用场景 |
|------|------|----------|
| `local` | 问题只保存到当前项目的 `knowledge-base/backlog/` | 项目相关问题，不想污染中央库 |
| `central` | 问题直接保存到中央知识库的 `backlog/pending/` | 通用问题，希望集中管理 |
| `auto` | 保存到本地，打开项目时提醒是否提交到中央 | 推荐！灵活选择 |

**如何修改暂存模式：**
1. 按 `Ctrl+,` 打开设置
2. 搜索 `kiro-kb.backlogMode`
3. 选择 `local`、`central` 或 `auto`

**autoAnalyze Kiro分析时机：**

| 模式 | 说明 |
|------|------|
| `manual` | 手动执行 `Kiro KB: 分析待办问题` 触发 |
| `onOpen` | 打开中央知识库时自动询问是否批量分析 |
| `never` | 从不自动分析，完全手动控制 |

---

## 问题暂存系统 / Question Backlog System

### 使用流程 / How to Use

**暂存问题：**
1. 按 `Ctrl+Shift+P`，执行 `Kiro KB: 暂存问题`
2. 输入问题描述（如："如何优化这个算法？"）
3. 选择优先级：🔴高 / 🟡普通 / 🟢低
4. 选择类型：🐛Bug / ✨功能 / 💡灵感 / ❓疑问
5. 完成！问题已保存

**处理待办：**
1. 点击状态栏 `📋 待办: X` 或执行 `Kiro KB: 查看待办`
2. 选择要处理的问题
3. 选择操作：
   - ✅ 解决 → 归档到 solutions/
   - 🤖 让 Kiro 分析 → 获取 AI 建议
   - ☁️ 提交到中央 → 移到中央知识库
   - 🗑️ 删除 → 保留 60 天后清理

### 生命周期 / Lifecycle

```
创建 → pending → draft → resolved → archived (solutions/)
         ↓
      deleted → 60天后自动清理
```

### 优先级规则 / Priority Rules

1. 用户手动标记优先级
2. 未标记时，根据中央知识库中类似问题数量自动提升：
   - 类似问题 ≥ 3 → 高优先级
   - 类似问题 ≥ 2 → 普通优先级
   - 类似问题 < 2 → 低优先级

### 排序规则 / Sort Order

1. 先按优先级：高 → 普通 → 低
2. 同优先级按时间：旧 → 新

---

## 快速开始 / Quick Start

1. 安装插件 / Install extension
2. 按 `Ctrl+Shift+P`，执行 `Kiro KB: 设置知识库`
3. 输入中央知识库路径（如 `D:\KiroKnowledgeBase`）
4. 配置 Agent Hooks（可选但推荐）
5. 开始使用！

---

## Agent Hooks 配置 / Agent Hooks Setup

Agent Hooks 可以让 Kiro 自动执行知识库相关操作，强烈推荐配置！

### 推荐的 Hooks

| Hook | 触发时机 | 功能 |
|------|----------|------|
| 自动保存知识 | 会话结束 | 自动评估并保存有价值内容 |
| 自动检索知识库 | 新会话开始 | 自动检索相关历史知识 |
| 自动更新索引 | 知识库文件变更 | 自动更新 INDEX.md |
| 每日回顾提醒 | 手动触发 | 提醒处理待办问题 |

### 配置方法

**方法一：使用模板文件（推荐）**

1. 从 `hooks-templates/` 目录复制需要的 `.json` 文件到你项目的 `.kiro/hooks/`
2. 修改文件中的 `{{CENTRAL_KB_PATH}}` 为你的实际路径
3. 重启 Kiro 或刷新 Agent Hooks 面板

**方法二：通过 Kiro UI 创建**

1. 在 Kiro 侧边栏找到 "Agent Hooks" 面板
2. 点击 `+` 按钮
3. 输入描述让 Kiro 自动创建：
   - `auto save kb` - 自动保存知识
   - `auto search kb` - 自动检索知识库
   - `sync docs on change` - 源码变更时同步文档

### 模板文件位置

```
kiro-knowledge-base/
└── hooks-templates/
    ├── README.md                  # 模板说明
    ├── auto-save-knowledge.json   # 自动保存
    ├── auto-search-kb.json        # 自动检索
    ├── auto-update-index.json     # 自动更新索引
    └── daily-review.json          # 每日回顾
```

### 路径配置说明

模板中的 `{{CENTRAL_KB_PATH}}` 需要替换为你的实际路径：
- Windows: `D:\\G_GitHub\\Kiro-Central-KB`（注意双反斜杠）
- macOS/Linux: `/Users/yourname/KiroKnowledgeBase`

### 日常使用 / Daily Usage

- **暂存问题**：想到问题但无法立即处理时，执行 `Kiro KB: 暂存问题`
- **查看待办**：点击状态栏的待办图标，或执行 `Kiro KB: 查看待办`
- **同步知识**：项目中有新知识时，执行 `Kiro KB: 同步到中央仓库`

---

## 目录结构 / Directory Structure

```
KiroKnowledgeBase/
├── INDEX.md              # 索引文件（按领域分类）
├── PROJECT-INDEX.md      # 项目索引文件（按项目分类，v2.44.0 新增）
├── PROGRESS.md           # 进度追踪
├── README.md             # 说明文档
├── discussions/          # 问题探讨
├── solutions/            # 解决方案
├── notes/                # 学习笔记
├── archived/             # 归档文件
├── projects/             # 项目分组 (v2.29.0)
│   └── <project-name>/   # 项目目录
│       ├── PROJECT.md    # 项目元数据
│       ├── docs/         # 项目文档
│       ├── solutions/    # 项目解决方案
│       ├── notes/        # 项目笔记
│       └── backlog/      # 项目待办
├── backlog/              # 待办问题
│   ├── pending/          # 待处理
│   ├── draft/            # 已分析草稿
│   ├── deleted/          # 已删除（保留60天）
│   └── BACKLOG-INDEX.md  # 待办索引
└── work-patterns/        # 工作模式分析 (v2.50.0，需配置 Ollama)
    ├── daily/            # 日报
    ├── weekly/           # 周报
    ├── monthly/          # 月报
    ├── profile.yaml      # 个人工作画像
    └── README.md         # 功能说明
```

---

## Ollama CLI 工具 / Ollama CLI Tool

**独立命令行工具**（v2.50.0 新增）：

```bash
# 安装
npm install -g kiro-kb-ollama-cli

# 使用
kiro-ollama test      # 测试 Ollama 连接
kiro-ollama daily     # 生成工作日报
kiro-ollama weekly    # 生成工作周报
```

**特点**：
- 独立运行，不依赖 VSCode/Kiro
- 支持自动化脚本集成
- 可用于定时任务

**详见**：[ollama-cli/README.md](../../ollama-cli/README.md)

---

## 跨设备开发 / Cross-Device Development

如果你在多台设备间切换开发，请查看：
- [跨设备开发工作流](../../CROSS-DEVICE-WORKFLOW.md) - 保持上下文连续性的最佳实践

If you work across multiple devices, check out:
- [Cross-Device Workflow](../../CROSS-DEVICE-WORKFLOW.md) - Best practices for maintaining context continuity

---

## 问题反馈 / Feedback

### 故障排查 / Troubleshooting

如果遇到问题，请先查看：
- [故障排查指南](../docs/20260108-troubleshooting-guide.md) - 常见问题解决方案

If you encounter issues, please check:
- [Troubleshooting Guide](../docs/20260108-troubleshooting-guide.md) - Common issues and solutions

### 联系方式 / Contact

- GitHub: https://github.com/DangDangMao01/Kiro_work
- Email: dangdangshijie@gmail.com

---

## 更新日志 / Changelog

### v2.48.0 (2026-01-06) ✅ 已发布
- 🔍 **智能搜索建议** (`searchHistory.ts` 增强)
  - 基于历史记录的智能建议（getSuggestions）
  - 支持前缀匹配、包含匹配、分词匹配
  - 中英文混合支持
  - 实时建议（< 10ms）
  - 无输入时显示热门搜索
- 📊 **搜索统计报告** (新增命令)
  - `Kiro KB: 搜索统计` - 显示搜索习惯分析
  - 总体统计（总次数、模式分布、平均结果数）
  - 热门搜索 Top 10
  - 最近搜索记录
  - 智能使用建议
- ⚡ **性能优化**：
  - 搜索建议生成 < 10ms
  - 统计报告生成 < 50ms
  - 内存占用优化
- 📦 **包大小**：189.23 KB (+2.15 KB)

### v2.47.0 (2026-01-06) ✅ 已发布
- 🕐 **搜索历史记录** (`searchHistory.ts`)
  - 自动记录最近 50 条搜索
  - 区分关键词和语义搜索模式
  - 显示搜索时间和结果数量
  - 智能时间显示（刚刚、X分钟前、X小时前、X天前）
  - 支持快速重复搜索
  - 一键清空历史
  - 持久化存储（跨项目共享）
- 📊 **知识缺口分析快捷键**：`Ctrl+Alt+G`
  - 快速启动知识缺口分析
  - 扫描知识库识别缺失主题
  - 生成覆盖率报告
  - 按优先级排序缺口
  - 提供学习建议
- ⚡ **搜索体验优化**：
  - 搜索历史自动去重
  - 历史记录按时间排序
  - 快速访问最近搜索（< 10ms）
  - 清晰的视觉分隔和图标区分
- 📦 **包大小**：187.08 KB (+2.11 KB)

### v2.45.0 (2026-01-05) ✅ 已实现
- 📚 **学习路径生成器** (`learningPath.ts`)
  - 基于主题自动生成结构化学习路径
  - 智能筛选相关知识文件（标题/标签/领域匹配）
  - 4 级难度分析（🌱入门/🌿进阶/🌳高级/🎯专家）
  - 精确阅读时间估算（中文 400 字/分钟，英文 200 词/分钟，代码 2 分钟/块）
  - 自动提取关键点（最多 8 个）
  - 智能构建前置知识依赖
  - 生成 Markdown 格式学习路径报告
  - 进度追踪表格（⬜未完成/✅已完成）
  - 支持选项：maxSteps（限制步骤数）、targetDifficulty（筛选难度）
- ✨ 新增命令：`Kiro KB: 生成学习路径`
- 📖 使用场景：
  - 新人学习某个技术栈
  - 系统学习某个领域知识
  - 复习和巩固知识体系
  - 知识库内容导航
- 📊 报告内容：
  - 路径概览（主题/难度/步骤数/预计时间）
  - 学习步骤详情（难度 emoji/文件/时间/关键点/前置知识）
  - 进度追踪表格
  - 支持中英文

### v2.44.0 (2026-01-05) ✅ 已测试
- 💾 **保存位置选择器**：保存知识时弹出位置选择对话框
  - 📁 当前项目知识库 → `knowledge-base/{folder}/`
  - ☁️ 中央知识库 - 项目目录 → `projects/{projectName}/{folder}/`
  - 🌐 中央知识库 - 通用目录 → `{folder}/`
  - 📚 中央知识库 - 领域目录 → `domains/{domain}/{folder}/`
  - 支持领域选择对话框（扫描现有领域 + 预定义领域 + 自定义输入）
- 🔍 **保存前重复检测**：避免重复保存相似内容
  - 扫描本地知识库、中央知识库、projects、domains 目录
  - Jaccard 相似度算法（60% 阈值）
  - 用户交互：查看已有 / 仍然保存 / 取消
- 📁 **按项目浏览视图**：侧边栏新增项目类型分组节点
  - 8 种项目类型：🎮Unity游戏 / 🔌VSCode插件 / 🌐Web应用 / 📱移动应用 / ⚙️后端服务 / 🤖AI/ML / 🛠️DevOps / 📁其他
  - 三级展开：项目类型 → 项目列表 → 知识文件
  - 统计各类型的项目数和知识条目数
  - 基于 YAML `source_project` 和 `source_project_type` 字段分组
- 🏷️ **项目绑定增强**：新增项目类型分类
  - 新增 `ProjectType` 类型定义
  - 新增 `PROJECT_TYPE_LABELS` 常量（中英文显示名称）
  - `ProjectBinding` 接口新增 `projectType` 和 `centralSaveMode` 字段
- 📊 **PROJECT-INDEX.md 生成**：按项目分类的索引文件
  - 按项目类型分组显示
  - 统计各项目类型的项目数和知识条目数
  - 每个项目显示最近 20 条知识（按日期倒序）
- ✅ **测试结果**：
  - 性能测试通过：92 篇文档扫描耗时 965ms < 2000ms 目标
  - 所有核心功能完整实现并验证通过
  - 综合评分：9.4/10
  - 详见：[v2.44.0 测试结果报告](../docs/20260105-v2.44-test-results.md)

### v2.43.0 (2026-01-05)
- 🧹 知识整理助手增强 (`knowledgeOrganizer.ts`)
  - 新增知识提炼任务生成：针对低质量对话记录生成结构化提炼任务
  - 新增原始对话检测：自动识别需要提炼的文件（原始对话记录、低质量内容）
  - 检测规则：
    - 包含"由 Kiro 对话自动整理"标记的文件
    - 内容以简单命令开头（上传/读取/保存/同步/继续/截图/测试/OK/好的/可以）
    - 字数少于 500 且无标签
    - 标题含 TASK 前缀或 Hook 前缀
    - 缺少结构化章节（问题/解决方案）
- ✨ 新增命令：`Kiro KB: 提炼知识` - 检测低质量文件并生成提炼任务
- ✨ 新增 API：
  - `generateRefineTask()` - 生成知识提炼任务（给 Kiro 执行）
  - `detectFilesToRefine()` - 检测需要提炼的文件

### v2.42.0 (2026-01-05)
- 🔗 侧边栏点击插入链接增强
  - 点击侧边栏知识文件可直接插入 `[[文件名]]` 链接到当前编辑器
  - 无活动编辑器时自动复制链接到剪贴板
  - 新增命令：`Kiro KB: 从面板插入链接`
- ✨ 新增函数：
  - `insertLinkFromPanel()` - 从侧边栏插入知识链接

### v2.41.0 (2026-01-05)
- 🔗 新增知识双向链接系统 (`backlinks.ts`)
  - 支持 `[[文件名]]` Wiki 风格链接语法
  - 自动构建反向链接索引（哪些文件引用了当前文件）
  - 链接补全：输入 `[[` 自动提示知识库文件
  - 链接跳转：Ctrl+Click 跳转到目标文件
  - 链接悬停：显示目标文件标题、标签、摘要预览
  - 支持模糊匹配（文件名不区分大小写，支持部分匹配）
  - 侧边栏链接插入：点击文件直接插入 `[[文件名]]` 链接（无编辑器时复制到剪贴板）
- ✨ 新增类/接口：
  - `KnowledgeLink` - 知识链接信息（源文件、目标、位置）
  - `BacklinkInfo` - 反向链接信息
  - `LinkIndex` - 链接索引（出链/入链映射）
  - `WikiLinkCompletionProvider` - 链接补全提供者
  - `WikiLinkDefinitionProvider` - 链接定义提供者（跳转）
  - `WikiLinkHoverProvider` - 链接悬停提供者
- ✨ 新增 API：
  - `buildFileNameCache()` - 构建文件名缓存
  - `parseLinksInFile()` - 解析文件中的链接
  - `buildLinkIndex()` - 构建完整链接索引
  - `getBacklinks()` - 获取文件的反向链接
  - `getOutgoingLinks()` - 获取文件的出链
  - `updateFileLinks()` - 更新单个文件的链接索引
  - `getLinkStats()` - 获取链接统计信息
  - `getFilesWithBacklinks()` - 获取所有有反向链接的文件

### v2.40.0 (2026-01-05)
- 🏷️ 智能标题生成 (`conversationDigest.ts` 增强)
  - 清理无意义前缀（`## TASK 1:`、`[自动化]`、`Execute hook:` 等）
  - 清理 Markdown 格式（标题标记、加粗、斜体、链接等）
  - 问句转陈述句（如何→方法、为什么→原因、What is→Introduction）
  - 从 AI 回答中提取标题（当用户问题无意义时）
  - 智能截断（在标点处截断，避免断词，最长 50 字符）
  - Hook 执行对话自动识别并生成合适标题
- ✨ 新增函数：
  - `generateSmartTitle()` - 智能生成知识标题
  - `extractTitleFromBotResponse()` - 从 AI 回答提取标题
  - `convertQuestionToStatement()` - 问句转陈述句

### v2.39.0 (2026-01-04)
- 🔤 新增编码处理模块 (`encoding.ts`)
  - 解决 Windows 跨设备同步时 UTF-8 中文乱码问题
  - 写入时自动添加 UTF-8 BOM 标记
  - 读取时自动检测并转换编码（支持 UTF-8/UTF-8 BOM/UTF-16LE/UTF-16BE）
  - 批量修复目录下 Markdown 文件编码
- 🚀 启动时自动检测编码问题
  - 延迟 3 秒执行，不影响启动速度
  - ≤20 个文件：静默自动修复
  - >20 个文件：询问用户是否修复
  - 无问题时静默退出，不打扰用户
- ✨ 新增命令：`Kiro KB: 修复编码` - 为知识库 Markdown 文件添加 UTF-8 BOM
  - 支持选择本地知识库、中央知识库或全部修复
  - 显示需要修复的文件数量
  - 进度条显示修复进度
- ✨ 新增 API：
  - `detectEncoding()` - 检测文件编码类型
  - `safeReadFileWithEncoding()` - 安全读取文件（自动处理编码）
  - `safeWriteFileWithEncoding()` - 安全写入文件（带 UTF-8 BOM）
  - `hasBom()` - 检查文件是否有 BOM
  - `addBomToFile()` - 为文件添加 UTF-8 BOM
  - `fixEncodingInDirectory()` - 批量修复目录下文件编码
  - `countFilesWithoutBom()` - 统计缺少 BOM 的文件数量

### v2.38.0 (2026-01-04)
- 🧹 新增知识整理助手模块 (`knowledgeOrganizer.ts`)
  - **设计理念**：插件分析问题，生成结构化提示让 Kiro 执行整理
  - 标题问题检测：TASK 前缀、Hook 前缀、过长标题、无意义标题
  - 相似内容检测：版本号分组、关键词相似度分组（Jaccard 算法）
  - 低价值文件检测：内容过短、无标签、标题无意义、自动生成内容
  - 生成整理提示：需要合并/重命名/删除的文件列表及操作说明
- ✨ 新增 API：
  - `analyzeKnowledgeBase()` - 分析知识库问题
  - `generateOrganizePrompt()` - 生成整理提示（给 Kiro 执行）
  - `getOrganizeStatus()` - 获取知识库整理状态摘要

### v2.37.0 (2026-01-04)
- 🔄 对话整理模块增强 (`conversationDigest.ts`)
  - 新增重复检测：保存前检查知识库是否已有类似内容
  - 新增知识提炼：将对话转化为结构化的问题→解决方案格式
  - 新增问答匹配：`checkExistingKnowledge()` 检查问题是否已有答案
  - 新增相关提示：`showRelatedKnowledgeHint()` 提问时显示相似知识提示

### v2.38.0 (2026-01-04)
- 🔧 新增知识整理助手
  - 自动检测知识库问题：标题不规范、内容重复、低价值文件
  - 生成结构化整理任务，复制给 Kiro 执行
  - 侧边栏"当前项目"下新增"整理知识库"入口
  - 有问题时显示 ⚠️ 警告图标
- 📝 新增命令：`Kiro KB: 整理知识库`
- 🔍 检测规则：
  - `## TASK 1:` 前缀 → 建议重命名
  - `[自动化]` / `Execute hook:` 前缀 → 建议重命名
  - 内容相似的文件 → 建议合并
  - 字数少于 200 且无标签 → 标记为低价值

### v2.37.0 (2026-01-04)
- 🔍 新增重复检测功能
  - 保存前自动检查知识库是否已有类似内容
  - 相似度 >60% 标记为重复，提示用户选择
  - 相似度 30-60% 自动添加关联链接
  - 同时扫描本地和中央知识库
- 📝 增强知识提炼
  - 自动提取问题描述（从用户消息中提取核心问题）
  - 自动提取解决方案（从 AI 回答中提取关键步骤）
  - 生成结构化文档：问题 → 解决方案 → 要点 → 代码
- 🔗 新增相关知识关联
  - 保存时自动关联相似的已有知识
  - 文档底部显示相关知识链接
- ✨ 新增 API：
  - `checkExistingKnowledge()` - 检查问题是否已有答案
  - `showRelatedKnowledgeHint()` - 显示相关知识提示
- 🎯 优化价值评分
  - 重复内容自动降低优先级
  - 新增知识优先保存

### v2.35.0 (2026-01-04)
- 📝 新增对话整理模块 (`conversationDigest.ts`)
  - **设计理念**：每次与 Kiro 的交互都是有价值的知识点
    - 用户的问题 = 小白会遇到的问题
    - Kiro 的回答 = 解决方案和操作步骤
  - 智能整理 Kiro 对话到项目知识库
  - 三个触发时机：首次打开项目、工作期间、关闭项目时
  - 自动解析会话文件，支持新版 `.json` 格式（workspace-sessions）和旧版 `.chat` 格式
  - 提取用户问题和 AI 回复
  - 智能分类：基于关键词检测分类（solution/note/discussion）
    - 新增学习类关键词检测（什么是/怎么/如何/为什么/what/how/why）
    - Hook 执行对话归类为自动化/配置类知识（不再过滤）
  - 技术标签提取：自动识别 25+ 种技术关键词（含 npm/package/compile/build/编译/打包/配置）
  - 价值评分系统（对小白友好）：
    - 基础分 3 分（有问有答就有价值）
    - 内容丰富度：>300字符 +1 分，>1000字符 +2 分，>3000字符 +3 分
    - 有代码示例 +2 分（实操性强）
    - 多轮对话 (>6轮) +1 分（深入讨论）
    - 问题解决类 +1 分
    - 最高 10 分，默认阈值 5 分
  - 增强提取能力：最多 5 个代码片段、8 个关键点、8 个标签
  - 整理状态管理：记录已整理会话，避免重复
  - **筛选模式选择**：支持三种筛选方式
    - 🔍 预览所有对话：显示所有对话供手动选择
    - ⭐ 仅高价值 (≥5分)：自动筛选有价值的对话
    - 📝 中等价值 (≥3分)：包含更多对话
- ✨ 新增命令：
  - `Kiro KB: 整理对话` - 整理对话到知识库（支持筛选模式选择）
  - `Kiro KB: 扫描对话历史` - 扫描所有对话历史并显示统计
- 🔧 新增配置项：
  - `kiro-kb.digest.checkOnOpen` - 首次打开项目时检查历史对话（默认 true）
  - `kiro-kb.digest.minValueScore` - 整理的最小价值分阈值（默认 5）

### v2.45.0 (2026-01-05) ✅ 已实现
- 📚 学习路径生成器 (`learningPath.ts`)
  - **LearningPathGenerator 类**：基于主题自动生成学习路径
  - **难度分析**：4 级难度检测（beginner/intermediate/advanced/expert）
    - 基于关键词检测（入门/基础/高级/深入/原理等）
    - 基于代码复杂度（代码行数 >100 为高级，>50 为中级）
  - **阅读时间估算**：
    - 中文 400 字/分钟
    - 英文 200 词/分钟
    - 代码块 2 分钟/块
    - 最少 5 分钟
  - **关键点提取**：
    - 从二级标题提取（最多 5 个）
    - 从列表项提取（最多 3 个）
    - 总计最多 8 个关键点
  - **前置知识依赖**：按难度递进自动构建依赖关系
  - **学习路径生成**：
    - 筛选相关文件（标题/标签/领域匹配）
    - 按难度排序（从易到难）
    - 支持 maxSteps 和 targetDifficulty 选项
  - **进度追踪**：
    - isCompleted 状态标记
    - 进度追踪表格生成
  - **报告生成**：
    - Markdown 格式学习路径报告
    - 路径概览（主题/难度/步骤数/预计时间）
    - 步骤详情（难度 emoji/时间/前置知识/关键点）
    - 进度追踪表格
    - 支持中英文
  - **类型定义**：
    - `DifficultyLevel` - 难度级别
    - `LearningStep` - 学习步骤
    - `LearningPath` - 完整学习路径
  - **导出单例**：`learningPathGenerator` 供其他模块使用

### v2.34.0 (2026-01-04)
- 🎨 "本地知识"改为"当前项目"，显示更直观
  - 显示项目名称：`🟢 当前项目: ProjectName`
  - 状态图标：🟢 正常 / 🟡 有未同步内容 / 🔴 有待处理问题
  - 未初始化时显示 `📁 ProjectName (点击初始化)`
- 📋 "当前项目"展开后显示详细状态：
  - 📋 待处理 (N) - backlog/pending 中的问题
  - 📝 草稿 (N) - backlog/draft 中的内容
  - ✅ 已解决 (N) - solutions 中的文件
  - 📒 笔记 (N) - notes 中的文件
  - 💬 讨论 (N) - discussions 中的文件
  - ☁️ 未同步 (N) - 点击可同步到中央
- 🔧 新增 `getProjectStats()` 方法：统计项目各类文件数量

### v2.33.0 (2026-01-04)
- 📊 新增知识库健康度仪表盘 (P8)
  - `HealthAnalyzer` 类：提供知识库整体健康度评估
  - 总体健康度评分 (0-100) + 等级评定 (A/B/C/D/F)
  - 7 个关键指标监控：知识总量、月活跃度、高质量占比、平均质量分、领域均衡度、内容新鲜度、标签丰富度
  - 活跃度统计：7天/30天/90天/周均新增数量
  - 质量分布：A/B/C/D/F 各等级数量和占比
  - 领域/类型平衡分析：各领域和类型的知识分布
  - 智能告警系统：info/warning/error 三级告警
  - 仪表盘报告生成：进度条可视化、表格统计、告警建议（支持中英文）
  - 导出单例 `healthAnalyzer` 供其他模块使用
- 📊 侧边栏新增"概览"节点：显示知识库统计信息和健康度评分
  - 总知识数（本地/中央分布）
  - 本周更新数量
  - 待处理问题数量（可点击查看）
  - 需复查知识数量（可点击复查）
  - 健康度评分（🟢≥80% / 🟡≥60% / 🔴<60%）
- ⚡ 侧边栏新增"快捷操作"节点：常用功能一键访问
  - 📸 智能捕获 / 💡 暂存问题 / 🔍 快速搜索
  - 💡 智能推荐 / ☁️ 同步到中央 / 📑 生成索引
- ❤️ 健康度详情展开节点：
  - 综合评分（0-100）
  - 过期占比 / 待办积压 / 本周活跃状态
  - 查看详细报告链接

### v2.32.0 (2026-01-04)
- 🔍 新增 TF-IDF 语义搜索引擎 (P6)
  - 比简单关键词匹配更精准的语义搜索
  - 中英文分词支持（英文按空格/标点，中文 N-gram 切分）
  - 50+ 中英文停用词过滤
  - 文档索引管理：`addDocument()`/`addDocuments()`/`rebuildIDF()`/`clear()`
  - TF-IDF 搜索：标题精确匹配加分、领域匹配加分、返回匹配词列表
  - 相似文档查找：基于余弦相似度，返回相似度分数和共享关键词
  - 索引统计：文档数、词汇数、平均文档长度
  - 导出单例 `tfidfEngine` 供其他模块使用
- 🔗 新增智能链接建议 (P7)
  - `KnowledgeLinkCompletionProvider`：Markdown 文件中输入 `[[` 触发知识库链接补全
  - `KnowledgeHoverProvider`：悬停在知识链接上显示相关知识预览
  - `Kiro KB: 插入知识链接`：快速插入知识库文件链接
  - `Kiro KB: 显示相关知识`：显示当前文件的相关知识推荐
- 📊 新增知识缺口分析器 (P7)
  - `KnowledgeGapAnalyzer` 类：分析知识库覆盖情况并识别知识缺口
  - 领域期望主题定义：Unity/Kiro/DevOps/Web/AI/Database 共 60+ 核心主题
  - 缺口严重程度评估：high（基础主题缺失）/medium（领域内容缺失）/low（影响有限）
  - 领域覆盖率统计：期望主题 vs 已覆盖主题对比
  - 缺口分析报告生成：进度条可视化、优先级分组、智能建议
  - 导出单例 `gapAnalyzer` 供其他模块使用
- 🗺️ 新增交互式知识图谱
  - `Kiro KB: 交互式知识图谱`：显示交互式知识图谱，支持节点操作
- 🎛️ 侧边栏设置面板：在知识面板底部新增"⚙️ 设置"节点
  - ✅/❌ 空闲提醒开关：一键切换启用/禁用
  - ⏱️ 空闲检测时间：设置空闲多少分钟后提醒
  - ✏️ 最小编辑次数：设置触发提醒的最小编辑次数
  - 🕐 最小工作时长：设置触发提醒的最小工作时长
  - 📅 过期天数：设置知识过期阈值
  - 🔧 打开完整设置：跳转到 VS Code 设置页
- ⚙️ 提醒参数可配置：用户可自定义空闲提醒触发条件
  - `kiro-kb.reminder.enabled`：是否启用空闲提醒（默认 true）
  - `kiro-kb.reminder.minEdits`：触发提醒的最小编辑次数（默认 20）
  - `kiro-kb.reminder.minMinutes`：触发提醒的最小工作时长（默认 5 分钟）

### v2.31.0 (2025-12-31)
- 🔗 项目绑定增强：使用 UUID 作为项目唯一标识
  - 新增 `projectId` 字段：UUID 格式，不随项目改名而变化
  - 新增 `projectName` 字段：项目显示名称（可变）
  - 新增 `defaultSaveLocation` 配置：默认保存位置（central/local/both）
  - 新增 `findCentralProjectById()` 函数：通过 projectId 查找中央项目
  - 新增 `getProjectBinding()` 函数：获取当前项目绑定信息
- 📝 暂存问题增强：根据项目绑定的 `defaultSaveLocation` 决定保存位置
  - `central`：直接保存到绑定的中央项目 backlog
  - `local`：保存到本地项目 knowledge-base/backlog
  - `both`：同时保存到中央和本地
  - 未绑定时回退到全局 `backlogMode` 设置
- 📸 智能捕获增强：`captureContent` 同样支持 `defaultSaveLocation`
  - 根据项目绑定配置决定保存到中央项目还是本地
  - 保存成功后显示保存位置提示 `[已保存到中央]`
- 🔧 内部优化：项目绑定配置结构升级，支持更灵活的项目管理

### v2.30.0 (2025-12-30)
- 🔗 新增项目绑定功能：将本地项目与中央知识库项目关联
  - 打开项目时自动检测是否有同名中央项目，提示绑定
  - 支持手动绑定：`Kiro KB: 绑定项目`
  - 绑定信息保存在 `.kiro-kb-binding.json`
- 🔄 新增实时同步：本地知识库文件保存时自动同步到中央项目
  - 绑定后，本地 `knowledge-base/` 下的文件保存时自动复制到中央项目
  - 可在绑定配置中开关 `autoSync`
- 📝 新增代码注释提取：`Kiro KB: 提取代码注释`
  - 支持提取 TODO/FIXME/NOTE/HACK/BUG 注释
  - 支持扫描当前文件或整个项目
  - 支持 .ts/.js/.py/.cs/.java/.cpp/.go/.rs 等多种语言
  - 生成 Markdown 报告并保存到本地知识库

### v2.29.1 (2025-12-30)
- 🔄 新增项目迁移功能：`Kiro KB: 迁移到项目 / Migrate to Projects`
  - 自动检测 `notes/` 目录下以 `-docs` 结尾的文件夹
  - 一键迁移到 `projects/` 目录结构
  - 自动创建 PROJECT.md 元数据文件
  - 保留原始路径信息便于追溯

### v2.29.0 (2025-12-30)
- 📂 新增项目分组功能：在侧边栏按项目组织知识
  - 支持在中央知识库 `projects/` 目录下创建项目文件夹
  - 每个项目可包含 docs/solutions/notes/backlog 子目录
  - 项目状态图标：🟢 活跃 / 🟡 暂停 / ✅ 完成 / 📦 归档
  - 通过 `PROJECT.md` 文件定义项目元数据（名称、状态、描述）
  - 侧边栏自动显示项目数量和文件统计

### v2.28.0 (2025-12-30)
- 🔗 待办问题增强：显示来源项目信息，支持快速打开来源项目
  - 待办列表显示来源项目名称 `[ProjectName]`
  - 新增"打开来源项目"操作，快速跳转到问题产生的项目
  - 便于跨项目问题追踪和上下文恢复
- 🚀 启动时自动检测项目相关待办：
  - 打开项目时自动扫描中央知识库中与当前项目相关的未处理问题
  - 按优先级排序显示（高优先级优先）
  - 支持直接查看、处理或忽略

### v2.27.4 (2025-12-29)
- 🔧 自动配置 MCP filesystem：设置知识库时自动将路径添加到 MCP 允许目录
  - 解决跨设备使用时 Kiro Agent 无法访问中央知识库的问题
  - 自动检测并修改 `~/.kiro/settings/mcp.json`
  - 配置后提示用户重启 Kiro 使配置生效

### v2.27.3 (2025-12-29)
- 🎛️ 侧边栏工具栏增强：在知识面板标题栏添加 7 个快捷按钮
  - 🔄 刷新 / 🔍 搜索 / 🔗 关联图 / 📊 图谱 / 💡 推荐 / ✅ 评估 / 🗑️ 清理
  - 使用 `group: "navigation@N"` 控制按钮排序

### v2.27.2 (2025-12-29)
- ✅ 同步测试用例：60+ 单元测试覆盖 P0-P5 智能分类系统

### v2.27.1 (2025-12-29)
- 🐛 Bug 修复：`findCoreNodes` 空值检查、`deleteKnowledgeFile` 异常处理

### v2.27.0 (2025-12-29)
- 🧠 新增智能推荐系统：
  - `ContextAnalyzer` 类：分析当前编辑文件的上下文（文件类型、技术栈、领域推断）
  - `SmartRecommendationEngine` 类：基于上下文和访问历史生成知识推荐
  - 访问历史追踪：记录文件访问次数、最后访问时间、累计阅读时长
  - 多维度推荐算法：领域匹配 + 技术栈匹配 + 关键词匹配 + 历史加权 + 质量加权
  - 时间衰减规则：1天内+2分，7天内+1.5分，30天内+1分，90天内+0.5分
- 🗃️ 新增生命周期管理：
  - `Kiro KB: 清理分析` - 分析知识库，识别低质量/过期/重复内容
  - `Kiro KB: 归档文件` - 手动选择文件进行归档，支持多种归档原因
  - 归档文件移动到 `archived/` 文件夹，保留元数据头部
- ✨ 新增命令：`Kiro KB: 智能推荐`、`Kiro KB: 访问历史`

### v2.24.0 (2025-12-29)
- 📊 新增质量评分系统 (P2)：
  - `QualityAssessor` 类：对知识条目进行多维度质量评估
  - 5 个评估维度：结构完整性(25%)、内容深度(25%)、元数据完整性(20%)、可读性(15%)、时效性(15%)
  - 等级评定：A/B/C/D/F（基于 0-10 分）
  - 自动生成改进建议
  - 自动检测需要复查的知识（低分维度或过期内容）
  - 生成质量评估报告（支持中英文）
- 🔗 新增知识图谱构建器 (P3)：
  - `KnowledgeGraphBuilder` 类：构建知识节点之间的关联图谱
  - 支持 4 种边类型：domain（领域）、tag（标签）、similarity（相似度）、reference（引用）
  - 智能推荐：基于边权重获取相关知识推荐
  - 图谱分析：查找孤立节点、核心节点
  - Mermaid 可视化：生成可视化图谱代码（按领域着色）

### v2.22.0 (2025-12-29)
- 🧠 新增智能分类命令：
  - `Kiro KB: 智能分类` - 对当前打开的 Markdown 文件进行智能分类
  - `Kiro KB: 批量分类` - 批量分类知识库中未分类的文件
  - 显示分类结果：领域/类型/难度/置信度/建议标签
  - 支持应用分类结果到文件（更新或添加 YAML front-matter）
- 🧠 智能捕获集成分类引擎：
  - 捕获内容时自动检测领域/类型/难度
  - 显示分类置信度百分比
  - 智能标签建议（预填充）
  - 生成标准化 YAML front-matter（含 id、quality、lifecycle）
  - 内容类型选项更新：移除 snippet，新增 reference/architecture

### v2.21.0 (2025-12-29)
- 🧠 新增智能分类引擎 (`classifier.ts`)：
  - 领域检测：Unity/Kiro/DevOps/Web/AI/Database + 20+ 子领域
  - 类型检测：solution/tutorial/reference/troubleshooting/architecture/note
  - 难度检测：beginner/intermediate/advanced/expert
  - 标签建议：自动提取技术关键词 + 规范化映射
  - 元数据生成：标准化 YAML front-matter

### v2.20.0 (2025-12-28)
- ⚡ 新增文件缓存机制：30秒缓存提升面板性能，减少重复文件扫描
- 🧹 收藏夹自动清理：自动清理已删除文件的无效收藏项
- 🔧 新增配置项 `graphEdgeThreshold`：知识关联图边权重阈值（1-20，越低连接越多）
- 🔄 版本号同步：PLUGIN_VERSION 与 package.json 保持一致
- 🐛 修复 TypeScript 编译后 emoji 丢失问题

### v2.19.0 (2025-12-28)
- 🔗 增强知识关联图：新增交互式工具栏和操作
  - 🔍 搜索框：按标题/标签过滤节点
  - 📁 文件夹筛选：按类型过滤（Solutions/Notes/Discussions）
  - 🏷️ 标签筛选：按标签过滤节点
  - 🔄 重置/切换布局/适应窗口按钮
  - 📊 节点数和连接数统计
  - 📂 双击节点打开对应文件
  - ℹ️ 单击节点显示详情面板
  - 🤖 Ask Kiro：生成提示让 Kiro 补充知识点
  - 🔍 Web Search：一键搜索相关内容
  - ➕ Create Related：基于当前节点创建关联知识
  - 🔗 Highlight Related：高亮关联节点
- 🎨 关联图保持上下文（切换标签页后不丢失状态）

### v2.18.0 (2025-12-27)
- 🔄 新增 Git 同步功能：支持 Pull/Push/Commit & Push/Status 操作
- 📥 Git 拉取：从远程仓库拉取最新知识
- 📤 Git 推送：推送本地更改到远程仓库
- 💾 一键提交并推送：自动 add、commit、push
- 📊 Git 状态查看：显示当前分支和更改文件数

### v2.17.0 (2025-12-27)
- 🔗 新增知识关联图：可视化展示知识之间的关联关系（基于共同标签）
- 📤 新增导出功能：支持导出为 Markdown/HTML/JSON 格式
- 🎨 关联图使用 vis-network 可视化，按文件夹着色

### v2.16.0 (2025-12-27)
- ⭐ 新增收藏夹功能：收藏常用知识，优先显示在面板顶部
- 🏷️ 新增标签管理：按标签浏览知识，显示 Top 20 标签及文件数量
- ⏰ 新增过期知识检测：自动识别超过指定天数未更新的知识（默认 90 天）
- 🔧 新增配置项 `staleDays`：设置过期知识阈值天数

### v2.15.0 (2025-12-27)
- ✨ 新增知识面板侧边栏 (TreeView)：在活动栏显示知识库图标
- 📁 本地知识 / ☁️ 中央知识分类展示
- ➕ 一键初始化本地知识库：本地 KB 不存在时显示初始化选项
- 🕐 最近更新：显示最新 10 个文件
- 📋 待办统计：显示 pending/draft 数量
- 🔍 面板内搜索：按标题/文件名过滤
- 🔄 刷新按钮：实时更新知识库状态
- 🗑️ 右键删除：支持删除知识文件

### v2.14.0 (2025-12-27)
- ✨ 新增智能捕获 (`Ctrl+Alt+C`)：一键保存内容，自动注入项目上下文
- ✨ 新增全局搜索 (`Ctrl+Alt+F`)：同时搜索本地和中央知识库，按相关度排序
- ✨ 新增项目上下文检测：自动识别技术栈（React/Vue/Next.js/Express/TypeScript/Python/Rust/Go/Unity）
- ✨ 项目上下文包含：包管理器、Git 分支/提交、当前文件信息
- 🎨 搜索结果显示来源标识（📁本地 / ☁️中央）

### v2.13.0 (2025-12-27)
- ♻️ i18n 完善：统一使用 `t()` 函数，新增 20+ 翻译键
- ✨ 自定义模板支持本地项目：`knowledge-base/templates/` 目录（本地优先于中央）
- 🔧 新增安全文件操作函数：`safeWriteFile()`、`safeReadFile()`、`safeDeleteFile()`
- 🐛 修复快速搜索不扫描子目录的问题

### v2.12.0 (2025-12-27)
- ✨ 新增 AI 总结保存：生成结构化提示让 Kiro 总结对话并保存到知识库
- ✨ 新增快速搜索：快速搜索知识库内容，支持标题、标签、日期过滤

### v2.11.0 (2025-12-27)
- ✨ 新增模板系统：5 种内置模板（解决方案、Bug修复、学习笔记、代码片段、技术讨论）
- ✨ 新增自定义模板支持：在本地 `knowledge-base/templates/` 或中央知识库 `templates/` 目录创建自定义模板
- ✨ 新增知识库分析报告：统计文件数、领域分布、项目分布、标签云、待办统计
- ✨ 新增命令：`Kiro KB: 从模板创建`、`Kiro KB: 生成分析报告`、`Kiro KB: 管理模板`
- 📊 报告包含智能建议（待办过多、价值分低、未分类内容等）

### v2.10.0 (2025-12-27)
- ♻️ 代码重构：新增工具函数模块
  - `scanMdFiles()` - 扫描指定目录下的 .md 文件
  - `safeMove()` - 安全移动文件（跨盘符兼容）
  - `getUniqueFileName()` - 生成唯一文件名（处理冲突）
  - `checkIsKnowledgeBaseStructure()` - 检查路径是否为知识库结构
  - `validateCentralKB()` - 验证中央知识库
- ♻️ 新增常量：`BACKLOG_FOLDERS`、`KB_FOLDERS`、`SMART_KEYWORDS`
- 📝 增强 JSDoc 注释

### v2.9.0 (2025-12-26)
- ♻️ 代码重构：抽取国际化模块 (`i18n.ts`)，支持 `t()` 函数和 `isZh()` 判断
- ♻️ 代码重构：抽取类型定义模块 (`types.ts`)，定义 15+ 类型
- ✅ 新增单元测试 (`test/extension.test.ts`)，覆盖 i18n、类型、智能分析等

### v2.8.0 (2025-12-26)
- ✨ 新增输出日志面板（`Kiro KB: 显示日志`），方便调试和排查问题
- ✨ 配置变更自动重载，无需重启即可生效

### v2.7.0 (2025-12-26)
- 🐛 修复知识库关联搜索不扫描子目录的问题（递归扫描 solutions/notes/discussions 子目录）

### v2.6.0 (2025-12-25)
- ✨ 新接收内容统计：打开中央知识库时显示新增内容来源和数量
- ✨ 支持查看详情：按来源、类型分组显示新内容

### v2.5.0 (2025-12-25)
- ✨ INDEX 生成优化：统计表格、最近更新、子目录递归
- ✨ 提取文件标题（从 `# xxx`）和日期
- ✨ 按时间倒序排列
- ✨ 中央知识库 Steering 规则

### v2.4.0 (2025-12-25)
- ✨ 每日提醒功能（reminder_mode: daily）
- 🔔 打开 Kiro 时自动检测并提醒每日待思考的想法

### v2.3.0 (2025-12-25)
- ✨ 状态栏添加 💡 快速记录按钮
- ✨ 快捷键 `Ctrl+Alt+Q` 快速暂存问题

### v2.2.1 (2025-12-25)
- 🐛 修复本地待办保存路径问题（改为 pending/ 子目录）
- 🐛 修复 viewBacklog 扫描本地待办的路径问题

### v2.2.0 (2025-12-24)
- ✨ 智能分类检测（自动识别 Bug/Feature/Idea）
- ✨ 智能优先级检测（自动识别紧急/普通/低优先级）
- ✨ 知识库关联检测（暂存时搜索相关内容）

### v2.1.0 (2025-12-24)
- ✨ 新增问题暂存系统（待办队列）
- ✨ 新增多语言支持（中文/英文）
- ✨ 新增状态栏待办显示
- ✨ 新增问题优先级和分类
- ✨ 新增自动清理过期删除问题
- ✨ 新增批量分析功能

### v2.0.0 (2025-12-24)
- ✨ 智能整理功能
- ✨ 关联文件检测

### v1.9.0 (2025-12-24)
- ✨ 增强 Steering 规则

### v1.8.3 (2025-12-24)
- ✨ 自动同步/手动同步选项
