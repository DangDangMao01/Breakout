{
  "last_node_id": 48,
  "last_link_id": 44,
  "nodes": [
    {
      "id": 15,
      "type": "CLIPTextEncode",
      "pos": [
        563.7150215819591,
        -136.1300251587323
      ],
      "size": {
        "0": 210,
        "1": 54
      },
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 19
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 21,
          "widget": {
            "name": "text",
            "config": [
              "STRING",
              {
                "multiline": true
              }
            ]
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            23
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "evening sunset scenery blue sky nature, glass bottle with a galaxy in it"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 16,
      "type": "CLIPTextEncode",
      "pos": [
        563.7150215819591,
        -46.13002515873221
      ],
      "size": {
        "0": 210,
        "1": 54
      },
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 20
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 22,
          "widget": {
            "name": "text",
            "config": [
              "STRING",
              {
                "multiline": true
              }
            ]
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            24
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "text, watermark"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 14,
      "type": "PrimitiveNode",
      "pos": [
        79.24313561393605,
        524.8462914024269
      ],
      "size": {
        "0": 300,
        "1": 160
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            18,
            22
          ],
          "widget": {
            "name": "text",
            "config": [
              "STRING",
              {
                "multiline": true
              }
            ]
          },
          "slot_index": 0
        }
      ],
      "title": "Negative Prompt (Text)",
      "properties": {},
      "widgets_values": [
        "text, watermark"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 13,
      "type": "PrimitiveNode",
      "pos": [
        79.24313561393605,
        324.84629140242737
      ],
      "size": {
        "0": 300,
        "1": 160
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            16,
            21
          ],
          "widget": {
            "name": "text",
            "config": [
              "STRING",
              {
                "multiline": true
              }
            ]
          },
          "slot_index": 0
        }
      ],
      "title": "Positive Prompt (Text)",
      "properties": {},
      "widgets_values": [
        "evening sunset scenery blue sky nature, glass bottle with a galaxy in it"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 36,
      "type": "Note",
      "pos": [
        71.45313208750484,
        -379.8781840910962
      ],
      "size": {
        "0": 315.70074462890625,
        "1": 147.9551239013672
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "title": "Note - Load Checkpoint BASE",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "这里加载Base模型~这是一个checkpoint模型加载程序。\n\n-这是自动设置的最佳设置，适用于您选择使用的任何SD型号版本。\n-在本例中，它适用于基本SDXL型号\n-此节点也用于SD1.5和SD2.x型号\n\n注意：在其他人的工作流程中加载时，请确保手动选择您自己的*本地*型号。这也适用于LoRas及其所有偏差"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 37,
      "type": "Note",
      "pos": [
        79.29157166112083,
        60.77892296327671
      ],
      "size": {
        "0": 330,
        "1": 140
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "title": "Note - Load Checkpoint REFINER",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "这里加载Refiner模型~这是一个checkpoint模型加载程序。\n\n-这是自动设置的最佳设置，适用于您选择使用的任何SD型号版本。\n-在本例中，它适用于Refiner SDXL模型\n注意：在其他人的工作流程中加载时，请确保手动选择您自己的*本地*型号。这也适用于LoRas及其所有偏差。"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 38,
      "type": "Note",
      "pos": [
        88.24313561393606,
        723.8462914024259
      ],
      "size": {
        "0": 284.3257141113281,
        "1": 123.88604736328125
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "title": "Note - Text Prompts",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "这些节点包含以下内容的文本：\n-你想要图片中的内容（肯定提示，绿色）\n-或者你不想在图片中出现的内容（否定提示，红色）\n如果要搜索节点类型，则此节点类型称为“PrimitiveNode”。"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 17,
      "type": "VAEDecode",
      "pos": [
        1320.4931961900647,
        -40.67003019504587
      ],
      "size": {
        "0": 200,
        "1": 50
      },
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 25
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 34
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            28
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 41,
      "type": "Note",
      "pos": [
        1260.4931961900643,
        59.329969804954274
      ],
      "size": {
        "0": 320,
        "1": 120
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "title": "Note - VAE Decoder",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "该节点将从KSampler获取潜在数据，并使用VAE将其解码为可见数据\n\nVAE = Latent --> Visible\n\n然后可以将其发送到“保存图像”节点以保存为PNG。"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 42,
      "type": "Note",
      "pos": [
        560.7433900274747,
        417.6409311038179
      ],
      "size": {
        "0": 260,
        "1": 210
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "title": "Note - Empty Latent Image",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "此节点在“宽度”和“高度”中设置图像的分辨率。\n注：对于SDXL，建议使用下面列出的经过训练的值：\n - 1024 x 1024\n - 1152 x 896\n - 896  x 1152\n - 1216 x 832\n - 832  x 1216\n - 1344 x 768\n - 768  x 1344\n - 1536 x 640\n - 640  x 1536"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 43,
      "type": "Note",
      "pos": [
        549.6047128078507,
        55.65946370774819
      ],
      "size": {
        "0": 240,
        "1": 80
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "title": "Note - CLIP Encode (REFINER)",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "这些节点接收来自提示的文本，并使用指定检查点模型的最佳CLIP设置（在本例中为：SDXL Refiner）"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        547.5855370462978,
        -527.0349981628191
      ],
      "size": {
        "0": 210,
        "1": 54
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 3
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 16,
          "widget": {
            "name": "text",
            "config": [
              "STRING",
              {
                "multiline": true
              }
            ]
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            11
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "evening sunset scenery blue sky nature, glass bottle with a galaxy in it"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 7,
      "type": "CLIPTextEncode",
      "pos": [
        547.5855370462978,
        -437.03499816281857
      ],
      "size": {
        "0": 210,
        "1": 54
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 5
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 18,
          "widget": {
            "name": "text",
            "config": [
              "STRING",
              {
                "multiline": true
              }
            ]
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            12
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "text, watermark"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 39,
      "type": "Note",
      "pos": [
        547.5855370462978,
        -347.0349981628185
      ],
      "size": {
        "0": 210,
        "1": 80
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "title": "Note - CLIP Encode (BASE)",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "这些节点接收来自提示的文本，并使用指定检查点模型的最佳CLIP设置（在本例中为：SDXL Base）"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 48,
      "type": "Note",
      "pos": [
        924.5978075768343,
        588.1651641593509
      ],
      "size": {
        "0": 213.90769958496094,
        "1": 110.17156982421875
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "这些可用于控制总采样步骤和采样切换到refiner的步骤。"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 4,
      "type": "CheckpointLoaderSimple",
      "pos": [
        55.4531320875048,
        -529.8781840910966
      ],
      "size": {
        "0": 350,
        "1": 100
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            10
          ],
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            3,
            5
          ],
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [],
          "slot_index": 2
        }
      ],
      "title": "Load Checkpoint - BASE",
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "Stable Diffusion SDXL 正式版_sdxl_1.0.safetensors"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 12,
      "type": "CheckpointLoaderSimple",
      "pos": [
        69.29157166112083,
        -90.22107703672313
      ],
      "size": {
        "0": 350,
        "1": 100
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            14
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            19,
            20
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            34
          ],
          "shape": 3,
          "slot_index": 2
        }
      ],
      "title": "Load Checkpoint - REFINER",
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "Stable Diffusion SDXL refiner_1.0 refiner.safetensors"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 10,
      "type": "KSamplerAdvanced",
      "pos": [
        890,
        -562
      ],
      "size": {
        "0": 300,
        "1": 334
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 10
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 11
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 12
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 27
        },
        {
          "name": "steps",
          "type": "INT",
          "link": 41,
          "widget": {
            "name": "steps",
            "config": [
              "INT",
              {
                "default": 20,
                "min": 1,
                "max": 10000
              }
            ]
          },
          "slot_index": 4
        },
        {
          "name": "end_at_step",
          "type": "INT",
          "link": 43,
          "widget": {
            "name": "end_at_step",
            "config": [
              "INT",
              {
                "default": 10000,
                "min": 0,
                "max": 10000
              }
            ]
          },
          "slot_index": 5
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            13
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "KSampler (Advanced) - BASE",
      "properties": {
        "Node name for S&R": "KSamplerAdvanced"
      },
      "widgets_values": [
        "enable",
        667125408068119,
        "randomize",
        25,
        8,
        "euler",
        "normal",
        0,
        20,
        "enable"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 40,
      "type": "Note",
      "pos": [
        1236,
        -561
      ],
      "size": {
        "0": 451.5049743652344,
        "1": 424.4164123535156
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "title": "Note - KSampler  ADVANCED General Information",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Here are the settings that SHOULD stay in place if you want this 正确工作的工作流：\n-add_noise:enable=这会将随机噪声添加到图片中，以便模型可以对其进行降噪\n-return_with_leftover_noise:enable=这将潜像数据及其所有剩余噪声发送到下一个KSampler节点。\n需要注意的设置：\n-control_after_generate=在每个工作流作业完成后生成一个新的随机种子。\n-steps=这是您希望运行正CLIP提示和负CLIP提示的迭代次数。每个步骤都会根据模型的训练，根据稳定扩散“认为”应该存在的情况，添加（正）或删除（负）像素\n-cfg=这就是您希望SDXL遵守提示的程度。CFG越低，结果越有创意，但往往越模糊。根据CLIP提示，较高的CFG（建议最大值为10）会给您更严格的结果。如果CFG值太高，也可能导致图片边缘变得更强的“老化”，通常会以不自然的方式突出显示细节。\n-sampler_name=这是采样器类型，不幸的是，不同的采样器和调度器在较少的步骤下具有更好的结果，而其他采样器和调度器则在较高的步骤下获得更好的成功。这需要你进行实验！\n-scheduler=用于选择时间步长以对图片进行去噪的算法/方法。\n-start_at_step=这是KSampler将开始对图片进行去噪或“去除随机噪声以显示其中的图片”的过程的步长。第一个KSampler通常从步骤0开始。从步骤0开始与在常规采样器节点中将去噪设置为1.0相同。\n-end_at_step=这是KSampler将停止其图像去噪过程的步长。如果有任何剩余的剩余噪声，并且启用了return_with_leftover_noise，那么它将把剩余的噪声传递给下一个KSampler（假设还有另一个）。"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 5,
      "type": "EmptyLatentImage",
      "pos": [
        541,
        268
      ],
      "size": {
        "0": 300,
        "1": 110
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            27
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        1024,
        1024,
        2
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 11,
      "type": "KSamplerAdvanced",
      "pos": [
        893,
        -184
      ],
      "size": {
        "0": 300,
        "1": 340
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 14,
          "slot_index": 0
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 23
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 24
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 13
        },
        {
          "name": "steps",
          "type": "INT",
          "link": 38,
          "widget": {
            "name": "steps",
            "config": [
              "INT",
              {
                "default": 20,
                "min": 1,
                "max": 10000
              }
            ]
          },
          "slot_index": 4
        },
        {
          "name": "start_at_step",
          "type": "INT",
          "link": 44,
          "widget": {
            "name": "start_at_step",
            "config": [
              "INT",
              {
                "default": 0,
                "min": 0,
                "max": 10000
              }
            ]
          }
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            25
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "KSampler (Advanced) - REFINER",
      "properties": {
        "Node name for S&R": "KSamplerAdvanced"
      },
      "widgets_values": [
        "disable",
        0,
        "fixed",
        25,
        8,
        "euler",
        "normal",
        20,
        10000,
        "disable"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 19,
      "type": "SaveImage",
      "pos": [
        1631,
        -82
      ],
      "size": {
        "0": 565.774658203125,
        "1": 596.3757934570312
      },
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 28
        }
      ],
      "properties": {},
      "widgets_values": [
        "ComfyUI"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 47,
      "type": "PrimitiveNode",
      "pos": [
        928,
        444
      ],
      "size": {
        "0": 210,
        "1": 82
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            43,
            44
          ],
          "widget": {
            "name": "end_at_step",
            "config": [
              "INT",
              {
                "default": 10000,
                "min": 0,
                "max": 10000
              }
            ]
          },
          "slot_index": 0
        }
      ],
      "title": "end_at_step",
      "properties": {},
      "widgets_values": [
        20,
        "fixed"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 45,
      "type": "PrimitiveNode",
      "pos": [
        933,
        304
      ],
      "size": {
        "0": 210,
        "1": 82
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            38,
            41
          ],
          "widget": {
            "name": "steps",
            "config": [
              "INT",
              {
                "default": 20,
                "min": 1,
                "max": 10000
              }
            ]
          }
        }
      ],
      "title": "steps",
      "properties": {},
      "widgets_values": [
        25,
        "fixed"
      ],
      "color": "#432",
      "bgcolor": "#653"
    }
  ],
  "links": [
    [
      3,
      4,
      1,
      6,
      0,
      "CLIP"
    ],
    [
      5,
      4,
      1,
      7,
      0,
      "CLIP"
    ],
    [
      10,
      4,
      0,
      10,
      0,
      "MODEL"
    ],
    [
      11,
      6,
      0,
      10,
      1,
      "CONDITIONING"
    ],
    [
      12,
      7,
      0,
      10,
      2,
      "CONDITIONING"
    ],
    [
      13,
      10,
      0,
      11,
      3,
      "LATENT"
    ],
    [
      14,
      12,
      0,
      11,
      0,
      "MODEL"
    ],
    [
      16,
      13,
      0,
      6,
      1,
      "STRING"
    ],
    [
      18,
      14,
      0,
      7,
      1,
      "STRING"
    ],
    [
      19,
      12,
      1,
      15,
      0,
      "CLIP"
    ],
    [
      20,
      12,
      1,
      16,
      0,
      "CLIP"
    ],
    [
      21,
      13,
      0,
      15,
      1,
      "STRING"
    ],
    [
      22,
      14,
      0,
      16,
      1,
      "STRING"
    ],
    [
      23,
      15,
      0,
      11,
      1,
      "CONDITIONING"
    ],
    [
      24,
      16,
      0,
      11,
      2,
      "CONDITIONING"
    ],
    [
      25,
      11,
      0,
      17,
      0,
      "LATENT"
    ],
    [
      27,
      5,
      0,
      10,
      3,
      "LATENT"
    ],
    [
      28,
      17,
      0,
      19,
      0,
      "IMAGE"
    ],
    [
      34,
      12,
      2,
      17,
      1,
      "VAE"
    ],
    [
      38,
      45,
      0,
      11,
      4,
      "INT"
    ],
    [
      41,
      45,
      0,
      10,
      4,
      "INT"
    ],
    [
      43,
      47,
      0,
      10,
      5,
      "INT"
    ],
    [
      44,
      47,
      0,
      11,
      5,
      "INT"
    ]
  ],
  "groups": [
    {
      "title": "Base Prompt",
      "bounding": [
        527,
        -607,
        284,
        359
      ],
      "color": "#3f789e"
    },
    {
      "title": "Refiner Prompt",
      "bounding": [
        527,
        -216,
        282,
        372
      ],
      "color": "#3f789e"
    },
    {
      "title": "Text Prompts",
      "bounding": [
        59,
        241,
        339,
        622
      ],
      "color": "#3f789e"
    },
    {
      "title": "Load in BASE SDXL Model",
      "bounding": [
        45,
        -610,
        389,
        401
      ],
      "color": "#a1309b"
    },
    {
      "title": "Load in REFINER SDXL Model",
      "bounding": [
        50,
        -180,
        391,
        400
      ],
      "color": "#a1309b"
    },
    {
      "title": "Empty Latent Image",
      "bounding": [
        521,
        194,
        339,
        443
      ],
      "color": "#a1309b"
    },
    {
      "title": "VAE Decoder",
      "bounding": [
        1241,
        -119,
        360,
        350
      ],
      "color": "#b06634"
    },
    {
      "title": "Step Control",
      "bounding": [
        893,
        193,
        284,
        524
      ],
      "color": "#3f789e"
    }
  ],
  "config": {},
  "extra": {},
  "version": 0.4
}