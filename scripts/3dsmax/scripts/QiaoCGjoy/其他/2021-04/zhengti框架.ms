			   
rollout unnamedRollout "标题" width:163 height:196
(
	    local cjpt=#()
	    local cjpts=#()
	    local cjfpt=#()
	    local cjlow=#()
-------------------------创建定位虚拟体----------------------
fn   fn_cjfpt=
	(
local fpt_pos=#(
(matrix3 [8.78176e-07,-1,3.25841e-07] [0,-3.25841e-07,-1] [1,8.78176e-07,0] [1.17003e-06,-10.5836,108.95]),
(matrix3 [0.626645,-0.719235,-0.300028] [-0.114083,0.296183,-0.948294] [0.770909,0.628471,0.103549] [4.04051,-6.16819,98.1676]),
(matrix3 [6.4997e-07,-0.740136,-0.672458] [-6.66034e-07,0.672458,-0.740136] [1,9.28946e-07,0] [3.95452e-06,-8.78114,97.5756]),
(matrix3 [0.378773,-0.92549,3.25841e-07] [0,-3.30159e-07,-1] [0.92549,0.378773,0] [3.52923,-9.39304,100.115]),
(matrix3 [0.940211,-0.340591,3.25841e-07] [2.80646e-07,-1.81963e-07,-1] [0.340591,0.940211,0] [8.93032,-3.04535,102.183]),
(matrix3 [0.54718,-0.837015,3.25841e-07] [0,-3.14045e-07,-1] [0.837015,0.54718,0] [7.79095,-8.53589,112.527]),
(matrix3 [8.78176e-07,-1,3.25841e-07] [0,-3.25841e-07,-1] [1,8.78176e-07,0] [2.55738,-8.02086,103.902]),
(matrix3 [8.78176e-07,-1,3.25841e-07] [0,-3.25841e-07,-1] [1,8.78176e-07,0] [3.8147e-06,-10.8984,99.9871]),
(matrix3 [8.78176e-07,-1,3.25841e-07] [0,-3.25841e-07,-1] [1,8.78176e-07,0] [3.8147e-06,-11.192,100.83]),
(matrix3 [0.484593,-0.87474,3.25841e-07] [0,-3.21612e-07,-1] [0.87474,0.484593,0] [0.924015,-11.2468,102.556]),
(matrix3 [0.284858,-0.95857,3.25841e-07] [0,-3.33848e-07,-1] [0.95857,0.284858,0] [1.46115,-10.7653,100.386]),
(matrix3 [0.237562,-0.971372,3.25841e-07] [0,-3.34449e-07,-1] [0.971372,0.237562,0] [0.725574,-11.0422,100.764]),
(matrix3 [0.230443,-0.973086,3.25841e-07] [0,-3.3447e-07,-1] [0.973086,0.230443,0] [0.725573,-10.8042,100.056]),
(matrix3 [8.78176e-07,-1,3.25841e-07] [0,-3.25841e-07,-1] [1,8.78176e-07,0] [5.21853e-06,-11.4812,102.912]),
(matrix3 [0.646408,-0.762992,3.25841e-07] [1.53022e-07,-2.97417e-07,-1] [0.762992,0.646408,0] [6.98268,-7.53709,100.796]),
(matrix3 [0.620537,-0.784177,3.25841e-07] [1.42993e-07,-3.02367e-07,-1] [0.784177,0.620537,0] [12.6151,3.25336,107.758]),
(matrix3 [8.78176e-07,-1,3.25841e-07] [0,-3.25841e-07,-1] [1,8.78176e-07,0] [3.8147e-06,-10.7888,105.787]),
(matrix3 [0.975329,-0.220754,3.25841e-07] [3.01136e-07,-1.45566e-07,-1] [0.220754,0.975329,0] [10.0755,-3.72909,106.916]),
(matrix3 [0.129004,-0.98729,-0.0928238] [0.991571,0.129564,0] [0.0120266,-0.0920414,0.995683] [4.73206,-6.47821,105.83]),
(matrix3 [0.930856,-0.365387,3.25841e-07] [2.75725e-07,-1.89336e-07,-1] [0.365387,0.930856,0] [6.44125,-4.08711,99.6467]),
(matrix3 [0.6494,-0.760447,3.25841e-07] [1.54189e-07,-2.96813e-07,-1] [0.760447,0.6494,0] [11.2079,1.29637,102.763]),
(matrix3 [0.521189,-0.853441,3.25841e-07] [0,-3.17435e-07,-1] [0.853441,0.521189,0] [8.66392,-9.00294,109.232]),
(matrix3 [0.108532,-0.994093,3.25841e-07] [0,-3.32111e-07,-1] [0.994093,0.108532,0] [3.45943,-10.9994,109.039]),
(matrix3 [0.380498,-0.924782,3.25841e-07] [0,-3.30059e-07,-1] [0.924782,0.380498,0] [6.27643,-10.1924,109.231]),
(matrix3 [8.78176e-07,-1,3.25841e-07] [0,-3.25841e-07,-1] [1,8.78176e-07,0] [2.92226e-06,-10.7083,113.036]),
(matrix3 [0.604063,-0.796937,3.25841e-07] [1.36662e-07,-3.0528e-07,-1] [0.796937,0.604063,0] [8.82801,-6.05282,105.099]),
(matrix3 [-0.626645,-0.719235,-0.300028] [0.114083,0.296183,-0.948294] [-0.770909,0.628471,0.103549] [-4.04051,-6.16819,98.1676]),
(matrix3 [-0.378773,-0.92549,1.50996e-07] [0,-2.01455e-07,-1] [-0.92549,0.378773,-1.62921e-07] [-3.52923,-9.39304,100.115]),
(matrix3 [-0.940211,-0.340592,1.50996e-07] [0,-2.04608e-07,-1] [-0.340592,0.940211,-1.62921e-07] [-8.93032,-3.04535,102.183]),
(matrix3 [-0.54718,-0.837015,1.50996e-07] [0,-2.15533e-07,-1] [-0.837015,0.54718,-1.62921e-07] [-7.79095,-8.53589,112.527]),
(matrix3 [-9.41749e-07,-1,1.50996e-07] [1.62921e-07,-1.50996e-07,-1] [-1,9.41749e-07,-1.62921e-07] [-2.55738,-8.02086,103.902]),
(matrix3 [-0.380498,-0.924782,1.50996e-07] [0,-2.01629e-07,-1] [-0.924782,0.380498,-1.62921e-07] [-6.27643,-10.1924,109.231]),
(matrix3 [-0.108532,-0.994093,1.50996e-07] [1.4557e-07,-1.67786e-07,-1] [-0.994093,0.108532,-1.62921e-07] [-3.45943,-10.9994,109.039]),
(matrix3 [-0.521189,-0.853441,1.50996e-07] [0,-2.13779e-07,-1] [-0.853441,0.521189,-1.62921e-07] [-8.66392,-9.00294,109.232]),
(matrix3 [-0.6494,-0.760447,1.50996e-07] [0,-2.20625e-07,-1] [-0.760447,0.6494,-1.62921e-07] [-11.2079,1.29637,102.763]),
(matrix3 [-0.646407,-0.762992,1.50996e-07] [0,-2.20522e-07,-1] [-0.762992,0.646407,-1.62921e-07] [-6.98268,-7.53709,100.796]),
(matrix3 [-0.930856,-0.365387,1.50996e-07] [0,-2.06828e-07,-1] [-0.365387,0.930856,-1.62921e-07] [-6.44125,-4.08711,99.6467]),
(matrix3 [-0.975329,-0.220754,1.50996e-07] [0,-1.92234e-07,-1] [-0.220754,0.975329,-1.62921e-07] [-10.0755,-3.72909,106.916]),
(matrix3 [-0.129004,-0.98729,-0.0928237] [-0.991571,0.129564,0] [-0.0120267,-0.0920413,0.995683] [-4.73206,-6.47821,105.83]),
(matrix3 [-0.237562,-0.971373,1.50996e-07] [1.22386e-07,-1.85377e-07,-1] [-0.971373,0.237562,-1.62921e-07] [-0.725574,-11.0422,100.764]),
(matrix3 [-0.284858,-0.95857,1.50996e-07] [0,-1.91149e-07,-1] [-0.95857,0.284858,-1.62921e-07] [-1.46115,-10.7653,100.386]),
(matrix3 [-0.484593,-0.87474,3.89414e-07] [0,-4.19586e-07,-1] [-0.87474,0.484593,-1.62921e-07] [-0.924015,-11.2468,102.556]),
(matrix3 [-0.230443,-0.973086,1.50996e-07] [1.2374e-07,-1.84476e-07,-1] [-0.973086,0.230443,-1.62921e-07] [-0.725573,-10.8042,100.056]),
(matrix3 [-0.620537,-0.784177,1.50996e-07] [0,-2.19506e-07,-1] [-0.784177,0.620537,-1.62921e-07] [-12.6151,3.25336,107.758]),
(matrix3 [-0.604063,-0.796937,1.50996e-07] [0,-2.18748e-07,-1] [-0.796937,0.604063,-1.62921e-07] [-8.82801,-6.05282,105.099])

)

              if cjfpt[1]== undefined do
			  (
				  local  cjdpt =point    size: 4    Box:true   cross:false  axistripod:false centermarker:false   wirecolor:(color   255   255  0)
                             cjdpt.transform =   (matrix3 [0,-0.0467457,0.998907] [-1.2809e-06,-0.998907,-0.0467457] [1,-1.27673e-06,0] [-8.96354e-06,0.807871,97.5068])
				              cjdpt.name ="guide_root"
				  ------------------------------------主控虚拟体-----------------------
				       for i =1  to fpt_pos.count   do
					   (
						   cjfpt[i]=point  transform:fpt_pos[i]    size:0.8   Box:true   cross:false  axistripod:false centermarker:false   wirecolor:(color    28 89 177)
                           cjfpt[i].rotation.controller =Euler_XYZ() 
							cjfpt[i].position.controller=Position_XYZ()
             
                            cjfpt[i].name ="guide_"  +(i  as string )
							cjfpt[i].parent=cjdpt
					   )
				   )	   
			   ) 	
			   -----------------------------------创建控制虚拟体------------------------------------------
			   	fn   fn_cjpt=
	(
		cjZpt = point  size: 4    Box:true   cross:false  axistripod:false centermarker:false   wirecolor:(color   252 0 0)
		cjZpt.transform = (matrix3 [0,-0.0467457,0.998907] [-1.2809e-06,-0.998907,-0.0467457] [1,-1.27673e-06,0] [-8.96354e-06,0.807871,97.5068])
		cjZpt.name ="face_root"         ---------------------------大主控虚拟体
		
		for i =1  to  cjfpt.count   do
		(
			cjpt[i]=point      size:0.8   Box:false   cross:true   axistripod:false centermarker:false   wirecolor:(color    0 252 0)
			cjpt[i].transform=cjfpt[i].transform
			cjpt[i].rotation.controller =Euler_XYZ() 
			cjpt[i].position.controller=Position_XYZ()
			
			cjpt[i].name = "Hp_"   +(i   as   string )
			cjpt[i].parent=cjZpt                       ------------------------创建Hp
		)
		
		for i =1  to  cjpt.count   do
		(
			cjpts[i]=point      size:0.8   Box:true   cross:false  axistripod:false centermarker:false   wirecolor:(color    0 252 0)
			cjpts[i].transform=cjpt[i].transform
			cjpts[i].rotation.controller =Euler_XYZ() 
			cjpts[i].position.controller=Position_XYZ()			
		
			cjpts[i].name = "Point_"   +(i   as   string )
			cjpts[i].parent=cjpt[i]			---------------------------创建Point
		)
	)
	---------------------------------创建球形控制器------------------------------
	fn fn_hbytx  sp splines  =
(
	convertToSplineShape   sp
	for i in splines where i != sp do
	(
		addandweld sp (convertTosplineshape  i) -1  
	)
	     sp
)	

fn fn_kzq_low  =
(
	kzq_low_a = Circle radius:0.25 transform:(matrix3 [1,0,0] [0,-1.62921e-07,1] [0,-1,-1.62921e-07] [0,-3.5893e-07,0]) isSelected:on
	max modify mode
    convertTo kzq_low_a  SplineShape
	kzq_low_b = copy  kzq_low_a
	Rotate  kzq_low_b  (eulerangles  0  0  90)
	kzq_low_c = copy  kzq_low_a
	Rotate  kzq_low_c  (eulerangles  90  0  0)
	spl_obj = # ($Circle001 , $Circle002 , $Circle003 )
	newspl = fn_hbytx  spl_obj[1]   spl_obj 
	newspl.name = "lowcon_01"
	)
	
		fn fn_lowcon=(
						for i =1 to  cjfpt.count   do
				(
					fn_kzq_low()
				)   ----------------用循环创建一定数量的控制器
				
				for i=1 to   cjfpt.count   do
				(
					cjlow[i].transform = cjfpt[i].transform
					cjlow[i].parent = cjpts[i]
				    cjlow[i].name ="lowcon_"		+ (i  as string)	
				)												
			)
	-----------------------创建球形控制器并对其位置，做好父子链接----------
----------------------------------------------------------
	
	button 'btn1' "Button1" pos:[46,38] width:64 height:36 align:#left
	button 'btn2' "Button2" pos:[46,90] width:62 height:37 align:#left		
	on btn1 pressed do
		(
	     fn_cjfpt()
	)
		on btn2 pressed do
		(
			fn_cjpt()
			fn_lowcon()
	)
)
CreateDialog unnamedRollout