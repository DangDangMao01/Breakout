# Cocos Creator é‡‘å¸é£è¡ŒåŠ¨ç”» - å®Œæ•´ä½¿ç”¨æ•™ç¨‹

**é€‚ç”¨ç‰ˆæœ¬**: Cocos Creator 2.x / 3.x  
**éš¾åº¦**: â­â­ (ç®€å•)  
**æ—¶é—´**: 10 åˆ†é’Ÿ

---

## ğŸ“‹ ç›®å½•

1. [å‡†å¤‡å·¥ä½œ](#å‡†å¤‡å·¥ä½œ)
2. [åˆ›å»ºé‡‘å¸é¢„åˆ¶ä½“](#åˆ›å»ºé‡‘å¸é¢„åˆ¶ä½“)
3. [æ·»åŠ è„šæœ¬åˆ°åœºæ™¯](#æ·»åŠ è„šæœ¬åˆ°åœºæ™¯)
4. [é…ç½®ç»„ä»¶å±æ€§](#é…ç½®ç»„ä»¶å±æ€§)
5. [è°ƒç”¨é£è¡ŒåŠ¨ç”»](#è°ƒç”¨é£è¡ŒåŠ¨ç”»)
6. [å®Œæ•´ç¤ºä¾‹](#å®Œæ•´ç¤ºä¾‹)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## 1ï¸âƒ£ å‡†å¤‡å·¥ä½œ

### ç¬¬ä¸€æ­¥ï¼šæ‰“å¼€ä½ çš„ Cocos Creator é¡¹ç›®

1. å¯åŠ¨ **Cocos Creator**
2. æ‰“å¼€ä½ çš„é¡¹ç›®ï¼ˆä¾‹å¦‚ï¼š`E:\C_Cocos_File\VFX-Effects`ï¼‰
3. ç­‰å¾…é¡¹ç›®åŠ è½½å®Œæˆ

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºè„šæœ¬æ–‡ä»¶å¤¹

åœ¨ **èµ„æºç®¡ç†å™¨ï¼ˆAssetsï¼‰** é¢æ¿ä¸­ï¼š

1. æ‰¾åˆ° `assets` æ–‡ä»¶å¤¹
2. å³é”®ç‚¹å‡» `assets`
3. é€‰æ‹© **æ–°å»º â†’ æ–‡ä»¶å¤¹**
4. å‘½åä¸º `Script`ï¼ˆå¦‚æœå·²æœ‰åˆ™è·³è¿‡ï¼‰
5. åœ¨ `Script` æ–‡ä»¶å¤¹ä¸‹å†åˆ›å»º `coin` æ–‡ä»¶å¤¹

**æœ€ç»ˆè·¯å¾„**ï¼š`assets/Script/coin/`

### ç¬¬ä¸‰æ­¥ï¼šå¤åˆ¶è„šæœ¬æ–‡ä»¶åˆ°é¡¹ç›®

**æ–¹å¼ 1ï¼šåœ¨ Windows èµ„æºç®¡ç†å™¨ä¸­æ“ä½œ**

1. æ‰“å¼€ Windows èµ„æºç®¡ç†å™¨
2. å¯¼èˆªåˆ°ï¼š`E:\K_Kiro_Work\incubator\Cocos_2D\`
3. æ‰¾åˆ°ä»¥ä¸‹æ–‡ä»¶ï¼š
   - `CoinFlyAnimation_RoyalMatch.js`
   - `CoinTest_Simple.js`
4. å¤åˆ¶è¿™ä¸¤ä¸ªæ–‡ä»¶
5. ç²˜è´´åˆ°ï¼š`E:\C_Cocos_File\VFX-Effects\assets\Script\coin\`

**æ–¹å¼ 2ï¼šåœ¨ Cocos Creator ä¸­æ“ä½œ**

1. åœ¨ Cocos Creator çš„èµ„æºç®¡ç†å™¨ä¸­
2. å³é”®ç‚¹å‡» `assets/Script/coin` æ–‡ä»¶å¤¹
3. é€‰æ‹© **åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æ˜¾ç¤º**
4. æŠŠè„šæœ¬æ–‡ä»¶å¤åˆ¶è¿›å»

### ç¬¬å››æ­¥ï¼šåˆ·æ–°èµ„æº

å¤åˆ¶å®Œæˆåï¼Œåœ¨ Cocos Creator ä¸­ï¼š
- æŒ‰ **Ctrl+R** åˆ·æ–°èµ„æº
- æˆ–è€…ç‚¹å‡»èœå• **å¼€å‘è€… â†’ é‡æ–°åŠ è½½**

**æ£€æŸ¥**ï¼šåœ¨èµ„æºç®¡ç†å™¨ä¸­åº”è¯¥èƒ½çœ‹åˆ°ï¼š
```
assets
â””â”€â”€ Script
    â””â”€â”€ coin
        â”œâ”€â”€ CoinFlyAnimation_RoyalMatch.js
        â””â”€â”€ CoinTest_Simple.js
```

### ç¬¬äº”æ­¥ï¼šå‡†å¤‡é‡‘å¸å›¾ç‰‡

éœ€è¦å‡†å¤‡ä»¥ä¸‹èµ„æºï¼š
- ğŸª™ **é‡‘å¸å›¾ç‰‡** (coin.png) - ç”¨äºé‡‘å¸é¢„åˆ¶ä½“

**å¦‚æœæ²¡æœ‰é‡‘å¸å›¾ç‰‡**ï¼š
1. å¯ä»¥å…ˆç”¨ä»»æ„å›¾ç‰‡ä»£æ›¿ï¼ˆæ¯”å¦‚ä¸€ä¸ªåœ†å½¢å›¾ç‰‡ï¼‰
2. æˆ–è€…ä»ç½‘ä¸Šä¸‹è½½ä¸€ä¸ªé‡‘å¸å›¾æ ‡
3. æ”¾åˆ° `assets/textures/` æ–‡ä»¶å¤¹ï¼ˆéœ€è¦å…ˆåˆ›å»ºï¼‰

**éŸ³æ•ˆæ–‡ä»¶ï¼ˆå¯é€‰ï¼Œæš‚æ—¶ä¸éœ€è¦ï¼‰**ï¼š
- pop.mp3 - å¼¹èµ·éŸ³æ•ˆ
- fly.mp3 - é£è¡ŒéŸ³æ•ˆ
- collect.mp3 - æ”¶é›†éŸ³æ•ˆ

---

## 2ï¸âƒ£ åˆ›å»ºé‡‘å¸é¢„åˆ¶ä½“

### æ­¥éª¤ 1: åˆ›å»ºé‡‘å¸èŠ‚ç‚¹

1. åœ¨ **å±‚çº§ç®¡ç†å™¨ï¼ˆHierarchyï¼‰** é¢æ¿ä¸­
2. å³é”®ç‚¹å‡»ç©ºç™½å¤„
3. é€‰æ‹© **åˆ›å»ºèŠ‚ç‚¹ â†’ åˆ›å»ºç©ºèŠ‚ç‚¹**
4. åœ¨å±æ€§æ£€æŸ¥å™¨ä¸­ï¼Œå°†èŠ‚ç‚¹åç§°æ”¹ä¸º `Coin`

**æˆªå›¾ä½ç½®**ï¼šå±‚çº§ç®¡ç†å™¨å·¦ä¸Šè§’

### æ­¥éª¤ 2: æ·»åŠ  Sprite ç»„ä»¶

1. ç¡®ä¿ `Coin` èŠ‚ç‚¹è¢«é€‰ä¸­ï¼ˆåœ¨å±‚çº§ç®¡ç†å™¨ä¸­ç‚¹å‡»å®ƒï¼‰
2. åœ¨å³ä¾§ **å±æ€§æ£€æŸ¥å™¨ï¼ˆPropertiesï¼‰** é¢æ¿ä¸­
3. ç‚¹å‡»æœ€ä¸‹æ–¹çš„ **æ·»åŠ ç»„ä»¶** æŒ‰é’®
4. é€‰æ‹© **æ¸²æŸ“ç»„ä»¶ â†’ Sprite**

**å¦‚ä½•æ‰¾åˆ°**ï¼š
- ç‚¹å‡»"æ·»åŠ ç»„ä»¶"åä¼šå¼¹å‡ºèœå•
- æ‰¾åˆ°"æ¸²æŸ“ç»„ä»¶"åˆ†ç±»
- ç‚¹å‡»å±•å¼€ï¼Œé€‰æ‹©"Sprite"

### æ­¥éª¤ 3: è®¾ç½®é‡‘å¸å›¾ç‰‡

1. ç¡®ä¿ `Coin` èŠ‚ç‚¹ä»ç„¶è¢«é€‰ä¸­
2. åœ¨å±æ€§æ£€æŸ¥å™¨ä¸­æ‰¾åˆ° **Sprite** ç»„ä»¶
3. æ‰¾åˆ° **SpriteFrame** å±æ€§ï¼ˆæœ‰ä¸€ä¸ªå›¾ç‰‡æ¡†ï¼‰
4. ä»èµ„æºç®¡ç†å™¨ä¸­æ‹–æ‹½é‡‘å¸å›¾ç‰‡åˆ°è¿™ä¸ªæ¡†é‡Œ

**æ“ä½œæ–¹æ³•**ï¼š
- åœ¨èµ„æºç®¡ç†å™¨ä¸­æ‰¾åˆ°ä½ çš„é‡‘å¸å›¾ç‰‡
- ç”¨é¼ æ ‡æ‹–æ‹½å›¾ç‰‡
- æ”¾åˆ° SpriteFrame å±æ€§çš„æ¡†é‡Œ

**å¦‚æœæ²¡æœ‰é‡‘å¸å›¾ç‰‡**ï¼š
- å¯ä»¥å…ˆç”¨ Cocos Creator è‡ªå¸¦çš„å›¾ç‰‡
- åœ¨èµ„æºç®¡ç†å™¨ä¸­æ‰¾åˆ° `internal` æ–‡ä»¶å¤¹
- ä½¿ç”¨ä»»æ„ä¸€ä¸ªå›¾ç‰‡å…ˆæµ‹è¯•

### æ­¥éª¤ 4: è°ƒæ•´é‡‘å¸å¤§å°

1. åœ¨å±æ€§æ£€æŸ¥å™¨çš„ **Node** éƒ¨åˆ†
2. æ‰¾åˆ° **Size** å±æ€§
3. è®¾ç½®ä¸ºï¼š
   - W (å®½åº¦): 60
   - H (é«˜åº¦): 60

**æˆ–è€…è°ƒæ•´ Scale**ï¼š
- X: 1.0
- Y: 1.0

### æ­¥éª¤ 5: ä¿å­˜ä¸ºé¢„åˆ¶ä½“

**é‡è¦æ­¥éª¤**ï¼š

1. åœ¨èµ„æºç®¡ç†å™¨ä¸­åˆ›å»º `prefabs` æ–‡ä»¶å¤¹ï¼š
   - å³é”®ç‚¹å‡» `assets`
   - é€‰æ‹© **æ–°å»º â†’ æ–‡ä»¶å¤¹**
   - å‘½åä¸º `prefabs`

2. ä¿å­˜é¢„åˆ¶ä½“ï¼š
   - åœ¨ **å±‚çº§ç®¡ç†å™¨** ä¸­æ‰¾åˆ° `Coin` èŠ‚ç‚¹
   - ç”¨é¼ æ ‡æ‹–æ‹½ `Coin` èŠ‚ç‚¹
   - æ”¾åˆ°èµ„æºç®¡ç†å™¨çš„ `assets/prefabs` æ–‡ä»¶å¤¹ä¸­
   - çœ‹åˆ°æ–‡ä»¶å¤¹ä¸­å‡ºç° `Coin.prefab` æ–‡ä»¶

3. åˆ é™¤åœºæ™¯ä¸­çš„ Coin èŠ‚ç‚¹ï¼š
   - åœ¨å±‚çº§ç®¡ç†å™¨ä¸­å³é”®ç‚¹å‡» `Coin` èŠ‚ç‚¹
   - é€‰æ‹© **åˆ é™¤èŠ‚ç‚¹**
   - é¢„åˆ¶ä½“å·²ç»ä¿å­˜ï¼Œåœºæ™¯ä¸­ä¸éœ€è¦äº†

**æ£€æŸ¥**ï¼š
- èµ„æºç®¡ç†å™¨ä¸­åº”è¯¥æœ‰ï¼š`assets/prefabs/Coin.prefab`
- å±‚çº§ç®¡ç†å™¨ä¸­ä¸åº”è¯¥æœ‰ `Coin` èŠ‚ç‚¹

---

## 3ï¸âƒ£ æ­å»ºæµ‹è¯•åœºæ™¯

### æ­¥éª¤ 1: ç¡®è®¤ Canvas èŠ‚ç‚¹å­˜åœ¨

1. åœ¨ **å±‚çº§ç®¡ç†å™¨** ä¸­æŸ¥çœ‹
2. åº”è¯¥æœ‰ä¸€ä¸ª `Canvas` èŠ‚ç‚¹ï¼ˆCocos é¡¹ç›®é»˜è®¤å°±æœ‰ï¼‰
3. å¦‚æœæ²¡æœ‰ï¼Œåˆ›å»ºä¸€ä¸ªï¼š
   - å³é”®ç‚¹å‡»ç©ºç™½å¤„
   - é€‰æ‹© **åˆ›å»ºèŠ‚ç‚¹ â†’ åˆ›å»º UI èŠ‚ç‚¹ â†’ Canvas**

### æ­¥éª¤ 2: åˆ›å»º CoinManager èŠ‚ç‚¹

1. åœ¨å±‚çº§ç®¡ç†å™¨ä¸­ï¼Œå³é”®ç‚¹å‡» `Canvas` èŠ‚ç‚¹
2. é€‰æ‹© **åˆ›å»ºèŠ‚ç‚¹ â†’ åˆ›å»ºç©ºèŠ‚ç‚¹**
3. åœ¨å±æ€§æ£€æŸ¥å™¨ä¸­ï¼Œå°†åç§°æ”¹ä¸º `CoinManager`

**ä½ç½®**ï¼š
- Position X: 0
- Position Y: 0
- ï¼ˆä¿æŒé»˜è®¤å³å¯ï¼‰

### æ­¥éª¤ 3: åˆ›å»º CoinIcon èŠ‚ç‚¹ï¼ˆé‡‘å¸å›¾æ ‡ï¼‰

1. å³é”®ç‚¹å‡» `Canvas` èŠ‚ç‚¹
2. é€‰æ‹© **åˆ›å»ºèŠ‚ç‚¹ â†’ åˆ›å»ºæ¸²æŸ“èŠ‚ç‚¹ â†’ Spriteï¼ˆç²¾çµï¼‰**
3. é‡å‘½åä¸º `CoinIcon`

**è®¾ç½®å±æ€§**ï¼š

1. **Positionï¼ˆä½ç½®ï¼‰**ï¼š
   - X: 300
   - Y: 500
   - ï¼ˆå±å¹•å³ä¸Šè§’ï¼‰

2. **Sizeï¼ˆå¤§å°ï¼‰**ï¼š
   - W: 80
   - H: 80

3. **SpriteFrameï¼ˆå›¾ç‰‡ï¼‰**ï¼š
   - æ‹–æ‹½é‡‘å¸å›¾ç‰‡åˆ°è¿™é‡Œ
   - æˆ–è€…å…ˆç”¨ä»»æ„å›¾ç‰‡

### æ­¥éª¤ 4: åˆ›å»º TestButton èŠ‚ç‚¹ï¼ˆæµ‹è¯•æŒ‰é’®ï¼‰

1. å³é”®ç‚¹å‡» `Canvas` èŠ‚ç‚¹
2. é€‰æ‹© **åˆ›å»ºèŠ‚ç‚¹ â†’ åˆ›å»º UI èŠ‚ç‚¹ â†’ Buttonï¼ˆæŒ‰é’®ï¼‰**
3. é‡å‘½åä¸º `TestButton`

**è®¾ç½®å±æ€§**ï¼š

1. **Positionï¼ˆä½ç½®ï¼‰**ï¼š
   - X: 0
   - Y: -200
   - ï¼ˆå±å¹•ä¸‹æ–¹ä¸­é—´ï¼‰

2. **Sizeï¼ˆå¤§å°ï¼‰**ï¼š
   - W: 200
   - H: 80

3. **Button ç»„ä»¶**ï¼š
   - ç¡®ä¿ **Interactable** å·²å‹¾é€‰ âœ…
   - Transition: SCALEï¼ˆç‚¹å‡»æ—¶ç¼©æ”¾æ•ˆæœï¼‰

4. **æ·»åŠ æ–‡å­—ï¼ˆå¯é€‰ï¼‰**ï¼š
   - TestButton èŠ‚ç‚¹ä¸‹åº”è¯¥æœ‰ä¸€ä¸ª `Label` å­èŠ‚ç‚¹
   - é€‰ä¸­ Label èŠ‚ç‚¹
   - åœ¨ Label ç»„ä»¶ä¸­ï¼Œå°† String æ”¹ä¸º "æµ‹è¯•é‡‘å¸é£è¡Œ"

### æ­¥éª¤ 5: æ£€æŸ¥åœºæ™¯ç»“æ„

åœ¨å±‚çº§ç®¡ç†å™¨ä¸­ï¼Œåº”è¯¥çœ‹åˆ°è¿™æ ·çš„ç»“æ„ï¼š

```
Canvas
â”œâ”€â”€ CoinManager (ç©ºèŠ‚ç‚¹)
â”œâ”€â”€ CoinIcon (Sprite èŠ‚ç‚¹)
â””â”€â”€ TestButton (Button èŠ‚ç‚¹)
    â””â”€â”€ Label (æ–‡å­—ï¼Œå¯é€‰)
```

**ä¿å­˜åœºæ™¯**ï¼š
- æŒ‰ **Ctrl+S** ä¿å­˜åœºæ™¯
- æˆ–è€…ç‚¹å‡»èœå• **æ–‡ä»¶ â†’ ä¿å­˜åœºæ™¯**

---

## 4ï¸âƒ£ æ·»åŠ å’Œé…ç½®ç»„ä»¶

### æ­¥éª¤ 1: ç»™ CoinManager æ·»åŠ é‡‘å¸é£è¡Œç»„ä»¶

1. åœ¨å±‚çº§ç®¡ç†å™¨ä¸­ï¼Œé€‰ä¸­ `CoinManager` èŠ‚ç‚¹
2. åœ¨å±æ€§æ£€æŸ¥å™¨ä¸­ï¼Œç‚¹å‡»æœ€ä¸‹æ–¹çš„ **æ·»åŠ ç»„ä»¶** æŒ‰é’®
3. åœ¨å¼¹å‡ºçš„èœå•ä¸­ï¼š
   - æ‰¾åˆ° **è‡ªå®šä¹‰ç»„ä»¶** åˆ†ç±»
   - åº”è¯¥èƒ½çœ‹åˆ° `CoinFlyAnimation_RoyalMatch`
   - ç‚¹å‡»å®ƒ

**å¦‚æœæ‰¾ä¸åˆ°ç»„ä»¶**ï¼š
- æ£€æŸ¥è„šæœ¬æ–‡ä»¶æ˜¯å¦åœ¨ `assets/Script/coin/` æ–‡ä»¶å¤¹ä¸­
- æŒ‰ Ctrl+R åˆ·æ–°èµ„æº
- æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰è„šæœ¬é”™è¯¯

### æ­¥éª¤ 2: é…ç½® CoinFlyAnimation_RoyalMatch ç»„ä»¶

é€‰ä¸­ `CoinManager` èŠ‚ç‚¹åï¼Œåœ¨å±æ€§æ£€æŸ¥å™¨ä¸­æ‰¾åˆ° `CoinFlyAnimation_RoyalMatch` ç»„ä»¶ã€‚

**å¿…é¡»é…ç½®çš„å±æ€§**ï¼š

1. **Coin Prefabï¼ˆé‡‘å¸é¢„åˆ¶ä½“ï¼‰**ï¼š
   - è¿™æ˜¯æœ€é‡è¦çš„å±æ€§ï¼
   - ä»èµ„æºç®¡ç†å™¨ä¸­æ‰¾åˆ° `assets/prefabs/Coin.prefab`
   - ç”¨é¼ æ ‡æ‹–æ‹½ `Coin.prefab` æ–‡ä»¶
   - æ”¾åˆ° `Coin Prefab` å±æ€§çš„æ¡†é‡Œ
   - åº”è¯¥æ˜¾ç¤º "Coin" è€Œä¸æ˜¯ "None"

**å¯é€‰é…ç½®ï¼ˆä½¿ç”¨é»˜è®¤å€¼å³å¯ï¼‰**ï¼š

è¿™äº›å‚æ•°å¯ä»¥å…ˆä¸æ”¹ï¼Œä½¿ç”¨é»˜è®¤å€¼ï¼š
- Pop Up Height: 100ï¼ˆå¼¹èµ·é«˜åº¦ï¼‰
- Pop Up Duration: 0.3ï¼ˆå¼¹èµ·æ—¶é—´ï¼‰
- Fly Duration: 0.6ï¼ˆé£è¡Œæ—¶é—´ï¼‰
- Batch Interval: 0.04ï¼ˆæ‰¹é‡é—´éš”ï¼‰
- Spread Radius: 80ï¼ˆæ•£å¼€åŠå¾„ï¼‰
- å…¶ä»–å‚æ•°...

**æ£€æŸ¥**ï¼š
- Coin Prefab å±æ€§åº”è¯¥æ˜¾ç¤º "Coin"
- ä¸åº”è¯¥æ˜¯ "None" æˆ–ç©ºçš„

### æ­¥éª¤ 3: ç»™ Canvas æ·»åŠ æµ‹è¯•è„šæœ¬

1. åœ¨å±‚çº§ç®¡ç†å™¨ä¸­ï¼Œé€‰ä¸­ `Canvas` èŠ‚ç‚¹
2. ç‚¹å‡» **æ·»åŠ ç»„ä»¶**
3. é€‰æ‹© **è‡ªå®šä¹‰ç»„ä»¶ â†’ CoinTest_Simple**

**å¦‚æœæ‰¾ä¸åˆ° CoinTest_Simple**ï¼š
- ç¡®è®¤ `CoinTest_Simple.js` æ–‡ä»¶åœ¨ `assets/Script/coin/` æ–‡ä»¶å¤¹ä¸­
- æŒ‰ Ctrl+R åˆ·æ–°

### æ­¥éª¤ 4: é…ç½® CoinTest_Simple ç»„ä»¶

é€‰ä¸­ `Canvas` èŠ‚ç‚¹åï¼Œåœ¨å±æ€§æ£€æŸ¥å™¨ä¸­æ‰¾åˆ° `CoinTest_Simple` ç»„ä»¶ã€‚

**éœ€è¦è®¾ç½®çš„å±æ€§**ï¼š

1. **Coin Fly Animï¼ˆé‡‘å¸é£è¡Œç»„ä»¶ï¼‰**ï¼š
   - ä»å±‚çº§ç®¡ç†å™¨ä¸­æ‹–æ‹½ `CoinManager` èŠ‚ç‚¹
   - æ”¾åˆ°è¿™ä¸ªå±æ€§æ¡†é‡Œ
   - åº”è¯¥æ˜¾ç¤º "CoinManager"

2. **Coin Iconï¼ˆé‡‘å¸å›¾æ ‡ï¼‰**ï¼š
   - ä»å±‚çº§ç®¡ç†å™¨ä¸­æ‹–æ‹½ `CoinIcon` èŠ‚ç‚¹
   - æ”¾åˆ°è¿™ä¸ªå±æ€§æ¡†é‡Œ
   - åº”è¯¥æ˜¾ç¤º "CoinIcon"

3. **Test Buttonï¼ˆæµ‹è¯•æŒ‰é’®ï¼‰**ï¼š
   - ä»å±‚çº§ç®¡ç†å™¨ä¸­æ‹–æ‹½ `TestButton` èŠ‚ç‚¹
   - æ”¾åˆ°è¿™ä¸ªå±æ€§æ¡†é‡Œ
   - åº”è¯¥æ˜¾ç¤º "TestButton"

**æ£€æŸ¥**ï¼š
- ä¸‰ä¸ªå±æ€§éƒ½ä¸åº”è¯¥æ˜¯ "None"
- éƒ½åº”è¯¥æ˜¾ç¤ºå¯¹åº”çš„èŠ‚ç‚¹åç§°

### æ­¥éª¤ 5: ä¿å­˜åœºæ™¯

- æŒ‰ **Ctrl+S** ä¿å­˜åœºæ™¯
- æˆ–è€…ç‚¹å‡»èœå• **æ–‡ä»¶ â†’ ä¿å­˜åœºæ™¯**

---

## 5ï¸âƒ£ è¿è¡Œå’Œæµ‹è¯•

### æ­¥éª¤ 1: è¿è¡Œæ¸¸æˆ

1. ç‚¹å‡» Cocos Creator é¡¶éƒ¨çš„ **è¿è¡Œ** æŒ‰é’®ï¼ˆâ–¶ï¸ æ’­æ”¾å›¾æ ‡ï¼‰
2. æˆ–è€…æŒ‰å¿«æ·é”® **Ctrl+P**
3. ç­‰å¾…æ¸¸æˆçª—å£æ‰“å¼€

**å¦‚æœæ¸¸æˆçª—å£æ²¡æœ‰æ‰“å¼€**ï¼š
- æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
- ç¡®ä¿åœºæ™¯å·²ä¿å­˜

### æ­¥éª¤ 2: æµ‹è¯•é‡‘å¸é£è¡Œ

1. åœ¨æ¸¸æˆçª—å£ä¸­ï¼Œæ‰¾åˆ° "æµ‹è¯•é‡‘å¸é£è¡Œ" æŒ‰é’®
2. ç‚¹å‡»æŒ‰é’®
3. è§‚å¯Ÿæ•ˆæœï¼š
   - åº”è¯¥çœ‹åˆ°é‡‘å¸ä»æŒ‰é’®ä½ç½®é£å‡º
   - é‡‘å¸é£å‘å³ä¸Šè§’çš„é‡‘å¸å›¾æ ‡
   - é‡‘å¸æœ‰æ—‹è½¬å’Œç¼©æ”¾æ•ˆæœ

### æ­¥éª¤ 3: æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

åœ¨ Cocos Creator åº•éƒ¨çš„ **æ§åˆ¶å°ï¼ˆConsoleï¼‰** é¢æ¿ä¸­ï¼Œåº”è¯¥çœ‹åˆ°ï¼š

```
=== CoinTest åˆå§‹åŒ– ===
âœ… æŒ‰é’®ç‚¹å‡»äº‹ä»¶å·²ç»‘å®š
=== æŒ‰é’®è¢«ç‚¹å‡» ===
èµ·å§‹ä½ç½®: (x: xxx, y: xxx)
ç»“æŸä½ç½®: (x: xxx, y: xxx)
å¼€å§‹é£è¡Œ 10 ä¸ªé‡‘å¸...
âœ… é‡‘å¸é£è¡Œå®Œæˆï¼
```

### æ­¥éª¤ 4: å¦‚æœæ²¡æœ‰æ•ˆæœ

**æ£€æŸ¥æ¸…å•**ï¼š

1. **æ§åˆ¶å°æœ‰é”™è¯¯å—ï¼Ÿ**
   - æŸ¥çœ‹æ§åˆ¶å°çš„çº¢è‰²é”™è¯¯ä¿¡æ¯
   - å¸¸è§é”™è¯¯è§ä¸‹æ–¹

2. **æŒ‰é’®èƒ½ç‚¹å‡»å—ï¼Ÿ**
   - æ£€æŸ¥ TestButton çš„ Button ç»„ä»¶
   - Interactable æ˜¯å¦å‹¾é€‰

3. **ç»„ä»¶éƒ½è®¾ç½®äº†å—ï¼Ÿ**
   - CoinManager çš„ Coin Prefab æ˜¯å¦è®¾ç½®
   - Canvas çš„ CoinTest_Simple ç»„ä»¶çš„ä¸‰ä¸ªå±æ€§æ˜¯å¦éƒ½è®¾ç½®

4. **èŠ‚ç‚¹ä½ç½®å¯¹å—ï¼Ÿ**
   - CoinIcon åœ¨å±å¹•å³ä¸Šè§’
   - TestButton åœ¨å±å¹•ä¸‹æ–¹

### å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ

#### é”™è¯¯ 1: "è¯·è®¾ç½® coinPrefab"

**åŸå› **ï¼šCoinManager çš„ Coin Prefab å±æ€§æ²¡æœ‰è®¾ç½®

**è§£å†³**ï¼š
1. é€‰ä¸­ CoinManager èŠ‚ç‚¹
2. æ‰¾åˆ° CoinFlyAnimation_RoyalMatch ç»„ä»¶
3. æ‹–æ‹½ `Coin.prefab` åˆ° Coin Prefab å±æ€§

#### é”™è¯¯ 2: "Cannot read property 'flyCoins' of null"

**åŸå› **ï¼šCanvas çš„ CoinTest_Simple ç»„ä»¶çš„ Coin Fly Anim å±æ€§æ²¡æœ‰è®¾ç½®

**è§£å†³**ï¼š
1. é€‰ä¸­ Canvas èŠ‚ç‚¹
2. æ‰¾åˆ° CoinTest_Simple ç»„ä»¶
3. æ‹–æ‹½ CoinManager èŠ‚ç‚¹åˆ° Coin Fly Anim å±æ€§

#### é”™è¯¯ 3: ç‚¹å‡»æŒ‰é’®æ²¡ååº”

**åŸå› **ï¼šButton ç»„ä»¶çš„ Interactable æ²¡æœ‰å‹¾é€‰

**è§£å†³**ï¼š
1. é€‰ä¸­ TestButton èŠ‚ç‚¹
2. æ‰¾åˆ° Button ç»„ä»¶
3. å‹¾é€‰ Interactable âœ…

#### é”™è¯¯ 4: é‡‘å¸ä¸æ˜¾ç¤º

**åŸå› **ï¼šé‡‘å¸é¢„åˆ¶ä½“æ²¡æœ‰å›¾ç‰‡

**è§£å†³**ï¼š
1. åœ¨èµ„æºç®¡ç†å™¨ä¸­åŒå‡» `Coin.prefab`
2. æ£€æŸ¥ Sprite ç»„ä»¶çš„ SpriteFrame æ˜¯å¦æœ‰å›¾ç‰‡
3. å¦‚æœæ²¡æœ‰ï¼Œæ‹–æ‹½ä¸€ä¸ªå›¾ç‰‡è¿›å»

### æ­¥éª¤ 5: è°ƒæ•´æ•ˆæœï¼ˆå¯é€‰ï¼‰

å¦‚æœé‡‘å¸é£è¡Œæ•ˆæœä¸æ»¡æ„ï¼Œå¯ä»¥è°ƒæ•´å‚æ•°ï¼š

1. é€‰ä¸­ CoinManager èŠ‚ç‚¹
2. æ‰¾åˆ° CoinFlyAnimation_RoyalMatch ç»„ä»¶
3. è°ƒæ•´å‚æ•°ï¼š
   - **Fly Duration**: æ”¹æˆ 0.8ï¼ˆé£è¡Œæ›´æ…¢ï¼‰
   - **Pop Up Height**: æ”¹æˆ 150ï¼ˆå¼¹èµ·æ›´é«˜ï¼‰
   - **Spread Radius**: æ”¹æˆ 120ï¼ˆæ•£å¼€æ›´å¤§ï¼‰

4. ä¿å­˜åœºæ™¯ï¼ˆCtrl+Sï¼‰
5. é‡æ–°è¿è¡Œæµ‹è¯•ï¼ˆCtrl+Pï¼‰

---

## 6ï¸âƒ£ å®Œæ•´ç¤ºä¾‹

### åˆ›å»ºæµ‹è¯•åœºæ™¯

#### æ­¥éª¤ 1: åˆ›å»º UI å¸ƒå±€

åœ¨ Canvas ä¸‹åˆ›å»ºä»¥ä¸‹èŠ‚ç‚¹ï¼š

```
Canvas
â”œâ”€â”€ Background (Sprite - èƒŒæ™¯)
â”œâ”€â”€ CoinIcon (Sprite - é¡¶éƒ¨é‡‘å¸å›¾æ ‡)
â”‚   â””â”€â”€ CoinLabel (Label - æ˜¾ç¤ºé‡‘å¸æ•°é‡)
â”œâ”€â”€ TestButton (Button - æµ‹è¯•æŒ‰é’®)
â””â”€â”€ CoinManager (Empty Node - æŒ‚è½½é‡‘å¸é£è¡Œè„šæœ¬)
```

#### æ­¥éª¤ 2: è®¾ç½®èŠ‚ç‚¹ä½ç½®

- **CoinIcon**: ä½ç½® (300, 500) - å±å¹•å³ä¸Šè§’
- **TestButton**: ä½ç½® (0, -200) - å±å¹•ä¸‹æ–¹

#### æ­¥éª¤ 3: åˆ›å»ºæµ‹è¯•è„šæœ¬

åˆ›å»ºæ–°è„šæœ¬ `CoinTest.js`ï¼š

```javascript
cc.Class({
    extends: cc.Component,

    properties: {
        coinFlyAnim: cc.Component,
        coinIcon: cc.Node,
        coinLabel: cc.Label,
        testButton: cc.Node
    },

    onLoad() {
        // åˆå§‹é‡‘å¸æ•°é‡
        this.currentCoins = 0;
        this.updateCoinLabel();

        // ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶
        this.testButton.on('click', this.onTestClick, this);
    },

    onTestClick() {
        // ä»æŒ‰é’®é£å‘é‡‘å¸å›¾æ ‡
        let startPos = this.testButton.convertToWorldSpaceAR(cc.v2(0, 0));
        let endPos = this.coinIcon.convertToWorldSpaceAR(cc.v2(0, 0));

        this.coinFlyAnim.flyCoins(startPos, endPos, 10, () => {
            this.addCoins(50);
            
            // æ’­æ”¾é‡‘å¸å›¾æ ‡çš„åé¦ˆåŠ¨ç”»
            this.coinIcon.runAction(cc.sequence(
                cc.scaleTo(0.1, 1.2),
                cc.scaleTo(0.1, 1.0)
            ));
        });
    },

    addCoins(amount) {
        this.currentCoins += amount;
        this.updateCoinLabel();
    },

    updateCoinLabel() {
        if (this.coinLabel) {
            this.coinLabel.string = this.currentCoins.toString();
        }
    }
});
```

#### æ­¥éª¤ 4: é…ç½®ç»„ä»¶

1. é€‰ä¸­ Canvas èŠ‚ç‚¹
2. æ·»åŠ  `CoinTest` ç»„ä»¶
3. æ‹–æ‹½èŠ‚ç‚¹åˆ°å¯¹åº”å±æ€§ï¼š
   - Coin Fly Anim â†’ CoinManager
   - Coin Icon â†’ CoinIcon
   - Coin Label â†’ CoinIcon/CoinLabel
   - Test Button â†’ TestButton

#### æ­¥éª¤ 5: è¿è¡Œæµ‹è¯•

1. ç‚¹å‡» **è¿è¡Œ** æŒ‰é’®ï¼ˆæˆ–æŒ‰ Ctrl+Pï¼‰
2. ç‚¹å‡»æµ‹è¯•æŒ‰é’®
3. è§‚å¯Ÿé‡‘å¸é£è¡Œæ•ˆæœ

---

## 7ï¸âƒ£ å¸¸è§é—®é¢˜

### Q1: é‡‘å¸ä¸æ˜¾ç¤ºï¼Ÿ

**æ£€æŸ¥æ¸…å•**ï¼š
- âœ… æ˜¯å¦è®¾ç½®äº† `coinPrefab`ï¼Ÿ
- âœ… é‡‘å¸é¢„åˆ¶ä½“æ˜¯å¦æœ‰ Sprite ç»„ä»¶ï¼Ÿ
- âœ… Sprite æ˜¯å¦è®¾ç½®äº†å›¾ç‰‡ï¼Ÿ
- âœ… èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®æ˜¯å¦æ­£ç¡®ï¼Ÿ

**è°ƒè¯•æ–¹æ³•**ï¼š
```javascript
// åœ¨ flyCoins è°ƒç”¨å‰æ‰“å°ä½ç½®
console.log("èµ·å§‹ä½ç½®ï¼š", startPos);
console.log("ç»“æŸä½ç½®ï¼š", endPos);
```

### Q2: é‡‘å¸é£è¡Œè½¨è¿¹ä¸å¯¹ï¼Ÿ

**åŸå› **ï¼šåæ ‡ç³»ç»Ÿé—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
// ç¡®ä¿ä½¿ç”¨ä¸–ç•Œåæ ‡
let startPos = startNode.convertToWorldSpaceAR(cc.v2(0, 0));
let endPos = endNode.convertToWorldSpaceAR(cc.v2(0, 0));
```

### Q3: æ‰¾ä¸åˆ°ç»„ä»¶ï¼Ÿ

**é”™è¯¯ä¿¡æ¯**ï¼š`Cannot read property 'flyCoins' of null`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
onLoad() {
    // æ–¹å¼1: ä»å½“å‰èŠ‚ç‚¹æŸ¥æ‰¾
    this.coinFlyAnim = this.node.getComponent('CoinFlyAnimation_RoyalMatch');
    
    // æ–¹å¼2: ä» Canvas æŸ¥æ‰¾
    this.coinFlyAnim = cc.find('Canvas').getComponent('CoinFlyAnimation_RoyalMatch');
    
    // æ–¹å¼3: ä»æŒ‡å®šèŠ‚ç‚¹æŸ¥æ‰¾
    let coinManager = cc.find('Canvas/CoinManager');
    this.coinFlyAnim = coinManager.getComponent('CoinFlyAnimation_RoyalMatch');
    
    // æ£€æŸ¥æ˜¯å¦æ‰¾åˆ°
    if (!this.coinFlyAnim) {
        cc.error("æ‰¾ä¸åˆ° CoinFlyAnimation_RoyalMatch ç»„ä»¶ï¼");
    }
}
```

### Q4: é‡‘å¸é£è¡Œå¤ªå¿«/å¤ªæ…¢ï¼Ÿ

**è°ƒæ•´å‚æ•°**ï¼š
```javascript
// åœ¨å±æ€§æ£€æŸ¥å™¨ä¸­è°ƒæ•´ï¼Œæˆ–è€…åœ¨ä»£ç ä¸­ï¼š
this.coinFlyAnim.popUpDuration = 0.5;  // å¼¹èµ·æ—¶é—´
this.coinFlyAnim.flyDuration = 0.8;    // é£è¡Œæ—¶é—´
```

### Q5: å¦‚ä½•è°ƒæ•´é£è¡Œè½¨è¿¹ï¼Ÿ

**è°ƒæ•´å¼¹èµ·é«˜åº¦**ï¼š
```javascript
this.coinFlyAnim.popUpHeight = 150;  // æ›´é«˜çš„å¼¹èµ·
```

**è°ƒæ•´æ•£å¼€èŒƒå›´**ï¼š
```javascript
this.coinFlyAnim.spreadRadius = 120;  // æ›´å¤§çš„æ•£å¼€
```

### Q6: æ€§èƒ½é—®é¢˜ï¼Ÿ

**ä¼˜åŒ–å»ºè®®**ï¼š
```javascript
// 1. é™åˆ¶åŒæ—¶é£è¡Œçš„é‡‘å¸æ•°é‡
let maxCoins = 20;
let visualCoins = Math.min(actualCoins, maxCoins);
this.coinFlyAnim.flyCoins(startPos, endPos, visualCoins, callback);

// 2. å¢åŠ å‘å°„é—´éš”
this.coinFlyAnim.batchInterval = 0.08;  // é»˜è®¤ 0.04

// 3. åˆ†æ‰¹é£è¡Œ
if (coinCount > 50) {
    // åˆ†æˆå¤šæ‰¹
    let batchSize = 20;
    let batches = Math.ceil(coinCount / batchSize);
    
    for (let i = 0; i < batches; i++) {
        this.scheduleOnce(() => {
            let count = Math.min(batchSize, coinCount - i * batchSize);
            this.coinFlyAnim.flyCoins(startPos, endPos, count);
        }, i * 0.5);
    }
}
```

---

## ğŸ¨ è¿›é˜¶æŠ€å·§

### æŠ€å·§ 1: æ·»åŠ æ•°å­—æç¤º

```javascript
// åˆ›å»ºæ•°å­—æ ‡ç­¾é¢„åˆ¶ä½“ï¼Œç„¶åï¼š
showCoinNumber(pos, amount) {
    let label = cc.instantiate(this.numberPrefab);
    label.parent = this.node;
    label.position = this.node.convertToNodeSpaceAR(pos);
    label.getComponent(cc.Label).string = "+" + amount;
    
    // åŠ¨ç”»
    label.runAction(cc.sequence(
        cc.spawn(
            cc.moveBy(1.0, 0, 100),
            cc.fadeOut(1.0)
        ),
        cc.removeSelf()
    ));
}
```

### æŠ€å·§ 2: ç›®æ ‡èŠ‚ç‚¹åé¦ˆ

```javascript
// é‡‘å¸åˆ°è¾¾æ—¶ï¼Œè®©ç›®æ ‡å›¾æ ‡æœ‰åé¦ˆ
playCollectFeedback(targetNode) {
    targetNode.runAction(cc.sequence(
        cc.scaleTo(0.1, 1.3),
        cc.scaleTo(0.1, 1.0)
    ));
}
```

### æŠ€å·§ 3: è¿ç»­è·å¾—é‡‘å¸

```javascript
// æ¨¡æ‹Ÿè¿å‡»æ•ˆæœ
onCombo() {
    for (let i = 0; i < 5; i++) {
        this.scheduleOnce(() => {
            this.coinFlyAnim.flyCoins(startPos, endPos, 3, () => {
                this.addCoins(10);
            });
        }, i * 0.3);
    }
}
```

---

## ğŸ“ æ€»ç»“

### ä½¿ç”¨æ­¥éª¤å›é¡¾

1. âœ… åˆ›å»ºé‡‘å¸é¢„åˆ¶ä½“
2. âœ… æ·»åŠ è„šæœ¬åˆ°åœºæ™¯
3. âœ… é…ç½® coinPrefab å±æ€§
4. âœ… åœ¨ä»£ç ä¸­è°ƒç”¨ flyCoins()

### æ ¸å¿ƒä»£ç 

```javascript
// è·å–ç»„ä»¶
this.coinFlyAnim = this.node.getComponent('CoinFlyAnimation_RoyalMatch');

// é£è¡Œé‡‘å¸
this.coinFlyAnim.flyCoins(startPos, endPos, count, () => {
    // å®Œæˆå›è°ƒ
    this.addCoins(amount);
});
```

---

## ğŸ‰ æ­å–œï¼

ä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•åœ¨ Cocos Creator ä¸­ä½¿ç”¨é‡‘å¸é£è¡ŒåŠ¨ç”»ï¼

**ä¸‹ä¸€æ­¥**ï¼š
- å°è¯•è°ƒæ•´å‚æ•°ï¼Œæ‰¾åˆ°æœ€é€‚åˆä½ æ¸¸æˆçš„æ•ˆæœ
- æ·»åŠ éŸ³æ•ˆå’Œç²’å­æ•ˆæœ
- åˆ›å»ºä¸åŒç±»å‹çš„è´§å¸é£è¡Œï¼ˆé’»çŸ³ã€æ˜Ÿæ˜Ÿç­‰ï¼‰

**éœ€è¦å¸®åŠ©ï¼Ÿ**
- æŸ¥çœ‹ `CoinFlyExample_RoyalMatch.js` è·å–æ›´å¤šç¤ºä¾‹
- å‚è€ƒ `README-CoinFly.md` äº†è§£è¯¦ç»† API

---

**åˆ›å»ºæ—¶é—´**: 2026-01-27  
**ä½œè€…**: Kiro AI Assistant  
**ç‰ˆæœ¬**: v1.0
