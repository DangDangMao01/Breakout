# 飞书美术资源通知系统

> 自动通知系统，当美术资源提交到 GitLab 时，自动发送飞书消息给项目负责人

---

## 🚀 快速开始

### 1. 查看部署指南

- **最新版本**: [v3.1 部署指南](./docs/v3.1部署指南.md) - 支持多人通知
- **上一版本**: [v3.0 部署指南](./docs/v3.0部署指南.md)

### 2. 运行快速部署

```bash
# Windows 环境
快速部署.bat
```

### 3. 配置负责人名单

编辑 `config/owners.json`：

```json
{
    "项目名称": ["email@huixuanjiasu.com"]
}
```

---

## 📁 目录结构

```
Feishu_Notify_Setup/
├── 📁 archives/                 # 归档文件
│   ├── ci-configs/             # 旧的 CI 配置文件（11个版本）
│   ├── old-scripts/            # 旧版本脚本（v1.0, v2.0）
│   ├── test-files/             # 测试文件
│   └── README.md               # 归档说明
│
├── 📁 config/                   # 配置文件
│   ├── owners.json             # 负责人配置（生产环境）
│   ├── owners_example.json     # 配置示例
│   └── README.md               # 配置说明
│
├── 📁 docs/                     # 文档
│   ├── v3.1部署指南.md          # ⭐ 最新版本
│   ├── v3.0部署指南.md
│   ├── 飞书应用创建指南.md
│   ├── 部署到公司工程指南.md
│   ├── 使用说明.md
│   ├── 修复方案.md
│   ├── 功能价值说明.md
│   ├── 需求调研问卷.md
│   ├── 运行日志模板.md
│   ├── 个人任务提醒部署指南.md
│   └── 飞书多维表格自动通知方案.md
│
├── 📁 scripts/                  # 脚本文件
│   ├── notify_v3_auto_match.py # ⭐ v3.1 主脚本（当前使用）
│   ├── gantt_reminder.py       # 甘特图任务提醒
│   ├── my_task_reminder.py     # 个人任务提醒
│   ├── my_tasks.json           # 个人任务配置
│   └── README.md               # 脚本说明
│
├── 📁 image/                    # 截图和图片
│   └── .gitlab-ci/             # CI 配置截图
│
├── 📄 .gitlab-ci.yml            # ⭐ 当前使用的 CI 配置
├── 🔧 快速部署.bat              # 快速部署工具
├── 🔧 部署到公司工程.bat        # 部署到生产环境
└── 📖 README.md                 # 本文件
```

**整理说明**：
- ✅ 已将 11 个旧版本 CI 配置归档到 `archives/ci-configs/`
- ✅ 已将旧版本脚本归档到 `archives/old-scripts/`
- ✅ 已将测试文件归档到 `archives/test-files/`
- ✅ 配置文件统一放在 `config/` 目录
- ✅ 文档统一放在 `docs/` 目录
- ✅ 脚本统一放在 `scripts/` 目录
- ✅ 每个目录都有 README.md 说明文件

---

## 📋 版本历史

| 版本 | 日期 | 主要功能 |
|------|------|----------|
| v3.1 | 2026-01-21 | 支持多人通知 |
| v3.0 | 2026-01-20 | 自动项目路径匹配 |
| v2.0 | 2025-12 | 增强版通知 |
| v1.0 | 2025-11 | 基础通知功能 |

---

## 🔧 核心功能

- ✅ 自动识别项目路径
- ✅ 支持多人通知
- ✅ 美观的卡片消息
- ✅ 详细的日志输出
- ✅ 失败自动降级（卡片 → 文本）

---

## 📚 相关文档

- [部署到公司工程指南](./docs/部署到公司工程指南.md)
- [飞书应用创建指南](./docs/飞书应用创建指南.md)
- [功能价值说明](./docs/功能价值说明.md)
- [修复方案](./docs/修复方案.md)

---

## 🐛 故障排查

遇到问题？查看：
1. [v3.1 部署指南 - 故障排查章节](./docs/v3.1部署指南.md#-故障排查)
2. [修复方案](./docs/修复方案.md)
3. CI/CD 日志

---

## 📞 联系方式

有问题随时找我！

**当前状态**: ✅ 已部署 v3.1，等待明天测试验证
