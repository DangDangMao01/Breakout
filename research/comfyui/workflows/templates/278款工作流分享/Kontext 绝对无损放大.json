{
  "id": "9e0ff10b-81a4-4d14-a837-4949ec6ca53c",
  "revision": 0,
  "last_node_id": 39,
  "last_link_id": 57,
  "nodes": [
    {
      "id": 10,
      "type": "LayerUtility: NumberCalculatorV2",
      "pos": {
        "0": 1198.60693359375,
        "1": 950.936279296875
      },
      "size": {
        "0": 314.6441345214844,
        "1": 146
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "label": "a",
          "name": "a",
          "shape": 7,
          "type": "*",
          "link": 56
        },
        {
          "label": "b",
          "name": "b",
          "shape": 7,
          "type": "*"
        }
      ],
      "outputs": [
        {
          "label": "int",
          "name": "int",
          "type": "INT",
          "links": [
            36
          ]
        },
        {
          "label": "float",
          "name": "float",
          "type": "FLOAT"
        },
        {
          "label": "string",
          "name": "string",
          "type": "STRING"
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "LayerUtility: NumberCalculatorV2",
        "cnr_id": "comfyui_layerstyle",
        "ver": "42ccdd8f75ab312285eaa77073a5cc20bdba484c",
        "ue_properties": {
          "widget_ue_connectable": {
            "a_value": true,
            "operator": true,
            "b_value": true
          },
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "",
        "1024",
        "//"
      ],
      "color": "rgba(38, 73, 116, 0.7)"
    },
    {
      "id": 17,
      "type": "ImpactImageBatchToImageList",
      "pos": {
        "0": 2234.79638671875,
        "1": 739.0569458007812
      },
      "size": {
        "0": 202.54061889648438,
        "1": 26
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "label": "图像",
          "name": "image",
          "type": "IMAGE",
          "link": 15
        }
      ],
      "outputs": [
        {
          "label": "图像",
          "name": "IMAGE",
          "shape": 6,
          "type": "IMAGE",
          "links": [
            11
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "ImpactImageBatchToImageList",
        "cnr_id": "comfyui-impact-pack",
        "ver": "8.17.1",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 19,
      "type": "ReferenceLatent",
      "pos": {
        "0": 2811.54296875,
        "1": 737.32958984375
      },
      "size": {
        "0": 220.6419219970703,
        "1": 51.528995513916016
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "label": "conditioning",
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 17
        },
        {
          "label": "latent",
          "name": "latent",
          "shape": 7,
          "type": "LATENT",
          "link": 18
        }
      ],
      "outputs": [
        {
          "label": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            19
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "ReferenceLatent",
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 22,
      "type": "VAEDecode",
      "pos": {
        "0": 3762.474365234375,
        "1": 721.9559936523438
      },
      "size": {
        "0": 181.38809204101562,
        "1": 46
      },
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "label": "Latent",
          "name": "samples",
          "type": "LATENT",
          "link": 47
        },
        {
          "label": "VAE",
          "name": "vae",
          "type": "VAE",
          "link": 50
        }
      ],
      "outputs": [
        {
          "label": "图像",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            27
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "VAEDecode",
        "cnr_id": "comfy-core",
        "ver": "0.3.53",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 24,
      "type": "ImageListToBatch+",
      "pos": {
        "0": 4005.3857421875,
        "1": 723.0614013671875
      },
      "size": {
        "0": 188.57354736328125,
        "1": 31.435504913330078
      },
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "label": "图像",
          "name": "image",
          "type": "IMAGE",
          "link": 27
        }
      ],
      "outputs": [
        {
          "label": "图像",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            31
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "ImageListToBatch+",
        "cnr_id": "comfyui_essentials",
        "ver": "1.1.0",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 25,
      "type": "TTP_Image_Tile_Batch",
      "pos": {
        "0": 1969.537353515625,
        "1": 1103.179443359375
      },
      "size": {
        "0": 250.18014526367188,
        "1": 142
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 54
        },
        {
          "label": "tile_width",
          "name": "tile_width",
          "type": "INT",
          "widget": {
            "name": "tile_width"
          },
          "link": 29
        },
        {
          "label": "tile_height",
          "name": "tile_height",
          "type": "INT",
          "widget": {
            "name": "tile_height"
          },
          "link": 30
        }
      ],
      "outputs": [
        {
          "label": "IMAGES",
          "name": "IMAGES",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            15
          ]
        },
        {
          "label": "POSITIONS",
          "name": "POSITIONS",
          "type": "LIST",
          "slot_index": 1,
          "links": [
            32
          ]
        },
        {
          "label": "ORIGINAL_SIZE",
          "name": "ORIGINAL_SIZE",
          "type": "TUPLE",
          "slot_index": 2,
          "links": [
            33
          ]
        },
        {
          "label": "GRID_SIZE",
          "name": "GRID_SIZE",
          "type": "TUPLE",
          "slot_index": 3,
          "links": [
            34
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "TTP_Image_Tile_Batch",
        "cnr_id": "comfyui_ttp_toolset",
        "ver": "08fb8b9808b844a0137399b6fd34eec1e13e62d3",
        "ue_properties": {
          "widget_ue_connectable": {
            "tile_width": true,
            "tile_height": true
          },
          "version": "7.0.1"
        },
        "widget_ue_connectable": {
          "tile_width": true,
          "tile_height": true
        }
      },
      "widgets_values": [
        1024,
        1024
      ]
    },
    {
      "id": 27,
      "type": "TTP_Tile_image_size",
      "pos": {
        "0": 1603.6092529296875,
        "1": 1107.0594482421875
      },
      "size": {
        "0": 294.6419677734375,
        "1": 126
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 53
        },
        {
          "label": "width_factor",
          "name": "width_factor",
          "type": "INT",
          "widget": {
            "name": "width_factor"
          },
          "link": 36
        },
        {
          "label": "height_factor",
          "name": "height_factor",
          "type": "INT",
          "widget": {
            "name": "height_factor"
          },
          "link": 37
        }
      ],
      "outputs": [
        {
          "label": "tile_width",
          "name": "tile_width",
          "type": "INT",
          "slot_index": 0,
          "links": [
            29
          ]
        },
        {
          "label": "tile_height",
          "name": "tile_height",
          "type": "INT",
          "slot_index": 1,
          "links": [
            30
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "TTP_Tile_image_size",
        "cnr_id": "comfyui_ttp_toolset",
        "ver": "08fb8b9808b844a0137399b6fd34eec1e13e62d3",
        "ue_properties": {
          "widget_ue_connectable": {
            "height_factor": true,
            "overlap_rate": true,
            "width_factor": true
          },
          "version": "7.0.1"
        },
        "widget_ue_connectable": {
          "height_factor": true,
          "width_factor": true
        }
      },
      "widgets_values": [
        2,
        3,
        0.05
      ]
    },
    {
      "id": 28,
      "type": "LayerUtility: NumberCalculatorV2",
      "pos": {
        "0": 1198.9952392578125,
        "1": 1171.958251953125
      },
      "size": {
        "0": 314.6441345214844,
        "1": 146
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "label": "a",
          "name": "a",
          "shape": 7,
          "type": "*",
          "link": 57
        },
        {
          "label": "b",
          "name": "b",
          "shape": 7,
          "type": "*"
        }
      ],
      "outputs": [
        {
          "label": "int",
          "name": "int",
          "type": "INT",
          "links": [
            37
          ]
        },
        {
          "label": "float",
          "name": "float",
          "type": "FLOAT"
        },
        {
          "label": "string",
          "name": "string",
          "type": "STRING"
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "LayerUtility: NumberCalculatorV2",
        "cnr_id": "comfyui_layerstyle",
        "ver": "42ccdd8f75ab312285eaa77073a5cc20bdba484c",
        "ue_properties": {
          "widget_ue_connectable": {
            "a_value": true,
            "operator": true,
            "b_value": true
          },
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "",
        "1024",
        "//"
      ],
      "color": "rgba(38, 73, 116, 0.7)"
    },
    {
      "id": 32,
      "type": "Image Comparer (rgthree)",
      "pos": {
        "0": 3075.088623046875,
        "1": 1617.1187744140625
      },
      "size": {
        "0": 696.9678955078125,
        "1": 892.4883422851562
      },
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "label": "图像_A",
          "name": "image_a",
          "type": "IMAGE",
          "link": 41
        },
        {
          "dir": 3,
          "label": "图像_B",
          "name": "image_b",
          "type": "IMAGE",
          "link": 42
        }
      ],
      "outputs": [],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "comparer_mode": "Slide",
        "cnr_id": "rgthree-comfy",
        "ver": "dbc5fa5e89b6a8b6a1a1dda787505b690f18026c",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "https://images-tmp-wm.liblib.cloud/sd-images/9b675fd0ecea69c008135405b289ebbd14a7192c474754be7a918d8a0a3573f9.png?filename=sd-images/9b675fd0ecea69c008135405b289ebbd14a7192c474754be7a918d8a0a3573f9.png&type=output&rand=0.6028496935260932"
          },
          {
            "name": "B",
            "selected": true,
            "url": "https://images-tmp-wm.liblib.cloud/sd-images/0a665946dc3b9d8ebaa92ca2a583986e083b0be3e667cb419b575374b2ec505f.png?filename=sd-images/0a665946dc3b9d8ebaa92ca2a583986e083b0be3e667cb419b575374b2ec505f.png&type=output&rand=0.05698254752653642"
          }
        ]
      ]
    },
    {
      "id": 31,
      "type": "SaveImage",
      "pos": {
        "0": 2306.23388671875,
        "1": 1619.77294921875
      },
      "size": {
        "0": 683.3663330078125,
        "1": 884.0001220703125
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "label": "图像",
          "name": "images",
          "type": "IMAGE",
          "link": 40
        }
      ],
      "outputs": [],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "SaveImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.53",
        "ue_properties": {
          "widget_ue_connectable": {
            "filename_prefix": true
          },
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "ComfyUI",
        ""
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 30,
      "type": "LoadImage",
      "pos": {
        "0": 1577.0736083984375,
        "1": 1619.720947265625
      },
      "size": {
        "0": 665.486328125,
        "1": 886.3092651367188
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "图像",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            42,
            55
          ]
        },
        {
          "label": "遮罩",
          "name": "MASK",
          "type": "MASK"
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "LoadImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.53",
        "ue_properties": {
          "widget_ue_connectable": {
            "image": true,
            "upload": true
          },
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "0 (1).png",
        "image",
        ""
      ],
      "color": "#232",
      "bgcolor": "#353",
      "_widget_cache_map": {
        "0 (1).png": {
          "value": "img/5c9f1753439746439994a8f1189fc6d4/dae60f87b69e33582020c0817d01c93bd4efa7a9a376ff9ebdf18a5d4efb68d3.png",
          "name": "0 (1).png",
          "url": "https://liblibai-tmp-image.liblib.cloud/img/5c9f1753439746439994a8f1189fc6d4/dae60f87b69e33582020c0817d01c93bd4efa7a9a376ff9ebdf18a5d4efb68d3.png",
          "width": 1024,
          "height": 1536
        }
      }
    },
    {
      "id": 26,
      "type": "TTP_Image_Assy",
      "pos": {
        "0": 4264.60546875,
        "1": 1095.8931884765625
      },
      "size": {
        "0": 278.79998779296875,
        "1": 132.93994140625
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "label": "tiles",
          "name": "tiles",
          "type": "IMAGE",
          "link": 31
        },
        {
          "label": "positions",
          "name": "positions",
          "type": "LIST",
          "link": 32
        },
        {
          "label": "original_size",
          "name": "original_size",
          "type": "TUPLE",
          "link": 33
        },
        {
          "label": "grid_size",
          "name": "grid_size",
          "type": "TUPLE",
          "link": 34
        }
      ],
      "outputs": [
        {
          "label": "RECONSTRUCTED_IMAGE",
          "name": "RECONSTRUCTED_IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            40,
            41
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "TTP_Image_Assy",
        "cnr_id": "comfyui_ttp_toolset",
        "ver": "08fb8b9808b844a0137399b6fd34eec1e13e62d3",
        "ue_properties": {
          "widget_ue_connectable": {
            "padding": true
          },
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        128
      ]
    },
    {
      "id": 33,
      "type": "UNETLoader",
      "pos": {
        "0": 2050.13525390625,
        "1": 308.5675048828125
      },
      "size": {
        "0": 435.9210510253906,
        "1": 82
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "模型",
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            43
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "UNETLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.15"
      },
      "widgets_values": [
        "F.1 Kontext dev_fp8",
        "fp8_e4m3fn"
      ],
      "_widget_cache_map": {
        "F.1基础模型_fp16": {
          "name": "F.1基础模型_fp16",
          "baseType": 19,
          "value": "96c20952b98b474dbd500dddfc08002b"
        },
        "F.1 Kontext dev_fp8": {
          "name": "F.1 Kontext dev_fp8",
          "baseType": 31,
          "value": "055884abd26243c688e0827eada6df6b"
        }
      }
    },
    {
      "id": 34,
      "type": "LoraLoaderModelOnly",
      "pos": {
        "0": 2546.38232421875,
        "1": 307.4007263183594
      },
      "size": {
        "0": 437.0442810058594,
        "1": 82
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "label": "模型",
          "name": "model",
          "type": "MODEL",
          "link": 43
        }
      ],
      "outputs": [
        {
          "label": "模型",
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            44
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "LoraLoaderModelOnly",
        "cnr_id": "comfy-core",
        "ver": "0.3.15"
      },
      "widgets_values": [
        "KontextHiRes_Kontext_高分辨率细节优化_V1.0",
        0.1
      ],
      "_widget_cache_map": {
        "AWPortraitFL LoRA_1.0": {
          "name": "AWPortraitFL LoRA_1.0",
          "baseType": 19,
          "value": "337719652f0542c9acd9cf8996015d26"
        },
        "东方女孩_1.0": {
          "name": "东方女孩_1.0",
          "baseType": 19,
          "value": "9f5f7cd6221c404685197e30910fea6d"
        },
        "东方少女_3.0": {
          "name": "东方少女_3.0",
          "baseType": 19,
          "value": "718680a636bd4059953682f39d0ecd9c"
        },
        "KontextHiRes_Kontext_高分辨率细节优化_V1.0": {
          "name": "KontextHiRes_Kontext_高分辨率细节优化_V1.0",
          "baseType": 31,
          "value": "bc15c56bbe634891bc0c5bad42075d82"
        }
      }
    },
    {
      "id": 21,
      "type": "ConditioningZeroOut",
      "pos": {
        "0": 3126.10546875,
        "1": 886.0573120117188
      },
      "size": {
        "0": 197.712890625,
        "1": 26
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "label": "条件",
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 20
        }
      ],
      "outputs": [
        {
          "label": "条件",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            46
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "ConditioningZeroOut",
        "cnr_id": "comfy-core",
        "ver": "0.3.53",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 11,
      "type": "VAEEncode",
      "pos": {
        "0": 2499.3271484375,
        "1": 737.8721923828125
      },
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "label": "图像",
          "name": "pixels",
          "type": "IMAGE",
          "link": 11
        },
        {
          "label": "VAE",
          "name": "vae",
          "type": "VAE",
          "link": 49
        }
      ],
      "outputs": [
        {
          "label": "Latent",
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            18,
            48
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "VAEEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.53",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 38,
      "type": "KSampler",
      "pos": {
        "0": 3429.55517578125,
        "1": 718.4048461914062
      },
      "size": {
        "0": 270.4441223144531,
        "1": 273.7176818847656
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "label": "模型",
          "name": "model",
          "type": "MODEL",
          "link": 52
        },
        {
          "label": "正面条件",
          "name": "positive",
          "type": "CONDITIONING",
          "link": 45
        },
        {
          "label": "负面条件",
          "name": "negative",
          "type": "CONDITIONING",
          "link": 46
        },
        {
          "label": "Latent",
          "name": "latent_image",
          "type": "LATENT",
          "link": 48
        }
      ],
      "outputs": [
        {
          "label": "Latent",
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            47
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "KSampler",
        "cnr_id": "comfy-core",
        "ver": "0.3.15"
      },
      "widgets_values": [
        979044276554959,
        "randomize",
        25,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 39,
      "type": "LayerUtility: ImageScaleByAspectRatio V2",
      "pos": {
        "0": 772.8035278320312,
        "1": 1088.98681640625
      },
      "size": {
        "0": 315,
        "1": 330
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "label": "图像",
          "name": "image",
          "shape": 7,
          "type": "IMAGE",
          "link": 55
        },
        {
          "label": "遮罩",
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "图像",
          "name": "image",
          "type": "IMAGE",
          "links": [
            53,
            54
          ]
        },
        {
          "label": "遮罩",
          "name": "mask",
          "type": "MASK",
          "links": null
        },
        {
          "label": "原始大小",
          "name": "original_size",
          "type": "BOX",
          "links": null
        },
        {
          "name": "width",
          "type": "INT",
          "links": [
            56
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            57
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "LayerUtility: ImageScaleByAspectRatio V2"
      },
      "widgets_values": [
        "original",
        1,
        1,
        "fill",
        "lanczos",
        "16",
        "longest",
        4096,
        "#000000"
      ],
      "color": "rgba(38, 73, 116, 0.7)"
    },
    {
      "id": 37,
      "type": "VAELoader",
      "pos": {
        "0": 1765.7208251953125,
        "1": 573.7235107421875
      },
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            49,
            50
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "VAELoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.15"
      },
      "widgets_values": [
        "ae.sft"
      ]
    },
    {
      "id": 35,
      "type": "TeaCache",
      "pos": {
        "0": 3052.725341796875,
        "1": 304.6206970214844
      },
      "size": {
        "0": 315,
        "1": 154
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 44
        }
      ],
      "outputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "links": [
            52
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "TeaCache"
      },
      "widgets_values": [
        "flux-kontext",
        0.2,
        0,
        1,
        "cuda"
      ]
    },
    {
      "id": 18,
      "type": "CLIPTextEncode",
      "pos": {
        "0": 2558.749755859375,
        "1": 866.5413818359375
      },
      "size": {
        "0": 240.1027374267578,
        "1": 93
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "label": "CLIP",
          "name": "clip",
          "type": "CLIP",
          "link": 51
        }
      ],
      "outputs": [
        {
          "label": "条件",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            17,
            20
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "CLIPTextEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.53",
        "ue_properties": {
          "widget_ue_connectable": {
            "text": true
          },
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "high quality, detailed, "
      ]
    },
    {
      "id": 36,
      "type": "DualCLIPLoader",
      "pos": {
        "0": 1766.7313232421875,
        "1": 743.7169799804688
      },
      "size": {
        "0": 315,
        "1": 130
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "CLIP",
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            51
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "DualCLIPLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.15"
      },
      "widgets_values": [
        "clip_l",
        "t5xxl_fp16",
        "flux",
        "default"
      ]
    },
    {
      "id": 20,
      "type": "FluxGuidance",
      "pos": {
        "0": 3116.623291015625,
        "1": 737.9814453125
      },
      "size": {
        "0": 222.97036743164062,
        "1": 74.02227783203125
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "label": "条件",
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 19
        }
      ],
      "outputs": [
        {
          "label": "条件",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            45
          ]
        }
      ],
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "FluxGuidance",
        "cnr_id": "comfy-core",
        "ver": "0.3.53",
        "ue_properties": {
          "widget_ue_connectable": {
            "guidance": true
          },
          "version": "7.0.1"
        },
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        2.5
      ]
    }
  ],
  "links": [
    [
      11,
      17,
      0,
      11,
      0,
      "IMAGE"
    ],
    [
      15,
      25,
      0,
      17,
      0,
      "IMAGE"
    ],
    [
      17,
      18,
      0,
      19,
      0,
      "CONDITIONING"
    ],
    [
      18,
      11,
      0,
      19,
      1,
      "LATENT"
    ],
    [
      19,
      19,
      0,
      20,
      0,
      "CONDITIONING"
    ],
    [
      20,
      18,
      0,
      21,
      0,
      "CONDITIONING"
    ],
    [
      27,
      22,
      0,
      24,
      0,
      "IMAGE"
    ],
    [
      29,
      27,
      0,
      25,
      1,
      "INT"
    ],
    [
      30,
      27,
      1,
      25,
      2,
      "INT"
    ],
    [
      31,
      24,
      0,
      26,
      0,
      "IMAGE"
    ],
    [
      32,
      25,
      1,
      26,
      1,
      "LIST"
    ],
    [
      33,
      25,
      2,
      26,
      2,
      "TUPLE"
    ],
    [
      34,
      25,
      3,
      26,
      3,
      "TUPLE"
    ],
    [
      36,
      10,
      0,
      27,
      1,
      "INT"
    ],
    [
      37,
      28,
      0,
      27,
      2,
      "INT"
    ],
    [
      40,
      26,
      0,
      31,
      0,
      "IMAGE"
    ],
    [
      41,
      26,
      0,
      32,
      0,
      "IMAGE"
    ],
    [
      42,
      30,
      0,
      32,
      1,
      "IMAGE"
    ],
    [
      43,
      33,
      0,
      34,
      0,
      "MODEL"
    ],
    [
      44,
      34,
      0,
      35,
      0,
      "MODEL"
    ],
    [
      45,
      20,
      0,
      38,
      1,
      "CONDITIONING"
    ],
    [
      46,
      21,
      0,
      38,
      2,
      "CONDITIONING"
    ],
    [
      47,
      38,
      0,
      22,
      0,
      "LATENT"
    ],
    [
      48,
      11,
      0,
      38,
      3,
      "LATENT"
    ],
    [
      49,
      37,
      0,
      11,
      1,
      "VAE"
    ],
    [
      50,
      37,
      0,
      22,
      1,
      "VAE"
    ],
    [
      51,
      36,
      0,
      18,
      0,
      "CLIP"
    ],
    [
      52,
      35,
      0,
      38,
      0,
      "MODEL"
    ],
    [
      53,
      39,
      0,
      27,
      0,
      "IMAGE"
    ],
    [
      54,
      39,
      0,
      25,
      0,
      "IMAGE"
    ],
    [
      55,
      30,
      0,
      39,
      0,
      "IMAGE"
    ],
    [
      56,
      39,
      3,
      10,
      0,
      "*"
    ],
    [
      57,
      39,
      4,
      28,
      0,
      "*"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.23092115320382173,
      "offset": [
        841.3211468170903,
        -73.76727108278169
      ]
    },
    "linkExtensions": [
      {
        "id": 40,
        "parentId": 2
      },
      {
        "id": 41,
        "parentId": 1
      },
      {
        "id": 55,
        "parentId": 3
      }
    ],
    "reroutes": [
      {
        "id": 1,
        "pos": [
          4593.66796875,
          1626.746826171875
        ],
        "linkIds": [
          41
        ]
      },
      {
        "id": 2,
        "pos": [
          4593.48779296875,
          1622.965576171875
        ],
        "linkIds": [
          40
        ]
      },
      {
        "id": 3,
        "pos": [
          701.7234497070312,
          1628.939453125
        ],
        "linkIds": [
          55
        ]
      }
    ],
    "links_added_by_ue": [],
    "VHS_KeepIntermediate": true,
    "ue_links": [],
    "VHS_MetadataImage": true,
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "VHS_latentpreviewrate": 0,
    "frontendVersion": "1.23.0",
    "VHS_latentpreview": false
  },
  "version": 0.4,
  "widget_idx_map": {
    "38": {
      "seed": 0,
      "sampler_name": 4,
      "scheduler": 5
    }
  },
  "seed_widgets": {
    "38": 0
  }
}