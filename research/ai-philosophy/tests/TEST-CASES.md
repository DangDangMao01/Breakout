# Kiro Knowledge Base 插件测试用例

> 版本: 2.4.0  
> 更新日期: 2025-12-25

---

## 测试环境准备

### 前置条件
- [ ] VS Code / Kiro 已安装
- [ ] 已安装最新版本 VSIX
- [ ] 准备一个测试项目文件夹

### 测试数据
- 中央知识库路径: `D:\G_GitHub\KiroKnowledgeBase` (或自定义)
- 测试项目路径: (任意空文件夹)

---

## TC-001: 插件安装测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证插件能正确安装并激活 |
| 前置条件 | 无 |

### 测试步骤
1. 打开 VS Code/Kiro
2. 按 `Ctrl+Shift+X` 打开扩展面板
3. 点击 `...` → `从 VSIX 安装`
4. 选择 `kiro-knowledge-base-x.x.x.vsix`
5. 等待安装完成

### 预期结果

#### 1.1 未配置中央知识库路径
- [ ] 弹出提示: "Kiro 知识库：未检测到中央知识库路径，请先设置"
- [ ] 提供 "立即设置" 按钮

#### 1.2 已配置但路径不存在
- [ ] 弹出警告: "Kiro 知识库：中央知识库路径不存在"
- [ ] 提供 "重新设置" 按钮

#### 1.3 已配置且有本地知识库
- [ ] 自动检测本地 knowledge-base 文件夹
- [ ] 如有新文件，提示: "📚 检测到 X 个新的知识库文件，是否同步到中央知识库？"
- [ ] 提供 "立即同步" / "稍后" 选项

#### 1.4 打开中央知识库
- [ ] 识别当前工作区是中央知识库
- [ ] 不提示同步，改为检查内容状态
- [ ] 提示: "📋 中央知识库检查: X 个文件缺少 YAML 元数据，Y 个文件未分类"
- [ ] 提供 "让 Kiro 整理" / "查看详情" / "稍后" 选项
- [ ] 如果所有文件已分类，显示 "✅ 中央知识库状态良好"

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-002: Setup 命令测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证 Setup 命令能正确初始化知识库 |
| 前置条件 | TC-001 通过 |

### 测试步骤
1. 按 `Ctrl+Shift+P` 打开命令面板
2. 输入 `Kiro KB: Setup Knowledge Base`
3. 输入知识库路径 (如 `E:\TestKB`)
4. 确认

### 预期结果
- [ ] 弹出路径输入框
- [ ] 显示 "Kiro 知识库设置完成：[路径]"
- [ ] 创建目录结构:
  - [ ] `knowledge-base/discussions/`
  - [ ] `knowledge-base/solutions/`
  - [ ] `knowledge-base/notes/`
  - [ ] `knowledge-base/README.md`
  - [ ] `knowledge-base/PROGRESS.md`
- [ ] 创建 Steering 规则: `~/.kiro/steering/check-knowledge-base.md`

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-003: Generate Index 命令测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证索引生成功能 |
| 前置条件 | TC-002 通过，知识库中有 .md 文件 |

### 测试步骤
1. 确保知识库中有一些 .md 文件
2. 按 `Ctrl+Shift+P`
3. 输入 `Kiro KB: Generate Index`
4. 执行

### 预期结果
- [ ] 显示 "索引已生成，共 X 个文件"
- [ ] 生成 `INDEX.md` 文件
- [ ] INDEX.md 包含按领域分类的文件列表
- [ ] 正确识别 YAML front-matter 中的 domain 和 tags

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-004: Sync 命令测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证同步功能 |
| 前置条件 | TC-002 通过 |

### 测试步骤

#### 4.1 无本地知识库测试
1. 打开一个没有 knowledge-base 文件夹的项目
2. 执行 `Kiro KB: Sync to Central Repository`

**预期结果:**
- [ ] 提示 "当前项目没有 knowledge-base 文件夹，是否创建？"
- [ ] 选择"创建"后生成目录结构

#### 4.2 有本地知识库测试
1. 在本地 knowledge-base 中创建测试文件
2. 执行 `Kiro KB: Sync to Central Repository`

**预期结果:**
- [ ] 显示 "✅ 已同步 X 个文件到中央知识库"
- [ ] 文件以 `项目名-原文件名` 格式保存到中央知识库
- [ ] 可选择"查看详情"或"打开知识库"

#### 4.3 重复同步测试
1. 再次执行 Sync 命令

**预期结果:**
- [ ] 显示 "所有 X 个文件已存在于中央知识库，无需同步"

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-005: Open Knowledge Base 命令测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证打开知识库功能 |
| 前置条件 | TC-002 通过 |

### 测试步骤
1. 执行 `Kiro KB: Open Knowledge Base`
2. 测试每个选项:

#### 5.1 在新窗口打开
- [ ] 选择 "📂 在新窗口打开"
- [ ] 预期: 新 VS Code 窗口打开知识库文件夹

#### 5.2 打开 INDEX.md
- [ ] 选择 "📄 打开 INDEX.md"
- [ ] 预期: 在当前窗口打开索引文件
- [ ] 如果不存在，提示是否生成

#### 5.3 打开 PROGRESS.md
- [ ] 选择 "📊 打开 PROGRESS.md"
- [ ] 预期: 在当前窗口打开进度文件

#### 5.4 在文件管理器中打开
- [ ] 选择 "📁 在文件管理器中打开"
- [ ] 预期: 系统文件管理器打开知识库文件夹

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-006: 智能空闲提醒测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证智能空闲提醒功能（v1.8.0 新增） |
| 前置条件 | TC-001 通过 |

### 测试步骤

#### 6.1 工作量不足时不提醒
1. 打开设置，将 `kiro-kb.idleReminderMinutes` 设为 1
2. 重新加载窗口
3. 只做少量编辑（少于 20 次）
4. 等待 1 分钟不操作

**预期结果:**
- [ ] 不弹出提醒（工作量不足）

#### 6.2 工作量足够时提醒
1. 进行大量编辑（超过 20 次）
2. 工作超过 5 分钟
3. 等待空闲超时

**预期结果:**
- [ ] 弹出提示 "💡 本次会话已工作 X 分钟，编辑 Y 次 - 有价值的内容记得保存！"
- [ ] "评估并保存" 按钮显示保存提示并重置计数
- [ ] "稍后提醒" 按钮重置计时器
- [ ] "本次不再提醒" 按钮禁用本次会话提醒

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-007: 错误报告功能测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证自动错误捕获和报告功能 |
| 前置条件 | TC-001 通过 |

### 测试步骤

#### 7.1 触发错误
1. 设置一个不存在的知识库路径
2. 执行 `Kiro KB: Generate Index`

**预期结果:**
- [ ] 显示错误提示 "Kiro KB 错误 (generateIndex): ..."
- [ ] 提供三个选项: "提交错误报告" / "不提交" / "关闭"

#### 7.2 提交错误报告
1. 点击 "提交错误报告"

**预期结果:**
- [ ] 生成错误报告文件到 `kiro-kb-plugin/error-reports/`
- [ ] 文件名格式: `error-{timestamp}-{platform}.md`
- [ ] 文件包含环境信息、错误信息、错误堆栈
- [ ] 提供 "打开文件" / "打开 GitHub" / "确定" 选项

#### 7.3 不提交错误报告
1. 触发错误后点击 "不提交"

**预期结果:**
- [ ] 显示 "已跳过错误报告"
- [ ] 不生成错误报告文件

#### 7.4 切换错误报告功能
1. 执行 `Kiro KB: Toggle Error Reporting`

**预期结果:**
- [ ] 显示 "错误报告功能已启用/禁用"
- [ ] 配置项 `kiro-kb.errorReportEnabled` 更新

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-008: 配置项测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证配置项正确工作 |
| 前置条件 | TC-001 通过 |

### 测试步骤
1. 打开设置 (`Ctrl+,`)
2. 搜索 `kiro-kb`
3. 测试各配置项:

#### 8.1 centralPath
- [ ] 修改路径后，命令使用新路径

#### 8.2 idleReminderMinutes
- [ ] 设为 0 禁用提醒
- [ ] 设为其他值改变提醒间隔

#### 8.3 autoSave
- [ ] 配置项存在（预留功能）

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-009: 错误处理测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证错误情况的处理 |
| 前置条件 | TC-001 通过 |

### 测试步骤

#### 9.1 未设置知识库路径
1. 清除 `kiro-kb.centralPath` 配置
2. 执行任意命令

**预期结果:**
- [ ] 显示错误提示并提供"立即设置"选项

#### 9.2 知识库路径不存在
1. 设置一个不存在的路径
2. 执行 Sync 或 Open 命令

**预期结果:**
- [ ] 显示 "中央知识库路径不存在" 错误

#### 9.3 无工作区
1. 关闭所有文件夹
2. 执行 Sync 命令

**预期结果:**
- [ ] 显示 "没有打开工作区文件夹" 错误

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-010: 中央知识库验证测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证中央知识库路径验证功能 (v1.8.1 新增) |
| 前置条件 | TC-001 通过 |

### 测试步骤

#### 10.1 有效路径测试
1. 设置一个有效的知识库路径（包含 discussions/solutions/notes 目录）
2. 重新加载窗口

**预期结果:**
- [ ] 验证通过，正常进入自动检测流程

#### 10.2 无效路径测试
1. 设置一个存在但不是知识库的路径（如 C:\Windows）
2. 重新加载窗口

**预期结果:**
- [ ] 显示警告 "Kiro 知识库：路径验证失败 - 该路径不是有效的知识库"
- [ ] 提供 "重新设置" / "查看详情" 选项

#### 10.3 查看验证详情
1. 触发验证失败后点击 "查看详情"

**预期结果:**
- [ ] 显示每项检查结果（✅/❌/⚠️）
- [ ] 包含目录检查和文档检查

#### 10.4 路径变更提示
1. 设置一个不存在的路径
2. 重新加载窗口

**预期结果:**
- [ ] 显示 "中央知识库路径不存在...可能路径已变更"
- [ ] 提供 "重新设置" / "忽略" 选项

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-011: 跨设备测试

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证插件在不同设备上的兼容性 |
| 前置条件 | 有多台设备 |

### 测试步骤
1. 在设备 A 安装插件并设置知识库
2. 将知识库同步到 Git
3. 在设备 B 安装插件
4. 设置相同的知识库路径
5. 测试各功能

### 预期结果
- [ ] 两台设备都能正常使用
- [ ] 知识库内容同步正确
- [ ] Steering 规则在两台设备都生效

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-012: 自动同步选项测试 (v1.8.3 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证自动同步/手动同步选项功能 |
| 前置条件 | TC-002 通过，有本地知识库文件 |

### 测试步骤

#### 12.1 手动同步模式（默认）
1. 确保 `kiro-kb.autoSync` 设置为 `false`
2. 在本地 knowledge-base 中创建新文件
3. 重新加载窗口

**预期结果:**
- [ ] 弹出提示 "📚 检测到 X 个新的知识库文件，是否同步到中央知识库？"
- [ ] 提供 "立即同步" / "稍后" 选项
- [ ] 用户选择后才执行同步

#### 12.2 自动同步模式
1. 打开设置，将 `kiro-kb.autoSync` 设为 `true`
2. 在本地 knowledge-base 中创建新文件
3. 重新加载窗口

**预期结果:**
- [ ] 显示 "📚 自动同步：正在同步 X 个新文件到中央知识库..."
- [ ] 自动执行同步，无需用户确认

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-013: 智能整理功能测试 (v2.0.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证打开中央知识库时的智能整理功能 |
| 前置条件 | 中央知识库中有多个文件，部分缺少 YAML 元数据 |

### 测试步骤

#### 13.1 检测缺少 YAML 的文件
1. 在中央知识库中创建一个没有 YAML front-matter 的 .md 文件
2. 用 Kiro 打开中央知识库

**预期结果:**
- [ ] 显示 "📋 中央知识库检查: X 个文件缺少 YAML 元数据"
- [ ] 提供 "智能整理" / "查看关联" / "查看详情" / "稍后" 选项

#### 13.2 智能整理任务生成
1. 点击 "智能整理"

**预期结果:**
- [ ] 生成整理任务清单文档
- [ ] 文档包含需要添加 YAML 的文件列表
- [ ] 文档包含相关文件分析
- [ ] 显示提示 "已生成整理任务清单，请告诉 Kiro：按照任务清单整理知识库"

#### 13.3 查看详情
1. 点击 "查看详情"

**预期结果:**
- [ ] 显示需要整理的文件列表
- [ ] 标注每个文件的问题（缺少YAML / 未分类）

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-014: 关联检测功能测试 (v2.0.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证相关文件检测和关联报告功能 |
| 前置条件 | 中央知识库中有多个相关文件（共同标签或相同领域） |

### 测试步骤

#### 14.1 准备测试数据
1. 创建两个文件，包含相同的 2 个以上标签：
   ```yaml
   # 文件1
   ---
   domain: kiro
   tags: [plugin, vscode, extension]
   ---
   
   # 文件2
   ---
   domain: kiro
   tags: [plugin, vscode, typescript]
   ---
   ```
2. 用 Kiro 打开中央知识库

**预期结果:**
- [ ] 检测到关联文件
- [ ] 显示 "X 组相关文件可合并"

#### 14.2 查看关联报告
1. 点击 "查看关联"

**预期结果:**
- [ ] 生成关联文件分析报告
- [ ] 报告包含文件对比表格（路径、领域、标签）
- [ ] 显示关联原因（共同标签 / 相同领域且标题相似）
- [ ] 提供建议操作选项（合并 / 互相引用 / 保持独立）
- [ ] 显示提示 "已生成关联文件报告，请告诉 Kiro：分析这些关联文件，建议是否合并"

#### 14.3 无关联文件
1. 确保知识库中没有高度相关的文件
2. 点击 "查看关联"

**预期结果:**
- [ ] 显示 "没有检测到高度相关的文件"

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-015: Steering 规则创建测试 (v1.9.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证 Setup 命令自动创建 Steering 规则 |
| 前置条件 | 无 |

### 测试步骤

#### 15.1 全局 Steering 规则
1. 删除 `~/.kiro/steering/check-knowledge-base.md`（如存在）
2. 执行 `Kiro KB: 设置知识库`
3. 输入知识库路径并确认

**预期结果:**
- [ ] 创建 `~/.kiro/steering/check-knowledge-base.md`
- [ ] 文件包含知识库路径配置
- [ ] 文件包含检索指令（ON USER QUESTION）
- [ ] 文件包含保存评估指令（ON AGENT COMPLETE）

#### 15.2 工作区 Steering 规则
1. 打开一个项目
2. 执行 `Kiro KB: 设置知识库`

**预期结果:**
- [ ] 创建 `.kiro/steering/kb-link.md`
- [ ] 文件包含知识库路径
- [ ] 文件包含检索指令

#### 15.3 Steering 规则生效验证
1. 开始新对话
2. 询问一个知识库中已有的问题

**预期结果:**
- [ ] Kiro 自动检索知识库
- [ ] 基于已有知识回答问题

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-016: 问题暂存功能测试 (v2.1.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证问题暂存功能 |
| 前置条件 | TC-002 通过 |

### 测试步骤

#### 16.1 暂存问题
1. 执行 `Kiro KB: 暂存问题`
2. 输入问题描述
3. 选择优先级（高/普通/低）
4. 选择类型（Bug/功能/灵感/疑问）

**预期结果:**
- [ ] 弹出问题输入框
- [ ] 弹出优先级选择（🔴高/🟡普通/🟢低）
- [ ] 弹出类型选择（🐛Bug/✨功能/💡灵感/❓疑问）
- [ ] 显示 "✅ 问题已暂存"
- [ ] 生成问题文件到 knowledge-base/backlog/
- [ ] 文件包含正确的 YAML 元数据

#### 16.2 暂存模式测试 - local
1. 设置 `kiro-kb.backlogMode` 为 `local`
2. 暂存一个问题

**预期结果:**
- [ ] 问题保存到当前项目的 knowledge-base/backlog/

#### 16.3 暂存模式测试 - central
1. 设置 `kiro-kb.backlogMode` 为 `central`
2. 暂存一个问题

**预期结果:**
- [ ] 问题直接保存到中央知识库的 backlog/pending/

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-017: 待办查看和处理测试 (v2.1.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证待办查看和处理功能 |
| 前置条件 | TC-016 通过，有待办问题 |

### 测试步骤

#### 17.1 查看待办列表
1. 执行 `Kiro KB: 查看待办`

**预期结果:**
- [ ] 显示待办问题列表
- [ ] 列表按优先级排序（高→普通→低）
- [ ] 同优先级按时间排序（旧→新）
- [ ] 显示优先级图标（🔴/🟡/🟢）
- [ ] 显示来源图标（📁本地/☁️中央）
- [ ] 超期问题显示警告（⚠️Xd）

#### 17.2 解决问题
1. 选择一个待办问题
2. 选择 "✅ 解决"

**预期结果:**
- [ ] 问题状态更新为 resolved
- [ ] 问题文件移动到 solutions/ 目录
- [ ] 显示 "✅ 问题已解决并归档"

#### 17.3 删除问题
1. 选择一个待办问题
2. 选择 "🗑️ 删除"
3. 确认删除

**预期结果:**
- [ ] 问题状态更新为 deleted
- [ ] 问题文件移动到 backlog/deleted/
- [ ] 显示 "已删除，将保留 60 天"

#### 17.4 让 Kiro 分析
1. 选择一个待办问题
2. 选择 "🤖 让 Kiro 分析"

**预期结果:**
- [ ] 显示提示 "请告诉 Kiro：分析这个问题并提供解决方案"

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-018: 待办提交到中央测试 (v2.1.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证本地待办提交到中央功能 |
| 前置条件 | TC-016 通过，有本地待办问题 |

### 测试步骤

#### 18.1 提交单个问题
1. 执行 `Kiro KB: 查看待办`
2. 选择一个本地问题
3. 选择 "☁️ 提交到中央"

**预期结果:**
- [ ] 问题文件复制到中央 backlog/pending/
- [ ] 本地文件删除
- [ ] 显示 "✅ 已提交 1 个问题到中央知识库"

#### 18.2 批量提交
1. 确保有多个本地待办问题
2. 执行 `Kiro KB: 提交到中央`

**预期结果:**
- [ ] 所有本地待办提交到中央
- [ ] 显示 "✅ 已提交 X 个问题到中央知识库"

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-019: 批量分析功能测试 (v2.1.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证批量分析功能 |
| 前置条件 | 中央知识库有待处理问题 |

### 测试步骤

#### 19.1 生成分析任务
1. 执行 `Kiro KB: 分析待办问题`

**预期结果:**
- [ ] 生成批量分析任务文档
- [ ] 文档列出所有待处理问题
- [ ] 每个问题有分析任务复选框
- [ ] 显示操作指南

#### 19.2 打开时自动询问
1. 设置 `kiro-kb.autoAnalyze` 为 `onOpen`
2. 打开中央知识库

**预期结果:**
- [ ] 显示待办统计
- [ ] 提供 "Kiro 批量分析" 选项

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-020: 多语言切换测试 (v2.1.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证中英文切换功能 |
| 前置条件 | TC-001 通过 |

### 测试步骤

#### 20.1 切换到英文
1. 执行 `Kiro KB: 切换语言`
2. 选择 "🇺🇸 English"

**预期结果:**
- [ ] 显示 "Language switched to: English"
- [ ] 配置项 `kiro-kb.language` 更新为 `en`
- [ ] 后续提示显示英文

#### 20.2 切换到中文
1. 执行 `Kiro KB: 切换语言`
2. 选择 "🇨🇳 中文"

**预期结果:**
- [ ] 显示 "界面语言已切换为: 中文"
- [ ] 配置项 `kiro-kb.language` 更新为 `zh`
- [ ] 后续提示显示中文

#### 20.3 验证各功能语言
1. 切换语言后测试各命令

**预期结果:**
- [ ] 所有提示信息使用选定语言
- [ ] 生成的文档使用选定语言

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-021: 状态栏显示测试 (v2.1.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证状态栏待办显示功能 |
| 前置条件 | TC-016 通过 |

### 测试步骤

#### 21.1 有待办时显示
1. 确保有本地或中央待办问题
2. 查看状态栏

**预期结果:**
- [ ] 状态栏显示 "📋 待办: X (本地) | Y (中央)"
- [ ] 点击状态栏打开待办列表

#### 21.2 无待办时隐藏
1. 解决或删除所有待办问题
2. 查看状态栏

**预期结果:**
- [ ] 状态栏待办图标隐藏

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-022: 自动清理过期问题测试 (v2.1.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证删除问题60天后自动清理功能 |
| 前置条件 | 有已删除的问题 |

### 测试步骤

#### 22.1 模拟过期删除
1. 手动修改一个已删除问题的 `deleted_date` 为 61 天前
2. 打开中央知识库

**预期结果:**
- [ ] 如果没有类似待处理问题，文件被彻底删除
- [ ] 如果有类似待处理问题，文件保留

#### 22.2 类似问题检测
1. 创建一个与已删除问题标题相似的待处理问题
2. 打开中央知识库

**预期结果:**
- [ ] 已删除问题因有类似问题而保留

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注:

---

## TC-023: 智能分类检测测试 (v2.2.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证问题智能分类功能 |
| 前置条件 | TC-001 通过 |

### 测试步骤

#### 23.1 Bug 类型检测
1. 执行 `Kiro KB: 暂存问题`
2. 输入包含 Bug 关键词的问题，如："程序报错了，无法启动"

**预期结果:**
- [ ] 显示 "🤖 智能检测：这看起来像是 Bug"
- [ ] 提供 "使用检测结果" / "手动选择" 选项

#### 23.2 Feature 类型检测
1. 执行 `Kiro KB: 暂存问题`
2. 输入包含 Feature 关键词的问题，如："希望能添加一个导出功能"

**预期结果:**
- [ ] 显示 "🤖 智能检测：这看起来像是 功能想法"

#### 23.3 Idea 类型检测
1. 执行 `Kiro KB: 暂存问题`
2. 输入包含 Idea 关键词的问题，如："有个灵感，如果能这样设计会更好"

**预期结果:**
- [ ] 显示 "🤖 智能检测：这看起来像是 灵感"

#### 23.4 无法检测时手动选择
1. 执行 `Kiro KB: 暂存问题`
2. 输入普通问题，如："1+1等于几"

**预期结果:**
- [ ] 不显示智能检测提示
- [ ] 直接显示手动选择分类列表

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-024: 智能优先级检测测试 (v2.2.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证问题智能优先级检测功能 |
| 前置条件 | TC-001 通过 |

### 测试步骤

#### 24.1 高优先级检测
1. 执行 `Kiro KB: 暂存问题`
2. 输入包含紧急关键词的问题，如："紧急！生产环境崩溃了"

**预期结果:**
- [ ] 显示 "🤖 智能检测：优先级建议为 高"
- [ ] 提供 "使用检测结果" / "手动选择" 选项

#### 24.2 低优先级检测
1. 执行 `Kiro KB: 暂存问题`
2. 输入包含低优先级关键词的问题，如："有空的时候考虑一下这个建议"

**预期结果:**
- [ ] 显示 "🤖 智能检测：优先级建议为 低"

#### 24.3 无法检测时手动选择
1. 执行 `Kiro KB: 暂存问题`
2. 输入普通问题

**预期结果:**
- [ ] 不显示智能检测提示
- [ ] 直接显示手动选择优先级列表

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

## TC-025: 知识库关联检测测试 (v2.2.0 新增)

| 项目 | 内容 |
|------|------|
| 测试目标 | 验证暂存时知识库关联检测功能 |
| 前置条件 | 中央知识库中有相关内容 |

### 测试步骤

#### 25.1 找到相关内容
1. 确保知识库中有包含 "插件" 关键词的文件
2. 执行 `Kiro KB: 暂存问题`
3. 输入 "插件开发遇到问题"

**预期结果:**
- [ ] 显示 "📚 知识库中找到相关内容：[文件名]"
- [ ] 提供 "查看相关" / "继续暂存" 选项

#### 25.2 查看相关内容
1. 点击 "查看相关"

**预期结果:**
- [ ] 打开相关文件
- [ ] 询问 "查看后是否继续暂存问题？"

#### 25.3 无相关内容
1. 执行 `Kiro KB: 暂存问题`
2. 输入知识库中没有的内容

**预期结果:**
- [ ] 不显示关联检测提示
- [ ] 直接保存问题

### 实际结果
- 状态: ⬜ 未测试 / ✅ 通过 / ❌ 失败
- 备注: 

---

| 测试用例 | 状态 | 测试人 | 测试日期 |
|----------|------|--------|----------|
| TC-001 安装测试 | ⬜ | | |
| TC-002 Setup 测试 | ⬜ | | |
| TC-003 Generate Index 测试 | ⬜ | | |
| TC-004 Sync 测试 | ⬜ | | |
| TC-005 Open KB 测试 | ⬜ | | |
| TC-006 空闲提醒测试 | ⬜ | | |
| TC-007 错误报告测试 | ⬜ | | |
| TC-008 配置项测试 | ⬜ | | |
| TC-009 错误处理测试 | ⬜ | | |
| TC-010 知识库验证测试 | ⬜ | | |
| TC-011 跨设备测试 | ⬜ | | |
| TC-012 自动同步选项测试 | ⬜ | | |
| TC-013 智能整理功能测试 | ⬜ | | |
| TC-014 关联检测功能测试 | ⬜ | | |
| TC-015 Steering 规则创建测试 | ⬜ | | |
| TC-016 问题暂存功能测试 | ⬜ | | |
| TC-017 待办查看和处理测试 | ⬜ | | |
| TC-018 待办提交到中央测试 | ⬜ | | |
| TC-019 批量分析功能测试 | ⬜ | | |
| TC-020 多语言切换测试 | ⬜ | | |
| TC-021 状态栏显示测试 | ⬜ | | |
| TC-022 自动清理过期问题测试 | ⬜ | | |
| TC-023 智能分类检测测试 | ⬜ | | |
| TC-024 智能优先级检测测试 | ⬜ | | |
| TC-025 知识库关联检测测试 | ⬜ | | |

---

## 问题记录

| 编号 | 测试用例 | 问题描述 | 严重程度 | 状态 |
|------|----------|----------|----------|------|
| | | | | |

---

## 版本测试历史

### v2.2.0 (2025-12-24)
- [ ] TC-023 智能分类检测测试
- [ ] TC-024 智能优先级检测测试
- [ ] TC-025 知识库关联检测测试

### v2.1.0 (2025-12-24)
- [ ] TC-016 问题暂存功能测试
- [ ] TC-017 待办查看和处理测试
- [ ] TC-018 待办提交到中央测试
- [ ] TC-019 批量分析功能测试
- [ ] TC-020 多语言切换测试
- [ ] TC-021 状态栏显示测试
- [ ] TC-022 自动清理过期问题测试

### v2.0.0 (2025-12-24)
- [ ] TC-013 智能整理功能测试
- [ ] TC-014 关联检测功能测试

### v1.9.0 (2025-12-24)
- [ ] TC-015 Steering 规则创建测试

### v1.8.3 (2025-12-24)
- [ ] TC-012 自动同步选项测试

### v1.4.0 (2025-12-23)
- [ ] 全部测试用例通过

### v1.3.0 (2025-12-23)
- [x] TC-001 安装测试
- [x] TC-002 Setup 测试
- [x] TC-003 Generate Index 测试
- [x] TC-006 空闲提醒测试
